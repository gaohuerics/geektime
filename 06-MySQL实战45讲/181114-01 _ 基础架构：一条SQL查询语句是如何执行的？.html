<head><meta charset="utf-8"><meta name="Keywords" content="极客时间,极客邦,极客邦科技,极客邦控股,极客时间App,专栏订阅,极客新闻,二叉树,极客Live,QCon,左耳听风,AI技术内参,大航海时代,陈皓,徐飞,洪亮劼,霍泰稳,池建强,Selina,Gary,InfoQ,极客搜索"><meta name="description" content="极客时间是极客邦科技出品的一款 IT 内容知识服务 App，内容包含专栏订阅、极客新闻、热点专题、直播、视频和音频等多形式的知识内容，并设有陈皓专栏、徐飞专栏、洪亮劼专栏等专栏供订阅。"><link rel="apple-touch-icon" sizes="180x180" href="//static001.geekbang.org/static/icon/time/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="//static001.geekbang.org/static/icon/time/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="//static001.geekbang.org/static/icon/time/favicon-16x16.png"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"><meta name="format-detection" content="telephone=no"><title>极客时间 | 01 | 基础架构：一条SQL查询语句是如何执行的？</title><script src="https://hm.baidu.com/hm.js?022f847c4e3acd44d4a2481d9187f1e6"></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://s1.pstatp.com/bytecom/resource/track_log/src/toutiao-track-log.js"></script><script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script><script type="text/javascript" src="//at.alicdn.com/t/font_372689_nw1guejwd2q.js"></script><script type="text/javascript">if(!('flex' in document.documentElement.style) && !navigator.userAgent.match(/spider|googlebot|bingbot|geekbang|yahoo! Slurp/i)){
        window.location.href = 'https://static001.geekbang.org/static/common/browser_update/index.html'
      }</script><script type="text/javascript">;(function(root) {
        root._tt_config = true;
        var ta = document.createElement('script'); ta.type = 'text/javascript'; ta.async = true;
        ta.src = document.location.protocol + '//' + 's1.pstatp.com/bytecom/resource/track_log/src/toutiao-track-log.js';
        ta.onerror = function () {
            var request = new XMLHttpRequest();
            var web_url = window.encodeURIComponent(window.location.href);
            var js_url  = ta.src;
            var url = '//ad.toutiao.com/link_monitor/cdn_failed?web_url=' + web_url + '&js_url=' + js_url + '&convert_id=1606932352132152';
            request.open('GET', url, true);
            request.send(null);
        }
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ta, s);
      })(window);</script><style type="text/css" abt="234"></style><link href="https://static001.geekbang.org/static/time/css/app.ba234b84d2a03d8399088e4f3c67606c.css" rel="stylesheet"><script>//remove 17173 video ad
doAdblock();
function doAdblock(){
    (function() {
        function A() {}
        A.prototype = {
            rules: {
                '17173_in':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFile(Customer)?\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_in_20150522.swf"
                },
                '17173_out':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFileFirstpage\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_out_20150522.swf"
                },
                '17173_live':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream(_firstpage)?\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_stream_20150522.swf"
                },
                '17173_live_out':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream_(custom)?Out\.swf/,
                    'replace':"http://swf.adtchrome.com/17173.out.Live.swf"
                }
            },
            _done: null,
            get done() {
                if(!this._done) {
                    this._done = new Array();
                }
                return this._done;
            },
            addAnimations: function() {
                var style = document.createElement('style');
                style.type = 'text/css';
                style.innerHTML = 'object,embed{\
                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;\
                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;\
                -o-animation-duration:.001s;-o-animation-name:playerInserted;\
                animation-duration:.001s;animation-name:playerInserted;}\
                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}';
                document.getElementsByTagName('head')[0].appendChild(style);
            },
            animationsHandler: function(e) {
                if(e.animationName === 'playerInserted') {
                    this.replace(e.target);
                }
            },
            replace: function(elem) {
                if(this.done.indexOf(elem) != -1) return;
                this.done.push(elem);
                var player = elem.data || elem.src;
                if(!player) return;
                var i, find, replace = false;
                for(i in this.rules) {
                    find = this.rules[i]['find'];
                    if(find.test(player)) {
                        replace = this.rules[i]['replace'];
                        if('function' === typeof this.rules[i]['preHandle']) {
                            this.rules[i]['preHandle'].bind(this, elem, find, replace, player)();
                        }else{
                            this.reallyReplace.bind(this, elem, find, replace)();
                        }
                        break;
                    }
                }
            },
            reallyReplace: function(elem, find, replace) {
                elem.data && (elem.data = elem.data.replace(find, replace)) || elem.src && ((elem.src = elem.src.replace(find, replace)) && (elem.style.display = 'block'));
                var b = elem.querySelector("param[name='movie']");
                this.reloadPlugin(elem);
            },
            reloadPlugin: function(elem) {
                var nextSibling = elem.nextSibling;
                var parentNode = elem.parentNode;
                parentNode.removeChild(elem);
                var newElem = elem.cloneNode(true);
                this.done.push(newElem);
                if(nextSibling) {
                    parentNode.insertBefore(newElem, nextSibling);
                } else {
                    parentNode.appendChild(newElem);
                }
            },
            init: function() {
                var handler = this.animationsHandler.bind(this);
                document.body.addEventListener('webkitAnimationStart', handler, false);
                document.body.addEventListener('msAnimationStart', handler, false);
                document.body.addEventListener('oAnimationStart', handler, false);
                document.body.addEventListener('animationstart', handler, false);
                this.addAnimations();
            }
        };
        new A().init();
    })();
}
//remove baidu search ad
if(document.URL.indexOf('www.baidu.com') >= 0){
    if(document && document.getElementsByTagName && document.getElementById && document.body){
        var aa = function(){
            var all = document.body.querySelectorAll("#content_left div,#content_left table");
            for(var i = 0; i < all.length; i++){
                if(/display:\s?(table|block)\s!important/.test(all[i].getAttribute("style"))){all[i].style.display= "none";all[i].style.visibility='hidden';}
            }
            all = document.body.querySelectorAll('.result.c-container[id="1"]');
            //if(all.length == 1) return;
            for(var i = 0; i < all.length; i++){
                if(all[i].innerHTML && all[i].innerHTML.indexOf('广告')>-1){
                    all[i].style.display= "none";all[i].style.visibility='hidden';
                }
            }
        }
        aa();
        document.getElementById('wrapper_wrapper').addEventListener('DOMSubtreeModified',aa)
    };
}
//remove sohu video ad
if (document.URL.indexOf("tv.sohu.com") >= 0){
    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
}
//remove 56.com video ad
if (document.URL.indexOf("56.com") >= 0){
    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
}
//fore iqiyi enable html5 player function
if (document.URL.indexOf("iqiyi.com") >= 0){
    if (document.cookie.indexOf("player_forcedType=h5_VOD")==-1){
        document.cookie='player_forcedType=h5_VOD'
        if(localStorage.reloadTime && Date.now() - parseInt(localStorage.reloadTime)<60000){
            console.log('no reload')
        }else{
            location.reload()
            localStorage.reloadTime = Date.now();
        }
    }
}
</script><style type="text/css">object,embed{                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;}                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}</style><style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style><style type="text/css">.d4s24Cak_0{background:#000}._2XuSxNZp_0{opacity:0}.Wc3vzb2A_0{opacity:1}._2iHgUKTE_0{max-width:46.25rem;min-height:100vh;margin:0 auto;background:#fff;-webkit-transition:background-color .3s ease;transition:background-color .3s ease}._2iHgUKTE_0 ._2Q4AqmzS_0{color:#888}._2iHgUKTE_0 ._2Q4AqmzS_0,._2iHgUKTE_0 ._24aDcC1__0{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}._2iHgUKTE_0 ._24aDcC1__0{color:#fff;background-color:#fa8919;font-weight:500}._2iHgUKTE_0 ._2_jLRfDz_0{padding-left:22px;padding-right:22px}._2iHgUKTE_0 ._3h_65ACq_0{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}._2iHgUKTE_0 ._3h_65ACq_0 ._1_J2p49N_0{font-size:12px}._2iHgUKTE_0 .yXXuK9Bz_0{padding-top:25px;padding-bottom:52px}._2iHgUKTE_0 ._3QuafcgX_0{color:#353535;font-weight:700;line-height:30px;font-size:22px}._2iHgUKTE_0 ._2dsK9OZI_0{color:#999;font-size:14px;font-weight:500;margin-top:5px;margin-bottom:10px}._2iHgUKTE_0 ._1dC78n85_0.PlJBpIgH_0 video-webkit-media-controls-fullscreen-button{display:none}._2iHgUKTE_0 ._1hOtWUmw_0{border-radius:6px;vertical-align:top;margin-bottom:24px;width:100%}._2iHgUKTE_0 ._2qqGfSEe_0{margin-top:24px}._2iHgUKTE_0 ._1fMbLOUg_0{color:#b2b2b2;padding-bottom:20px;font-size:13px;font-weight:400}._2iHgUKTE_0 ._1fMbLOUg_0 ._3suBPDWW_0{font-size:15px}._2iHgUKTE_0 .JDGVVLCG_0{width:100%;margin:20px 0}._2iHgUKTE_0 ._2xLk5jLr_0{overflow:hidden;padding-top:10px;margin-bottom:-30px}._2iHgUKTE_0 ._2xLk5jLr_0 a._24aDcC1__0{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}._2iHgUKTE_0 .DU0gW1Le_0{padding-top:32px;border-top:10px solid #f6f7fb;-webkit-transition:border-top .3s ease;transition:border-top .3s ease;position:relative}._2iHgUKTE_0 .DU0gW1Le_0 h2{color:#353535;position:relative;z-index:1;margin-bottom:1rem;font-weight:700;font-size:19px}._2iHgUKTE_0 .DU0gW1Le_0 .kZAdYTZh_0{font-size:16px;margin-left:5px}._2iHgUKTE_0 ._3XC20_-x_0{position:absolute;z-index:2;background:#fa8919;font-size:13px;color:#fff;text-align:center;height:28px;width:80px;line-height:28px;-webkit-box-shadow:4px 5px 20px 1px rgba(250,137,25,.24);box-shadow:4px 5px 20px 1px rgba(250,137,25,.24);border-radius:28px;right:22px;top:32px}._2iHgUKTE_0 ._3qEE98dE_0{z-index:10;cursor:pointer}._2iHgUKTE_0 ._3PNMKN7j_0{cursor:pointer;padding-top:24px;padding-bottom:24px;position:relative}._2iHgUKTE_0 ._3PNMKN7j_0:before{content:" ";height:.5px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:22px;right:22px}._2iHgUKTE_0 ._3PNMKN7j_0 ._2d0QwC3-_0{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}._2iHgUKTE_0 ._3PNMKN7j_0 ._2d0QwC3-_0 ._36LfGj1s_0{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}._2iHgUKTE_0 ._3PNMKN7j_0 ._2d0QwC3-_0 ._3TIVUaKt_0{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}._2TWMGtY9_0{height:60px;background:transparent}._3Qjp-kmf_0{font-size:15px;color:#888;line-height:24px;border-left:3px solid #e8e8e8;padding-left:15px}._2XiJsOMl_0,.EVkpJjEr_0{-webkit-transition:all .3s ease;transition:all .3s ease}._2Nz371_y_0 ._1HRajYpk_0,._321aphJv_0 ._2GrpjiZ7_0{-webkit-transform:translateX(-508px);transform:translateX(-508px)}._2Nz371_y_0 ._2GrpjiZ7_0,._321aphJv_0 ._1HRajYpk_0{-webkit-transform:translateX(508px);transform:translateX(508px)}.PlJBpIgH_0 ._2dsK9OZI_0{font-weight:700}.PlJBpIgH_0 ._3PNMKN7j_0:before{height:1px}@media only screen and (max-width:769px){._15MzZzCR_0{display:none!important}}@media only screen and (min-width:740px){.d4s24Cak_0{background:#fff}}._9Z9oach0_0{background:#f6f0e0}._9Z9oach0_0 .DU0gW1Le_0{border-top:10px solid #efe6cf}._9Z9oach0_0 ._3PNMKN7j_0:before{background:#e5d8b5}._9Z9oach0_0 ._3PNMKN7j_0 ._2d0QwC3-_0 ._36LfGj1s_0{background:#efe6cf}._9Z9oach0_0 ._3h_65ACq_0{background-color:#efe6cf}._3Xivw4-f_0{background:#353535}._3Xivw4-f_0 ._2dsK9OZI_0,._3Xivw4-f_0 ._3QuafcgX_0{color:silver}._3Xivw4-f_0 .DU0gW1Le_0{border-top:10px solid #3e3e3e}._3Xivw4-f_0 ._3PNMKN7j_0:before{background:#4c4c4c}._3Xivw4-f_0 ._3PNMKN7j_0 ._2d0QwC3-_0 ._36LfGj1s_0{background:#3e3e3e;color:silver}._3Xivw4-f_0 ._3PNMKN7j_0 ._2d0QwC3-_0 ._3TIVUaKt_0,._3Xivw4-f_0 .DU0gW1Le_0 h2{color:silver}._3Xivw4-f_0 ._3h_65ACq_0{background-color:#3e3e3e}.KPNfF2Ub_0{margin-bottom:24px}.SHMajuUT_0{padding-top:40px!important;padding-bottom:82px!important}._2HYUpEDK_0{position:fixed;top:0;bottom:0;width:100%;z-index:-1}</style><style type="text/css">.C3Euvro5_0{height:58px}._1mmSdAtq_0{width:100%;height:58px;background:#fbfbfb;position:absolute;top:0;left:0;z-index:20;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 22px;-webkit-transition:opacity .35s;transition:opacity .35s;opacity:0;pointer-events:none;-webkit-box-shadow:0 2px 3px 0 hsla(0,0%,89%,.38);box-shadow:0 2px 3px 0 hsla(0,0%,89%,.38)}._1mmSdAtq_0 a{width:76px;height:30px;text-align:center;border-radius:15px;font-size:13px;background:#fa8919;color:#fff;line-height:30px;font-weight:500}._3J4dp-oG_0{opacity:1;pointer-events:auto}.Qmt5mthp_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.Qmt5mthp_0 i{width:40px;height:40px;background-image:url("http://static001.geekbang.org/static/icon/time/apple-touch-icon.png");background-position:0 0;background-repeat:no-repeat;background-size:contain;border-radius:8px;-webkit-box-shadow:0 0 3px 0 hsla(0,0%,89%,.38);box-shadow:0 0 3px 0 hsla(0,0%,89%,.38)}.Qmt5mthp_0 h2{font-size:16px;color:#595757;font-weight:500;margin-left:16px}.Qmt5mthp_0 h2 span{font-weight:400;font-size:13px;color:#888}</style><style type="text/css">._3HCtER94_0{height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:18px;padding-right:22px;font-size:15px;color:#888;padding-top:20px}.XPK3khh7_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:17px;font-weight:400}.u9KJ6z9x_0{width:16px;font-size:12px;text-align:left;margin-right:4px}.S8msnNlD_0{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;font-weight:400}._3FTQNYev_0{width:20px;text-align:center;display:inline-block;vertical-align:top}</style><style type="text/css">._1Bg5E78Y_0{width:100%;height:60px;background:#fff;-webkit-transition:background-color .3s ease;transition:background-color .3s ease;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:18px;padding-right:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-radius:6px 30px 30px 6px;-webkit-box-shadow:0 3px 25px 4px rgba(140,163,191,.14);box-shadow:0 3px 25px 4px rgba(140,163,191,.14)}._1Bg5E78Y_0 ._2Ha38TVL_0{border-radius:50%;width:40px;height:40px;-webkit-box-shadow:0 1px 3px 2px rgba(0,0,0,.1);box-shadow:0 1px 3px 2px rgba(0,0,0,.1);position:relative}._1Bg5E78Y_0 ._1iA2uC1V_0{background-repeat:no-repeat;background-position:0 0;background-size:300px;background-color:#fff;border-radius:50%;width:40px;height:40px;position:absolute;top:0;left:0}._1Bg5E78Y_0 ._1WF5YSBJ_0{background:rgba(0,0,0,.15)}._1Bg5E78Y_0 ._2Kms_g0F_0{width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%;z-index:2;position:relative}._1Bg5E78Y_0 .MH1rcCm7_0 ._2Kms_g0F_0{color:#fff;margin-left:2px}._1Bg5E78Y_0 ._1KuRDTHn_0 ._2Kms_g0F_0{color:#fff}._1Bg5E78Y_0 .MH1rcCm7_0 ._1iA2uC1V_0{-webkit-animation:HvzpPu2i_0 4s linear infinite;animation:HvzpPu2i_0 4s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}._1Bg5E78Y_0 ._1KuRDTHn_0 ._1iA2uC1V_0{-webkit-animation:HvzpPu2i_0 4s linear infinite;animation:HvzpPu2i_0 4s linear infinite;-webkit-animation-play-state:running;animation-play-state:running}._1Bg5E78Y_0 ._1qj_iPD7_0{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;margin-right:10px}._1Bg5E78Y_0 ._1qj_iPD7_0 h3{color:#353535;font-size:15.25px;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._1Bg5E78Y_0 ._1qj_iPD7_0 p{margin:0;margin-top:.125rem;font-size:12px;font-weight:500;line-height:1rem;color:#999}._1Bg5E78Y_0 ._3PhVtlEa_0{width:20px;height:20px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;position:relative;color:#999;font-size:18px;line-height:20px;text-align:center;margin-right:20px}._1Bg5E78Y_0 ._1l6e3976_0{width:10px;height:10px;line-height:10px;text-align:center;position:absolute;bottom:-3px;right:-5px;color:#fa8919;background:#fff;font-size:10px;-webkit-transition:background-color .2s ease;transition:background-color .2s ease}._1W0qSnju_0{-webkit-box-shadow:0 3px 25px 4px hsla(42,28%,65%,.14);box-shadow:0 3px 25px 4px hsla(42,28%,65%,.14)}._1W0qSnju_0,._1W0qSnju_0 ._1l6e3976_0{background:#f6f0e0}._1W0qSnju_0 ._2Ha38TVL_0{-webkit-box-shadow:0 1px 2px 2px hsla(42,28%,65%,.14);box-shadow:0 1px 2px 2px hsla(42,28%,65%,.14)}._2SRR-E_O_0{background:#4d4d4d;-webkit-box-shadow:none;box-shadow:none}._2SRR-E_O_0 ._3PhVtlEa_0{color:#fff}._2SRR-E_O_0 ._1l6e3976_0{background:#4d4d4d}._2SRR-E_O_0 ._1qj_iPD7_0 h3,._2SRR-E_O_0 ._1qj_iPD7_0 p{color:silver}._2vBNygJQ_0 ._1qj_iPD7_0 p{font-weight:700}@-webkit-keyframes HvzpPu2i_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes HvzpPu2i_0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}</style><style type="text/css">._29HP61GA_0{font-weight:400;color:#353535;line-height:1.76;white-space:normal;word-break:normal;font-size:17px;-webkit-transition:background-color .3s ease;transition:background-color .3s ease}._29HP61GA_0 .MathJax_Display{overflow:auto}._29HP61GA_0 .poster{position:fixed;left:-10000px;top:-10000px;overflow:hidden;padding:1rem;background:#ececec}._29HP61GA_0 .richcontent-pre-copy{font-size:13px;color:#888;position:absolute;right:1em;top:.5em;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._29HP61GA_0 .richcontent-pre-copy .iconfont{font-size:12px;margin-right:.2em}._29HP61GA_0 a{color:#fa8919;border-bottom:1px solid #fa8919}._29HP61GA_0 img{display:block;max-width:100%;position:relative;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-color:#eee;vertical-align:top;border-radius:0}._29HP61GA_0 audio,._29HP61GA_0 video{width:100%;background-color:#eee}._29HP61GA_0 pre{margin-top:16px;padding:34px 0 30px;margin-bottom:30px;position:relative;overflow:hidden;border-radius:6px;background:rgba(246,247,251,.749);border:0}._29HP61GA_0 pre code{font-size:12px;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:16px;margin-right:16px;overflow-x:auto}._29HP61GA_0 hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}._29HP61GA_0 h1,._29HP61GA_0 h2,._29HP61GA_0 h3,._29HP61GA_0 h4,._29HP61GA_0 h5{margin-bottom:20px;margin-top:0;font-weight:700}._29HP61GA_0 b,._29HP61GA_0 strong{font-weight:700}._29HP61GA_0 h1{font-size:21px}._29HP61GA_0 h2{font-size:20px}._29HP61GA_0 h3{font-size:19px}._29HP61GA_0 h4{font-size:18px}._29HP61GA_0 h5{font-size:17px}._29HP61GA_0 p{font-weight:400;color:#353535;margin-top:0;margin-bottom:30px;word-break:break-word}._29HP61GA_0 blockquote{margin-top:0;margin-bottom:34px;border-left:3px solid #e8e8e8;padding-left:17px;color:#353535}._29HP61GA_0 blockquote p{margin-top:0;margin-bottom:0}._29HP61GA_0 ol,._29HP61GA_0 ul{margin-bottom:30px}._29HP61GA_0 ol p,._29HP61GA_0 ul p{margin-top:0;margin-bottom:0}._29HP61GA_0 ol{list-style:decimal;margin-left:20px}._29HP61GA_0 ul li{padding-left:17px;position:relative;margin-bottom:10px}._29HP61GA_0 ul li:after{content:"";height:6px;width:6px;border-radius:50%;background:#353535;position:absolute;top:10px;left:0}._29HP61GA_0 .orange{color:#fa8919}._29HP61GA_0 .reference{color:#888}._29HP61GA_0 table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}._29HP61GA_0 table.hljs-ln,._29HP61GA_0 table.hljs-ln tbody,._29HP61GA_0 table.hljs-ln td,._29HP61GA_0 table.hljs-ln tr{-webkit-box-sizing:border-box;box-sizing:border-box}._29HP61GA_0 table.hljs-ln td{padding:0;border:0}._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers{min-width:15px;font-size:12px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._29HP61GA_0 table.hljs-ln td.hljs-ln-code,._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:20px;vertical-align:top}._29HP61GA_0 table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;font-size:13px;color:#666;word-wrap:normal;white-space:pre}._2gMcXXSK_0{font-size:15px}._2gMcXXSK_0 h1{font-size:19px}._2gMcXXSK_0 h2{font-size:18px}._2gMcXXSK_0 h3{font-size:17px}._2gMcXXSK_0 h4{font-size:16px}._2gMcXXSK_0 h5{font-size:15px}._2gMcXXSK_0 p{margin-bottom:26px}._2gMcXXSK_0 blockquote{margin-bottom:30px}._2gMcXXSK_0 ol,._2gMcXXSK_0 ul{margin-bottom:26px}._1-IhkAAb_0{font-size:19px}._1-IhkAAb_0 h1{font-size:23px}._1-IhkAAb_0 h2{font-size:22px}._1-IhkAAb_0 h3{font-size:21px}._1-IhkAAb_0 h4{font-size:20px}._1-IhkAAb_0 h5{font-size:19px}._1Xjr5LRK_0 table.hljs-ln td.hljs-ln-code,._1Xjr5LRK_0 table.hljs-ln td.hljs-ln-numbers{font-family:monospace}._1XhbM4Sp_0 pre{background:hsla(43,50%,87%,.749)}._1XhbM4Sp_0 blockquote{border-color:#efe6cf}._2wERfXHe_0 h1,._2wERfXHe_0 h2,._2wERfXHe_0 h3,._2wERfXHe_0 h4,._2wERfXHe_0 h5,._2wERfXHe_0 p{color:silver}._2wERfXHe_0 blockquote{border-color:#3e3e3e}._2wERfXHe_0 li,._2wERfXHe_0 strong{color:silver}._2wERfXHe_0 pre{background:rgba(62,62,62,.749)}._2wERfXHe_0 img{opacity:.9}._2wERfXHe_0 ul li:after{background:silver}._2wERfXHe_0 table.hljs-ln td.hljs-ln-numbers{color:#b2b2b2}._2wERfXHe_0 table.hljs-ln td.hljs-ln-code{color:silver}</style><script id="MathJax" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><style type="text/css">.reJj6Thl_0{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-top:40px}.reJj6Thl_0 a{border-bottom:none}.reJj6Thl_0 ._2273kGdT_0{width:35px;height:35px;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.reJj6Thl_0:last-child ._2CG0SquK_0{border-bottom:none}.reJj6Thl_0 ._2CG0SquK_0{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:25px;border-bottom:.5px solid #e8e8e8;-webkit-transition:border-bottom .3s ease;transition:border-bottom .3s ease;overflow:hidden}.reJj6Thl_0 ._2CG0SquK_0 ._304R4gla_0{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:10px}.reJj6Thl_0 ._2CG0SquK_0 ._3M6kV3zb_0{color:#4c4c4c;font-size:16px;font-weight:400;white-space:normal;word-break:normal;line-height:1.6;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical}.reJj6Thl_0 ._2CG0SquK_0 ._3D2NkqD6_0{overflow:auto;-webkit-line-clamp:unset}.reJj6Thl_0 ._2CG0SquK_0 ._1H1Z49Dr_0{color:#888;font-size:11px;line-height:1;margin-top:4px}.reJj6Thl_0 ._2CG0SquK_0 ._18Dng5rT_0{color:#353535;font-size:14px;font-weight:700;height:20px;line-height:20px}.reJj6Thl_0 ._1bkbsnjg_0{height:15px;line-height:15px;width:30px;overflow:hidden;font-size:10px;color:#fff;background:#cbcbcb;text-align:center;display:inline-block;border-radius:3px;vertical-align:top;margin-top:2px}.reJj6Thl_0 ._2eMTs2JE_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:26px}.reJj6Thl_0 ._1YQBH3WC_0{color:#999;font-size:13px;margin-left:42px;width:20px;text-align:center}.reJj6Thl_0 ._13n1j2Zp_0{color:#999;font-size:11px;width:20px;margin-left:38px;text-align:center}.reJj6Thl_0 ._2P4B1Hdm_0{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.reJj6Thl_0 ._2P4B1Hdm_0 i{color:#999;display:inline-block;font-size:15px;margin-right:4px;height:27px;width:15px;margin-top:-2px}.reJj6Thl_0 ._2P4B1Hdm_0 i._2A421P4G_0{background:url(data:image/png;base64,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) no-repeat 50%;background-size:15px}.reJj6Thl_0 ._2P4B1Hdm_0 span{color:#888;font-size:13px;font-weight:400}.reJj6Thl_0 ._2P4B1Hdm_0 span._2A421P4G_0{color:#fa8919}.reJj6Thl_0 ._2r3UB1GX_0{font-size:13px;color:#b2b2b2;height:16px;padding-top:8px}.reJj6Thl_0 ._2r3UB1GX_0 span{font-weight:500}.reJj6Thl_0 ._2r3UB1GX_0 i,.reJj6Thl_0 ._2r3UB1GX_0 span{height:16px;line-height:16px;display:inline-block;vertical-align:top}.reJj6Thl_0 ._2xNIY4NG_0{margin-top:10px}.reJj6Thl_0 ._2xNIY4NG_0 ._33BLbmw4_0{color:#888;font-size:14px;font-weight:400;white-space:normal;word-break:normal;background:#f6f7fb;-webkit-transition:background .3s ease;transition:background .3s ease;border-radius:10px;padding:18px;overflow-x:scroll}.reJj6Thl_0 ._2xNIY4NG_0 ._1H1Z49Dr_0{color:#888;font-size:9px}._0X_LEcd_0 ._2xNIY4NG_0 ._33BLbmw4_0{background:#efe6cf}.cGm0Q9aA_0 ._2CG0SquK_0{border-bottom:1px solid #4c4c4c}.cGm0Q9aA_0 ._2CG0SquK_0 ._1H1Z49Dr_0,.cGm0Q9aA_0 ._2CG0SquK_0 ._3M6kV3zb_0,.cGm0Q9aA_0 ._2CG0SquK_0 ._18Dng5rT_0{color:silver}.cGm0Q9aA_0 ._2xNIY4NG_0 ._33BLbmw4_0{color:silver;background:#3e3e3e}.cGm0Q9aA_0 ._1YQBH3WC_0,.cGm0Q9aA_0 ._2P4B1Hdm_0 i,.cGm0Q9aA_0 ._2P4B1Hdm_0 span,.cGm0Q9aA_0 ._13n1j2Zp_0{color:#999}._2Gn7zqLg_0 ._1bkbsnjg_0{line-height:18px}</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax_LineBox {display: table!important}
.MathJax_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?V=2.7.0') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?V=2.7.0') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?V=2.7.0') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head><body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div><svg aria-hidden="true" style="position: absolute; width: 0px; height: 0px; overflow: hidden;"><symbol id="icon-android" viewBox="0 0 1024 1024"><path d="M862.778202 640.174593c-17.774874 0-32.175395-13.876101-32.175395-30.980825L830.602807 414.807258c0-17.134486 14.399495-30.981851 32.175395-30.981851 17.773847 0 32.203104 13.847365 32.203104 30.981851l0 194.385484C894.981306 626.298492 880.553076 640.174593 862.778202 640.174593zM380.771249 151.679606 380.771249 151.679606l-56.204315-70.516577c-3.83925-4.829593-2.675467-11.578298 2.619023-15.097354 5.293464-3.520082 12.682557-2.443532 16.523859 2.385035l58.093665 72.901612c33.367912-14.662218 70.603809-22.865138 109.905574-22.865138 39.302791 0 76.509952 8.203946 109.875812 22.865138l58.094691-72.901612c3.83925-4.829593 11.258104-5.905117 16.552594-2.385035 5.265755 3.520082 6.429537 10.268787 2.589261 15.097354l-56.204315 70.516577c64.726402 35.578483 111.504491 96.640099 124.53803 168.465162L256.233218 320.144767C269.295493 248.319705 316.042794 187.258088 380.771249 151.679606zM622.341222 254.749242 622.341222 254.749242c17.716377 0 32.058401-13.439939 32.058401-29.992534 0-16.552594-14.34305-29.963798-32.058401-29.963798-17.65788 0-32.028639 13.411204-32.028639 29.963798C590.312583 241.309303 604.683343 254.749242 622.341222 254.749242zM401.01839 254.749242 401.01839 254.749242c17.716377 0 32.028639-13.439939 32.028639-29.992534 0-16.552594-14.312263-29.963798-32.028639-29.963798-17.687641 0-32.029665 13.411204-32.029665 29.963798C368.988724 241.309303 383.330748 254.749242 401.01839 254.749242zM161.221798 640.174593 161.221798 640.174593c-17.803609 0-32.20413-13.876101-32.20413-30.980825L129.017668 414.807258c0-17.134486 14.400521-30.981851 32.20413-30.981851 17.773847 0 32.175395 13.847365 32.175395 30.981851l0 194.385484C193.397193 626.298492 178.995645 640.174593 161.221798 640.174593zM766.691258 718.719625 766.691258 718.719625c0 31.011613-25.658625 56.117082-57.3096 56.117082l-40.116617 0 0 131.868626c0 29.440404-24.349114 53.294859-54.42888 53.294859-30.079766 0-54.42888-23.854455-54.42888-53.294859L560.407282 774.836707l-97.425191 0 0 131.868626c0 29.440404-24.378875 53.294859-54.429906 53.294859-30.050004 0-54.42888-23.854455-54.42888-53.294859L354.123306 774.836707l-40.116617 0c-31.621213 0-57.308573-25.10547-57.308573-56.117082L256.698115 384.348801l509.992117 0L766.690232 718.719625z"></path></symbol><symbol id="icon-apple" viewBox="0 0 1024 1024"><path d="M791.489559 544.090212c-1.290235-129.678896 105.758341-191.876433 110.550644-194.968902-60.149545-88.022725-153.845209-100.085402-187.24797-101.478037-79.748834-8.069091-155.586003 46.939992-196.074818 46.939992-40.365935 0-102.809232-45.752156-168.959395-44.543841-86.916809 1.290235-167.054762 50.544459-211.803402 128.38866-90.295997 156.691919-23.121837 388.831888 64.880408 515.930313 43.007846 62.197537 94.289582 132.075047 161.627581 129.576496 64.839448-2.580471 89.35392-41.96337 167.751079-41.96337s100.43356 41.96337 169.041315 40.673134c69.77511-1.290235 113.991272-63.405853 156.691919-125.78771 49.397583-72.171262 69.73415-142.028292 70.921986-145.632759-1.556474-0.696318-136.068633-52.244293-137.399828-207.133978zM662.568421 163.511735c35.737472-43.356005 59.862826-103.505549 53.288769-163.511735-51.486536 2.088953-113.868392 34.283397-150.81418 77.557482-33.136521 38.379383-62.156577 99.634843-54.374205 158.432713 57.466674 4.485104 116.121184-29.204375 151.899616-72.457981z"></path></symbol><symbol id="icon-arrowright1" viewBox="0 0 1024 1024"><path d="M267.649318 918.655743 308.671617 959.678042 756.349659 512 308.671617 64.322981 267.649318 105.34528 674.305061 512Z"></path></symbol><symbol id="icon-ok" viewBox="0 0 1024 1024"><path d="M997.12174459 172.27043777c-16.65294032-15.61730971-42.91653278-14.87165566-58.53513703 1.82270988L386.13981108 762.29120758l-301.78276187-297.35026283c-16.32153853-16.07298718-42.54370576-15.90728628-58.61669294 0.41425224-16.07298718 16.27881876-15.86586107 42.54241122 0.45567747 58.57526772l332.02317589 327.09357417c0.12427568 0.12427568 0.28997657 0.1657009 0.41295772 0.28997657 0.12557022 0.12427568 0.16699543 0.28997657 0.2912711 0.41425225 2.60978915 2.48551348 5.75810623 3.89397111 8.78214765 5.55098011 1.49001355 0.86992972 2.77549005 2.15411168 4.34835405 2.77549006 4.88817651 1.90556034 10.0663296 2.89976573 15.20305745 2.89976571 5.42670444 0 10.85340887-1.07705584 15.90728629-3.23116753 1.69972875-0.70422882 3.02404141-2.15411168 4.59819994-3.06546662 3.10689185-1.82270989 6.33805938-3.3554432 8.98927377-6.0480828 0.12427568-0.12427568 0.1657009-0.33140179 0.28997657-0.45567748 0.08285045-0.12557022 0.24855135-0.16699543 0.37282701-0.2912711l581.48717354-619.05855778C1014.6433201 214.19276515 1013.77339038 187.97059792 997.12174459 172.27043777z"></path></symbol><symbol id="icon-leftarrow1" viewBox="0 0 1024 1024"><path d="M266.163989 512.035816 266.163989 512.035816c-0.992607 13.43294 3.208065 26.929326 13.338796 37.123502l396.655995 396.499429c18.788925 18.691711 48.957015 18.72548 67.867714 0.033769 18.755156-18.788925 18.466584-48.957015-0.062422-67.706031L377.856837 512.069585l366.077559-366.042767c18.49626-18.657942 18.62315-49.113581-0.097214-67.774593-18.853393-18.657942-49.113581-18.657942-67.805292-0.029676l-396.528082 396.817678C269.436522 485.33264 265.171382 498.828003 266.163989 512.035816L266.163989 512.035816z"></path></symbol><symbol id="icon-shezhi" viewBox="0 0 1024 1024"><path d="M640.516 888.95C640.516 888.95 640.516 888.95 640.516 888.95c-13.9-0.002-27.404-6.01-36.132-16.066-11.886-13.62-49.55-49.036-80.378-49.036-30.616 0-68.862 35.622-79.844 48.1-8.706 9.886-22.12 15.79-35.882 15.79-6.556 0-12.742-1.314-18.39-3.908l-0.988-0.452-93.706-54.758-0.93-0.68c-17.06-12.484-23.554-36.89-15.102-56.782 0.064-0.152 8.642-20.834 8.642-39.696 0-57.234-44.558-103.804-99.332-103.804l-3.32 0c-0.202 0.008-0.402 0.01-0.604 0.01-15.69 0-28.462-14.56-32.542-37.104-0.328-1.804-7.998-44.562-7.998-78.244 0-33.69 7.668-76.446 7.994-78.248 4.134-22.826 17.186-37.492 33.15-37.096l3.322 0c54.772 0 99.332-46.566 99.332-103.804 0-18.854-8.574-39.534-8.662-39.742-8.442-19.87-1.906-44.274 15.224-56.714l0.968-0.706 98.898-56.764 1.028-0.458c5.57-2.482 11.668-3.738 18.128-3.738 13.73 0 27.174 5.774 35.958 15.448 11.704 12.808 48.704 46.116 78.65 46.116 29.662 0 66.438-32.652 78.1-45.232 8.732-9.478 22.078-15.152 35.678-15.152 6.59 0 12.802 1.302 18.462 3.872l0.998 0.454 95.52 55.458 0.944 0.688c17.088 12.464 23.598 36.874 15.138 56.776-0.062 0.152-8.642 20.836-8.642 39.694 0 57.24 44.562 103.804 99.332 103.804l3.32 0c15.944-0.37 29.016 14.268 33.146 37.096 0.33 1.802 8 44.558 8 78.246 0 33.684-7.67 76.442-8 78.246-4.13 22.826-17.202 37.436-33.148 37.094l-3.318 0c-54.77 0-99.332 46.57-99.332 103.804 0 18.856 8.574 39.53 8.66 39.738 8.44 19.86 1.916 44.264-15.188 56.72l-0.958 0.698-97.126 56.098-1.01 0.458C653.016 887.682 646.936 888.95 640.516 888.95L640.516 888.95zM637.564 841.126c0.436 0.296 1.66 0.804 2.95 0.804 0.056 0 0.104 0 0.15-0.004l90.744-52.418c-2.19-5.314-12.208-31.124-12.208-58.044 0-80.51 60.684-146.488 136.756-150.62 1.098-6.316 7.04-41.854 7.04-68.526 0-26.664-5.94-62.194-7.038-68.528-76.074-4.128-136.758-70.108-136.758-150.62 0-26.958 10.048-52.8 12.22-58.076l-89.276-51.834c-0.102-0.008-0.226-0.012-0.372-0.012-1.522 0-2.946 0.58-3.416 0.91-1.496 1.608-14.44 15.322-33.028 28.988-27.512 20.23-53.536 30.486-77.334 30.486-24.034 0-50.262-10.458-77.954-31.086-18.702-13.93-31.702-27.906-33.204-29.546-0.476-0.336-1.916-0.932-3.45-0.932-0.12 0-0.226 0.002-0.318 0.008l-92.468 53.076c2.216 5.384 12.196 31.146 12.196 58.016 0 80.51-60.682 146.49-136.758 150.62-1.096 6.324-7.04 41.862-7.04 68.528 0 26.664 5.942 62.194 7.042 68.528 76.076 4.128 136.756 70.108 136.756 150.618 0 27.01-10.084 52.898-12.234 58.108l87.518 51.142c0.056 0.004 0.122 0.004 0.194 0.004 1.28 0 2.494-0.492 2.922-0.78 1.636-1.838 14.71-16.296 33.534-30.714 28.066-21.496 54.736-32.392 79.27-32.392 24.77 0 51.636 11.104 79.87 33.012C622.808 824.538 635.932 839.264 637.564 841.126L637.564 841.126zM524.326 650.038c-72.942 0-132.284-62.018-132.284-138.242 0-76.222 59.342-138.238 132.284-138.238 72.944 0 132.286 62.014 132.286 138.238C656.612 588.02 597.27 650.038 524.326 650.038L524.326 650.038zM524.326 420.578c-48.13 0-87.29 40.92-87.29 91.216 0 50.298 39.16 91.218 87.29 91.218 48.134 0 87.292-40.92 87.292-91.218C611.62 461.498 572.462 420.578 524.326 420.578L524.326 420.578z"></path></symbol><symbol id="icon-yinliang-copy" viewBox="0 0 1024 1024"><path d="M678.569984 354.628608c-2.898944-7.727104-8.73472-13.999104-16.164864-17.391616-6.076416-3.41504-13.274112-4.893696-20.66432-3.729408-17.586176 2.770944-29.575168 19.423232-26.774528 37.19168 1.586176 10.061824 7.575552 18.320384 15.665152 23.092224 31.039488 33.216512 50.143232 77.703168 50.143232 126.763008 0 53.681152-22.890496 101.904384-59.286528 135.862272-6.747136 5.82144-11.02336 14.427136-11.02336 24.0384 0 17.531904 14.212096 31.744 31.745024 31.744 8.97536 0 17.074176-3.730432 22.847488-9.71776 6.161408-3.576832 10.970112-9.237504 13.513728-16.031744 39.776256-43.931648 64.222208-101.956608 64.222208-165.894144C742.791168 456.604672 718.345216 398.590976 678.569984 354.628608z"></path><path d="M789.633024 238.830592c-5.279744-10.749952-16.3328-18.152448-29.118464-18.152448-17.907712 0-32.425984 14.518272-32.425984 32.427008 0 11.754496 6.254592 22.048768 15.619072 27.73504 54.951936 57.501696 88.880128 135.248896 88.880128 221.06624 0 96.089088-42.518528 182.078464-109.546496 240.768l0.124928 0.145408c-10.517504 5.219328-17.752064 16.063488-17.752064 28.601344 0 17.626112 14.288896 31.915008 31.915008 31.915008 10.4704 0 19.762176-5.042176 25.581568-12.829696 0.280576-0.333824 0.562176-0.667648 0.831488-1.012736l0.080896 0.080896c80.111616-70.1184 130.968576-172.84096 130.968576-287.6672C894.793728 399.910912 854.69696 307.396608 789.633024 238.830592z"></path><path d="M448.487424 183.721984 289.050624 346.851328 191.880192 346.851328c-41.570304 0-62.021632 22.37952-62.021632 62.032896l0 206.718976c0 39.005184 21.098496 62.042112 62.021632 62.042112l97.171456 0 159.435776 163.109888c45.809664 43.02336 115.52256 24.064 115.52256-47.366144L564.009984 231.07584C564.009984 158.90944 493.427712 141.606912 448.487424 183.721984zM501.989376 761.613312c0 46.959616-20.816896 20.632576-42.176512-0.446464-37.228544-36.745216-93.476864-96.119808-139.710464-145.563648l-86.875136 0c-31.434752 0-41.347072-10.541056-41.347072-41.347072L191.880192 450.22208c0-30.152704 10.559488-41.337856 41.347072-41.337856l87.842816 0c45.993984-49.707008 101.695488-108.972032 138.902528-145.384448 21.117952-20.663296 42.015744-47.586304 42.015744 1.302528C501.989376 365.810688 501.989376 662.644736 501.989376 761.613312z"></path></symbol><symbol id="icon-quanping" viewBox="0 0 1024 1024"><path d="M223.744 590.336h-37.376v242.176h241.664v-36.864H223.744v-205.312z" fill=""></path><path d="M443.392 847.872H171.008v-273.408h68.096v205.312h204.288z" fill=""></path><path d="M201.728 817.152h210.944v-6.144H208.384v-205.312h-6.656zM573.952 795.136v37.376h242.176v-241.664h-36.864v204.288z" fill=""></path><path d="M831.488 847.872H558.08v-68.096h205.312v-204.288h67.584v272.384z" fill=""></path><path d="M589.312 817.152h211.968v-210.944h-6.144v204.288h-205.312v6.656zM428.544 228.864v-37.888H185.856v242.176h36.864V228.864z" fill=""></path><path d="M238.08 448.512H170.496V175.616h273.408v68.096H238.08z" fill=""></path><path d="M201.216 417.792h6.144V213.504h205.312v-6.656H201.216zM778.24 433.664h37.888V191.488h-242.176v36.864H778.24z" fill=""></path><path d="M831.488 449.024H762.88V243.712h-204.288V176.128h272.384v272.896z" fill=""></path><path d="M793.6 418.304h6.656V206.848h-210.944v6.144H793.6z" fill=""></path></symbol><symbol id="icon-zhongxinbofang" viewBox="0 0 1024 1024"><path d="M585.00608 88.21248c-237.89056 0-431.44704 193.99168-431.44704 432.42496a432.55296 432.55296 0 0 0 2.52416 46.7968L68.6592 478.94528a34.14016 34.14016 0 0 0-48.5632 47.98464l141.49632 143.20128a47.0528 47.0528 0 0 0 33.67936 14.03904c0.02048 0 0.04096 0 0.0256 0.03584a47.22688 47.22688 0 0 0 33.65376-14.09024l141.45024-143.1808a34.16064 34.16064 0 0 0-48.5632-47.98976l-95.80032 96.9728a368.37888 368.37888 0 0 1-4.20864-55.28064c0-200.79104 162.93376-364.16 363.18208-364.16 200.27392 0 363.20256 163.36384 363.20256 364.16 0 200.77056-162.93376 364.10368-363.20256 364.10368a359.84896 359.84896 0 0 1-257.664-107.52 320.49664 320.49664 0 0 1-8.192-8.4992 34.14016 34.14016 0 0 0-48.78848 47.74912 427.8528 427.8528 0 0 0 314.64448 136.52992c237.90592 0 431.46752-193.95072 431.46752-432.36864-0.00512-238.42816-193.56672-432.41984-431.47264-432.41984z" fill="#7B7B7B"></path></symbol><symbol id="icon-bofang" viewBox="0 0 1024 1024"><path d="M139.7 64.9v894.2L884.3 512z" fill="#5C5C5C"></path></symbol><symbol id="icon-quxiaoquanping" viewBox="0 0 1024 1024"><path d="M17.066667 795.306667h211.626666V1006.933333h141.653334V653.653333H17.066667v141.653334z m211.626666-566.613334H17.066667v141.653334h353.28V17.066667h-141.653334v211.626666zM653.653333 1006.933333h141.653334V795.306667H1006.933333v-141.653334H653.653333V1006.933333z m141.653334-778.24V17.066667h-141.653334v353.28H1006.933333v-141.653334H795.306667z"></path></symbol><symbol id="icon-play1" viewBox="0 0 1024 1024"><path d="M512 0C229.76 0 0 229.76 0 512s229.76 512 512 512 512-229.76 512-512-229.76-512-512-512z m0 960c-247.04 0-448-200.96-448-448s200.96-448 448-448 448 200.96 448 448-200.96 448-448 448zM435.2 277.76a35.712 35.712 0 0 0-19.84-7.04c-16.64 0-32 12.8-32 32v418.56c0 19.2 15.36 32 32 32 7.04 0 14.08-1.92 19.84-7.04l257.92-209.28a32 32 0 0 0 0-49.92L435.2 277.76z m11.52 376.32V369.92L622.08 512l-175.36 142.08z" fill="#444444"></path></symbol><symbol id="icon-ic_replay_px" viewBox="0 0 1024 1024"><path d="M512 213.333333V42.666667L298.666667 256l213.333333 213.333333v-170.666666c141.44 0 256 114.56 256 256s-114.56 256-256 256-256-114.56-256-256H170.666667c0 188.586667 152.746667 341.333333 341.333333 341.333333s341.333333-152.746667 341.333333-341.333333-152.746667-341.333333-341.333333-341.333334z" fill=""></path></symbol><symbol id="icon-done" viewBox="0 0 1024 1024"><path d="M511.67197 0.765403a511.617298 511.617298 0 1 0 511.726642 511.562627A511.617298 511.617298 0 0 0 511.67197 0.765403z m293.477416 378.819861l-330.927496 330.872825a46.197544 46.197544 0 0 1-65.60598 0L218.686599 520.255419a46.416231 46.416231 0 0 1 65.60598-65.60598l157.235664 157.454352 298.124507-298.179178a46.361559 46.361559 0 0 1 68.230218 62.763054 38.270155 38.270155 0 0 1-2.788254 2.952269z"></path></symbol><symbol id="icon-shanchu1" viewBox="0 0 1024 1024"><path d="M32.035491 1023.976262a32.000116 32.000116 0 0 1-22.644446-54.62129l456.915116-457.380572L9.391045 54.454191A32.000116 32.000116 0 0 1 54.679937 9.235117l479.419925 480.025018a31.976844 31.976844 0 0 1 0 45.219074l-479.419925 480.025018a31.813934 31.813934 0 0 1-22.644446 9.472035z m960.143128 0a31.813934 31.813934 0 0 1-22.644446-9.309125l-479.419926-480.025018a31.976844 31.976844 0 0 1 0-45.219074L969.534173 9.398027a32.000116 32.000116 0 0 1 45.288892 45.219073L557.907949 511.9744l456.915116 457.310754a32.000116 32.000116 0 0 1-22.644446 54.691108z"></path></symbol><symbol id="icon-zanting" viewBox="0 0 1024 1024"><path d="M119.289 0h181.567v1024H119.289zM721.759 0h182.952v1024H721.759z"></path></symbol><symbol id="icon-praise" viewBox="0 0 1024 1024"><path d="M287.922748 327.842488c-4.421079 2.275555-13.328252 6.664126-20.853838 10.402538l-12.369268 6.176507-11.556569-7.476825a95.638334 95.638334 0 0 0-51.655103-16.416505H95.362017A95.45954 95.45954 0 0 0 0 415.776442v512.812617A95.45954 95.45954 0 0 0 95.362017 1023.999837h96.125953a92.355033 92.355033 0 0 0 76.930019-41.122533l9.4273-13.815871 16.253966 4.063492c26.006345 6.339047 67.535227 16.091426 123.708933 28.932059A937.853819 937.853819 0 0 0 608.971078 1023.999837H784.091304c54.385769 0 92.745128-20.479997 113.972807-60.952371A1093.339255 1093.339255 0 0 0 1023.999837 444.87104c0-57.376499-46.990215-97.036175-90.729636-109.551728-31.597709-8.289522-100.238206-9.752379-195.25889-12.027935l-75.808495-1.787936 3.44584-26.493964a621.892981 621.892981 0 0 0 3.559619-79.644432C669.208275 108.73903 589.937684 0 512.113696 0a95.898397 95.898397 0 0 0-95.394524 94.59808c-1.771682 144.822834-81.464876 208.2133-128.796424 233.244408z"></path></symbol><symbol id="icon-play" viewBox="0 0 1024 1024"><path d="M900.506923 407.270163L246.46493 18.029536C229.112396 8.498257 170.621177-13.647951 125.641949 11.862238S70.388562 69.470411 70.388562 90.775624v845.340374c0 14.156753-5.606635 59.149998 57.902522 79.614216a160.672139 160.672139 0 0 0 118.173846-6.868128l654.041993-389.240627c23.828198-14.156753 52.912617-45.83424 52.912616-109.749878s-31.453222-87.323338-52.912616-102.601418zM253.879705 790.483657V236.407965L712.446372 513.375728z"></path></symbol><symbol id="icon-pause" viewBox="0 0 1024 1024"><path d="M126.246575 98.191781c0-54.229918 44.074082-98.191781 98.191781-98.191781 54.229918 0 98.191781 44.003945 98.191781 98.191781v827.616438c0 54.229918-44.074082 98.191781-98.191781 98.191781-54.229918 0-98.191781-44.003945-98.191781-98.191781V98.191781z m575.123288 0c0-54.229918 44.074082-98.191781 98.191781-98.191781 54.229918 0 98.191781 44.003945 98.191781 98.191781v827.616438c0 54.229918-44.074082 98.191781-98.191781 98.191781-54.229918 0-98.191781-44.003945-98.191781-98.191781V98.191781z"></path></symbol><symbol id="icon-down" viewBox="0 0 1053 1024"><path d="M488.806044 847.474529c6.06441 5.333758 13.268636 9.220826 21.042771 11.398168a42.377803 42.377803 0 0 0 32.382487 0 36.386459 36.386459 0 0 0 21.042771-11.398168l396.55395-396.597789a44.642824 44.642824 0 1 0-63.128314-63.128314l-330.254607 330.254607V41.565611a40.463496 40.463496 0 1 0-80.926991 0v676.437422l-330.254607-330.254607a44.642824 44.642824 0 1 0-63.128314 63.128314L488.806044 847.474529z m522.82519 95.569253H40.463496a40.405044 40.405044 0 0 0 0 80.810088h971.167738a40.405044 40.405044 0 0 0 0-80.810088z"></path></symbol><symbol id="icon-praise-line" viewBox="0 0 1033 1024"><path d="M290.445428 327.699711c-4.45146 2.299647-13.436509 6.734681-21.041771 10.512673l-12.467372 6.241899-11.662496-7.555983a97.505037 97.505037 0 0 0-52.103433-16.426051h-96.913699a95.862432 95.862432 0 0 0-96.207379 95.271094v512.821302a95.82958 95.82958 0 0 0 96.207379 95.271094h96.913699a93.431376 93.431376 0 0 0 77.596664-41.065126l9.510683-13.797883 16.426051 3.942252c26.199551 6.40616 68.135258 16.09753 124.837985 28.90985a949.031505 949.031505 0 0 0 192.841835 22.010907H791.078601c54.846583 0 93.546359-20.532563 114.982355-60.940648a1086.451845 1086.451845 0 0 0 126.956946-518.077638c0-57.491177-47.405582-97.07796-91.542381-109.561758-31.866538-8.213025-101.102342-9.85563-196.948347-11.991017l-76.479692-1.806866 3.465896-26.610202a612.198909 612.198909 0 0 0 3.597305-79.502085C675.110683 108.740456 595.148669 0 516.632146 0a96.388065 96.388065 0 0 0-96.223805 94.614052c-1.823292 144.713507-82.212384 208.282323-129.962913 233.085659zM226.186718 928.400385a33.032788 33.032788 0 0 1-33.049214 32.852101h-96.913699a33.016362 33.016362 0 0 1-33.049214-32.852101V415.743343a33.016362 33.016362 0 0 1 33.049214-32.852101h96.913699a33.016362 33.016362 0 0 1 33.049214 32.852101v512.657042zM483.402246 95.271094a32.999936 32.999936 0 0 1 33.049214-32.687841c36.777927 0 95.271094 69.974976 95.271094 152.926532 0 76.873917-3.36734 90.179018-29.566892 167.381457 304.440423 0 318.533975 3.942252 344.142188 10.841193l4.254348 1.149824a50.345845 50.345845 0 0 1 39.208983 49.935194c0 6.40616-0.098556 8.541546-0.279243 11.333975l-0.312095 6.406159c-13.239397 315.872955-114.1282 464.035932-118.4154 470.113571-7.983061 14.290664-21.206031 28.745589-59.692268 28.745589H614.334296a908.804107 908.804107 0 0 1-179.158935-20.532563c-80.487648-18.397177-115.278024-26.610202-131.934039-30.716715l-18.627142-4.599294 4.927816-507.729227 13.994995-6.570421C463.54315 317.67982 482.597369 159.825473 483.402246 95.271094z"></path></symbol><symbol id="icon-arrow-down-new" viewBox="0 0 1024 1024"><path d="M511.872 676.8c-0.003 0-0.006 0-0.008 0-9.137 0-17.379-3.829-23.21-9.97l-251.277-265.614c-5.415-5.72-8.743-13.464-8.744-21.984 0-17.678 14.33-32.008 32.008-32.008 9.157 0 17.416 3.845 23.25 10.009l228.045 241.103 228.224-241.088c5.855-6.165 14.113-10.001 23.266-10.001 8.516 0 16.256 3.32 21.998 8.736 12.784 12.145 13.36 32.434 1.264 45.233l-251.52 265.6c-5.844 6.155-14.086 9.984-23.223 9.984-0.025 0-0.051 0-0.076 0z"></path></symbol><symbol id="icon-fenxiang1" viewBox="0 0 1024 1024"><path d="M820.691478 1024H203.308522c-42.622145 0-77.185855-34.801159-77.185855-77.734957V388.645101c0-42.933797 34.56371-77.720116 77.185855-77.720115h128.623304v51.808463H203.308522a25.822609 25.822609 0 0 0-25.733565 25.911652v557.619942a25.822609 25.822609 0 0 0 25.733565 25.911653h617.382956a25.822609 25.822609 0 0 0 25.733565-25.911653V388.645101a25.822609 25.822609 0 0 0-25.733565-25.911652h-128.623304v-51.808463h128.623304c42.622145 0 77.171014 34.786319 77.171015 77.720115v557.619942c0 42.933797-34.54887 77.734957-77.171015 77.734957z m-140.198956-770.344812l-142.766377-151.04742v622.859131h-51.45229V102.340638l-142.766377 151.31455-37.309217-35.750956L476.493913 37.561507l-1.79571-1.81055L511.99258 0l37.309217 35.750957-1.810551 1.81055 170.310493 180.342725-37.309217 35.750956z"></path></symbol><symbol id="icon-xingzhuang8" viewBox="0 0 1212 1024"><path d="M608.820484 64.179444C661.042051 24.029735 725.901346 15.406979 790.194773 7.053684a825.143881 825.143881 0 0 1 264.961132 8.083834 526.203701 526.203701 0 0 1 86.038939 23.982041 170.703628 170.703628 0 0 1 50.254502 32.604797A77.470076 77.470076 0 0 1 1212.575098 132.08365q0.242515 284.955148 0 569.371374c0 86.227563 0.242515 172.724586-0.188622 258.952149a59.281449 59.281449 0 0 1-22.904197 52.814382 56.047916 56.047916 0 0 1-58.634742 3.233533 199.401238 199.401238 0 0 0-45.538932-15.628745 1168.518203 1168.518203 0 0 0-241.491067-11.85629c-52.167675 1.886228-104.146728 9.970062-156.287457 15.898207a34.814378 34.814378 0 0 0-16.841321 6.197606 70.706601 70.706601 0 0 1-46.212584 11.856289c-20.667669-0.808383-41.362284-1.347306-61.976061-2.42515a15.197608 15.197608 0 0 1-7.62575-2.155689c-44.434141-26.676652-94.63475-23.443119-142.949131-27.215574a1076.308604 1076.308604 0 0 0-141.386256-2.155689c-54.080849 2.694611-108.053914 8.892217-161.838357 15.898207a303.440182 303.440182 0 0 0-45.107794 16.976051 49.580848 49.580848 0 0 1-58.09582-33.143719 183.826385 183.826385 0 0 1-5.389223-39.880248Q0 546.649603 0 144.748323c0-60.089833 18.862279-82.455107 70.059895-104.820381A478.02405 478.02405 0 0 1 209.694654 6.784223a874.347484 874.347484 0 0 1 265.015024 8.083834 509.092919 509.092919 0 0 1 72.296422 18.862279 628.033063 628.033063 0 0 1 61.814384 30.449108zM578.748621 921.604769v-15.628745l-0.323353-312.574915q0-230.389269 0.538922-461.047998a31.203599 31.203599 0 0 0-15.332338-30.179647 172.185664 172.185664 0 0 0-41.901206-19.670663 924.925339 924.925339 0 0 0-114.359305-21.826351 778.742674 778.742674 0 0 0-272.398259 14.820362 346.122825 346.122825 0 0 0-64.886241 26.407191 30.529946 30.529946 0 0 0-16.167668 30.718569q0.458084 387.215648 0.242515 774.970219c0 3.502995 0.296407 7.275451 0.377245 8.622756a341.137794 341.137794 0 0 1 40.41917-22.904197A502.275552 502.275552 0 0 1 268.329396 862.32332c45.808393-1.347306 91.886246 0.808383 137.748531 3.233534a443.344402 443.344402 0 0 1 122.497031 23.71258 97.006008 97.006008 0 0 1 50.173663 32.335335zM1022.093024 64.179444v492.036029a11.640721 11.640721 0 0 1-2.694612 1.347306c-39.476056-40.688631-78.952112-81.646723-119.506012-123.413199-40.149709 41.497014-79.625765 82.455107-119.074875 123.413199-0.916168-0.269461-1.832336-0.808383-2.694611-1.077845V63.1016a410.739605 410.739605 0 0 0-107.029962 26.676652 154.589852 154.589852 0 0 0-25.248508 15.359284 27.808389 27.808389 0 0 0-11.505991 23.982041q0.242515 391.257565 0.161677 782.784592a10.185631 10.185631 0 0 0 0.592814 4.041917 345.314442 345.314442 0 0 1 39.772464-22.634736A502.84142 502.84142 0 0 1 843.655861 862.32332a829.94029 829.94029 0 0 1 211.338367 12.664673 188.622793 188.622793 0 0 1 104.308404 45.00001v-12.664674c-0.242515-54.431149-0.700599-109.131759-0.700598-163.562907 0-68.98205 0.619761-137.9641 0.673652-206.676689 0-132.844339-0.404192-265.688677 0.511977-398.533016a43.113781 43.113781 0 0 0-25.787431-43.113781 350.46115 350.46115 0 0 0-111.907208-31.257492z"></path></symbol><symbol id="icon-xingzhuang9" viewBox="0 0 1170 1024"><path d="M1066.790472 74.786141H1036.766305v59.243789h30.097308a42.220342 42.220342 0 0 1 44.908254 38.764454v753.164094a42.238627 42.238627 0 0 1-44.908254 38.947305H103.420639a42.183772 42.183772 0 0 1-44.8534-38.947305V172.794384a42.165487 42.165487 0 0 1 44.8534-38.764454h449.320254V74.786141H103.347498A100.952148 100.952148 0 0 0 0 172.794384v753.164094A100.842437 100.842437 0 0 0 103.347498 1023.966721h963.442974a100.897292 100.897292 0 0 0 103.420639-98.008243V172.794384a101.007003 101.007003 0 0 0-103.420639-98.008243zM239.973915 419.277802h222.365345a29.530469 29.530469 0 0 0 0-59.060938H239.973915a29.530469 29.530469 0 0 0 0 59.060938z m0 123.973114a29.621894 29.621894 0 0 0 0 59.243789h296.456651a29.621894 29.621894 0 0 0 0-59.243789H239.973915z m-29.256192 212.838797a29.256192 29.256192 0 0 0 29.256192 29.439043H610.540157a29.530469 29.530469 0 0 0 0-59.060938H239.973915a29.384188 29.384188 0 0 0-29.256192 29.621895z m449.320254-210.461732v0.914256h0.511984l139.936023 235.695197 139.917739-235.695197h0.475413v-0.914256l0.457128-0.731404h-0.457128V140.795424a140.429722 140.429722 0 1 0-280.841159 0v404.101153h-0.420557z m140.448007 159.994801l-72.043373-121.413197h144.050176zM718.605217 140.795424a81.917338 81.917338 0 0 1 163.834675 0v404.101153H718.605217V140.795424z"></path></symbol><symbol id="icon-xingzhuang10" viewBox="0 0 1749 1024"><path d="M874.666667 938.24c321.536 0 756.565333-320 787.456-408.32-11.818667-96.853333-422.4-445.866667-787.456-445.866667-347.861333 0-787.456 278.186667-787.456 447.573334 9.088 84.053333 431.402667 406.613333 787.456 406.613333m0 85.76C509.568 1024 0 689.066667 0 533.333333 0 286.293333 513.152 0 874.666667 0 1270.656 0 1749.333333 375.466667 1749.333333 533.333333 1749.333333 664.32 1226.154667 1024 874.666667 1024z m0-299.52a213.333333 213.333333 0 1 0-218.88-213.333333 216.277333 216.277333 0 0 0 218.88 213.333333m0 86.186667a298.666667 298.666667 0 1 1 306.090666-298.666667 302.677333 302.677333 0 0 1-306.090666 298.666667z"></path></symbol><symbol id="icon-xingzhuang" viewBox="0 0 1157 1024"><path d="M420.997565 647.791304a37.843478 37.843478 0 0 1-17.363478 4.006957 38.600348 38.600348 0 0 1-33.658435-19.812174l-2.515478-5.565217-105.382957-231.735653a20.279652 20.279652 0 0 1-1.825391-8.236521 19.277913 19.277913 0 0 1 19.277913-19.144348 18.921739 18.921739 0 0 1 11.553391 3.784348l124.304696 88.820869a59.013565 59.013565 0 0 0 31.632696 9.349565 58.301217 58.301217 0 0 0 19.789913-3.561739L1051.581217 204.8C946.732522 80.806957 774.121739 0 578.782609 0 259.116522 0 0 216.375652 0 483.506087c0 145.808696 77.913043 276.925217 199.969391 365.523478a38.845217 38.845217 0 0 1 16.205913 31.610435 44.521739 44.521739 0 0 1-2.048 12.243478c-9.728 36.507826-25.33287 94.831304-26.045217 97.725218a52.624696 52.624696 0 0 0-3.116522 14.024347 19.322435 19.322435 0 0 0 19.277913 19.366957 22.038261 22.038261 0 0 0 11.130435-3.561739l126.70887-73.46087a60.104348 60.104348 0 0 1 30.72-8.904348 54.00487 54.00487 0 0 1 17.029565 2.671305 687.86087 687.86087 0 0 0 188.928 26.490435c319.643826 0 578.782609-216.598261 578.782609-483.728696a419.127652 419.127652 0 0 0-65.914435-223.944348L425.182609 645.342609z"></path></symbol><symbol id="icon-xingzhuang1" viewBox="0 0 1024 1024"><path d="M1023.360799 700.990429V196.873908A196.845499 196.845499 0 0 0 826.699958 0h-629.399916A196.845499 196.845499 0 0 0 0.639201 196.873908v630.252184a196.746067 196.746067 0 0 0 196.660841 196.873908h629.399916a196.831294 196.831294 0 0 0 193.592676-162.072964C968.133833 839.341934 742.11236 741.473159 624.357331 685.365515c-89.48814 108.66417-183.507505 173.862672-324.941379 173.862672s-235.794146-87.35747-224.558413-194.033014c7.457345-70.170065 55.52526-184.658066 264.004217-165.055903 109.871549 10.227216 160.141157 30.823693 249.842364 60.368984a711.33128 711.33128 0 0 0 57.130365-139.203773H248.436122v-39.346373h196.646636V311.077819H205.183521v-43.465668h239.757192v-101.98807a19.17603 19.17603 0 0 1 19.886253-16.051047H563.13608v118.181162h255.680399v43.465668h-255.680399v70.880289h208.635206a803.163157 803.163157 0 0 1-84.743848 212.640865C747.666306 616.615897 1023.360799 700.990429 1023.360799 700.990429z m-739.56976 90.482452c-149.459398 0-173.138244-94.459703-165.24056-133.94812s51.13608-90.482452 134.274823-90.482453c95.553447 0 181.021723 24.431683 283.734221 74.431405-72.187099 94.033569-160.72354 149.999168-252.768484 149.999168z"></path></symbol><symbol id="icon-xingzhuang2" viewBox="0 0 1024 1024"><path d="M289.714302 291.475655a49.459953 49.459953 0 0 0-31.604939 10.511306 33.934471 33.934471 0 0 0 0 54.261062 50.454266 50.454266 0 0 0 31.604939 10.511306 36.121959 36.121959 0 0 0 38.124788-38.067971 36.050936 36.050936 0 0 0-10.539714-27.272576 38.35206 38.35206 0 0 0-27.585074-9.943127z m312.114745 220.027189a27.997004 27.997004 0 0 0-21.065224 9.516992 30.298127 30.298127 0 0 0-9.019836 21.164656 29.971425 29.971425 0 0 0 9.019836 21.02261 28.139048 28.139048 0 0 0 21.065224 9.659038 41.732723 41.732723 0 0 0 27.102122-9.090859 26.61917 26.61917 0 0 0 11.051075-21.164655 28.224275 28.224275 0 0 0-11.051075-21.59079 39.772507 39.772507 0 0 0-27.102122-9.516992zM1023.360799 155.822999A156.036066 156.036066 0 0 0 867.79348 0h-711.643778A156.05027 156.05027 0 0 0 0.639201 155.822999v712.496047a156.05027 156.05027 0 0 0 155.567319 155.680954h711.643778A156.036066 156.036066 0 0 0 1023.360799 868.319046V155.822999zM389.060341 679.399639a671.033208 671.033208 0 0 1-106.405659-15.198779l-106.40566 53.26675 30.127674-91.476765q-121.433985-85.2268-121.433985-205.964766a231.731669 231.731669 0 0 1 88.834734-182.953531 322.043668 322.043668 0 0 1 215.282896-75.283673 340.907199 340.907199 0 0 1 199.217645 60.795117 243.194673 243.194673 0 0 1 106.888611 152.271883c-10.710168-0.710223-20.411819-0.994313-29.104952-0.994313a257.953114 257.953114 0 0 0-182.683645 70.31211 224.118075 224.118075 0 0 0-75.283673 169.885421 236.802663 236.802663 0 0 0 9.019836 64.204189c-10.710168 0.710223-20.070911 0.994313-28.096435 0.994313z m448.633875 106.391455l22.10215 76.420031-83.309197-46.164517a391.773394 391.773394 0 0 1-91.348925 16.051048 269.884866 269.884866 0 0 1-182.669441-64.914413 199.785823 199.785823 0 0 1 0-312.498266 286.930226 286.930226 0 0 1 363.847413 0.568179q77.769455 65.198502 77.783659 155.680954 0 95.454016-106.405659 174.856984z m-69.246775-274.28825a28.636205 28.636205 0 0 0-20.582272 9.516992 29.531086 29.531086 0 0 0-9.545402 21.164656 29.232792 29.232792 0 0 0 9.545402 21.02261 28.820863 28.820863 0 0 0 20.582272 9.659038 41.192953 41.192953 0 0 0 27.599278-9.090859 27.073713 27.073713 0 0 0 10.52551-21.164655 28.74984 28.74984 0 0 0-10.52551-21.59079 39.388986 39.388986 0 0 0-27.599278-9.516992zM502.497212 366.759329a36.136163 36.136163 0 0 0 38.124788-38.067971 36.079345 36.079345 0 0 0-10.539714-27.272576 38.35206 38.35206 0 0 0-27.585074-9.943127 49.459953 49.459953 0 0 0-31.604938 10.511306 33.934471 33.934471 0 0 0 0 54.261062 50.440061 50.440061 0 0 0 31.604938 10.511306z"></path></symbol><symbol id="icon-xingzhuangkaobei" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m276.16 380.96L441.92 727.36a19.008 19.008 0 0 1-26.56-1.76l-23.2-23.2-155.2-155.2a19.792 19.792 0 0 1 0-28.16l42.4-42.4a20.096 20.096 0 0 1 28.16 0l121.92 122.08 288.16-288.16a18.864 18.864 0 0 1 26.56 1.76l42.24 42.24a18.672 18.672 0 0 1 1.76 26.4z"></path></symbol><symbol id="icon-touxiang" viewBox="0 0 1024 1024"><path d="M914.272 802.848q0 68.576-41.728 108.288t-110.848 39.712H262.272q-69.152 0-110.848-39.712t-41.728-108.288q0-30.272 2.016-59.136t8-62.272 15.136-62.016 24.576-55.712 35.424-46.272 48.864-30.56 63.712-11.424q5.152 0 24 12.288t42.56 27.424 61.728 27.424T512 554.88t76.288-12.288 61.728-27.424 42.56-27.424 24-12.288q34.848 0 63.712 11.424t48.864 30.56 35.424 46.272 24.576 55.712 15.136 62.016 8 62.272 2.016 59.136zM731.424 292.576q0 90.848-64.288 155.136T512 512t-155.136-64.288-64.288-155.136 64.288-155.136T512 73.152t155.136 64.288 64.288 155.136z"></path></symbol><symbol id="icon-xin" viewBox="0 0 1164 1024"><path d="M1123.1869446875 325.13635625v-1.3175409375l0.338795625-6.211261875c0-2.2586409375 0.15057562500000002-4.5172809375 0.2070421875-6.775921875v-1.69398-9.7874428125c0-1.1293199999999999 0-3.5761809374999998-0.2070421875-6.964141875a235.0868446875 235.0868446875 0 0 0-11.7637528125-69.07675875c-1.8822009375-5.458381875000001-3.9526209374999994-10.728542812499999-6.0230418750000005-15.9987046875l-0.22586343749999999-0.5646599999999999a267.4042275 267.4042275 0 0 0-55.826068125-90.5338453125c-1.8822009375-2.0704209375-3.500893125-3.5761809374999998-4.4796365625000005-4.5172809375a11.293202812499999 11.293202812499999 0 0 0-1.4681165624999999-1.5057609374999998 222.58903312500001 222.58903312500001 0 0 0-48.9372140625-37.8322303125 220.330393125 220.330393125 0 0 0-23.791014375000003-12.798963749999999A231.924748125 231.924748125 0 0 0 914.7520587500001 39.982977500000004a8.3381484375 8.3381484375 0 0 0-2.4656821875-0.5646609375 269.8887328125 269.8887328125 0 0 0-138.98168625 3.5761809374999998 281.78424 281.78424 0 0 0-56.8989225 22.3981865625c-6.154795312499999 3.0115209375000003-12.328413750000001 6.211261875-18.596140312499998 9.5992228125-1.0540321875 0.75288-2.0704209375 1.31754-3.0679875 2.0704200000000004-0.39526218750000003 0.18822-2.6350809375 1.8822009375-6.135973125 4.517281875a310.5630853125 310.5630853125 0 0 0-70.82720625 62.677276875c-1.76926875 2.0704209375-3.5197153125000002 3.9526209374999994-5.194873125 6.0230418750000005l-11.293202812499999 13.17540375c-4.536103125 5.458381875000001-9.411002812500001 11.1049828125-14.3611903125 16.9398046875l-9.109850625 10.728542812499999-9.109850625-10.728542812499999c-4.9313653125000005-5.834821875-9.82508625-11.4814228125-14.361189375-16.9398046875l-11.29320375-13.17540375c-1.67515875-2.0704209375-3.4256053125-3.9526209374999994-5.194873125-6.0230418750000005a310.1866453125 310.1866453125 0 0 0-70.808383125-62.677276875c-3.500893125-2.6350809375-5.740711875000001-4.3290609374999995-6.1359740625-4.517281875-0.9975665625-0.75288-2.013954375-1.31754-3.0679865625-2.0704200000000004q-9.411002812500001-5.0819409375-18.614963437500002-9.5992228125A281.59601999999995 281.59601999999995 0 0 0 382.3528203125 42.99449750000002 269.8887328125 269.8887328125 0 0 0 243.3711340625 39.41831656249997a8.2063940625 8.2063940625 0 0 0-2.465683125 0.5646609375A231.924748125 231.924748125 0 0 0 184.64647718749995 59.55786218750001a269.1546740625 269.1546740625 0 0 0-72.65293968750001 50.6311940625 10.182705 10.182705 0 0 0-1.4681165624999999 1.5057609374999998 127.04853468750001 127.04853468750001 0 0 0-4.4984596875000005 4.5172809375A267.2724740625 267.2724740625 0 0 0 50.21971625000003 206.7459434375l-0.225864375 0.5646599999999999c-2.0704209375 5.270161875-4.1031975 10.5403228125-6.0230409375 15.9987046875a234.3904303125 234.3904303125 0 0 0-11.763753750000001 69.07675875c-0.1693978125 3.3879609375-0.2070421875 5.834821875-0.2070421875 6.964141875v11.4814228125c0 2.2586409375 0.1129321875 4.5172809375 0.2070421875 6.775921875s0.2070421875 4.140840937499999 0.319974375 6.211261875v1.3175409375a370.0782665625 370.0782665625 0 0 0 58.611723749999996 176.73862875 479.73526875 479.73526875 0 0 0 47.996113124999994 68.70031875 1325.5585378125 1325.5585378125 0 0 0 159.40356281249998 175.79752875h0.11293125l255.5463646875 236.4043846875a34.7830659375 34.7830659375 0 0 0 23.376930937500003 9.2227828125h0.22586343749999999a34.820709375 34.820709375 0 0 0 23.376930937500003-9.2227828125l255.5463646875-236.4043846875h0.1129321875a1325.5585378125 1325.5585378125 0 0 0 159.40356187499998-175.79752875 481.2974953125 481.2974953125 0 0 0 47.996113124999994-68.70031875 370.51117218750005 370.51117218750005 0 0 0 58.950520312500004-176.73862875zM810.2711084375001 694.2358775l-18.2949890625 15.6222646875-25.5791053125 23.9039465625c-62.6960990625 58.5364359375-147.73391906249998 137.4006375-188.370628125 175.0446478125-40.6367090625-37.6440103125-125.6745290625-116.508211875-188.370628125-175.0446478125l-25.5791053125-23.9039465625-18.2949890625-15.6222646875c-39.52621125-36.891130312499996-98.34497718749999-103.8974690625-98.34497625-103.897468125l-22.79344875-26.727247499999997a1448.9932481249998 1448.9932481249998 0 0 1-30.1152084375-36.1382503125c-11.293202812499999-15.245823750000001-20.704205625-28.7976675-28.552981875-40.65553125a487.301715 487.301715 0 0 1-45.41749875-82.2521625 307.11865875 307.11865875 0 0 1-18.031480312499998-79.2406415625c-0.6399478125-8.093461875-0.9599221874999999-16.5633646875-0.82816875-25.221487500000002v-0.9411a216.1519078125 216.1519078125 0 0 1 13.438911562500001-66.62989875000001 229.34613375 229.34613375 0 0 1 44.0246709375-70.39429875c0.6399478125-0.5646599999999999 0.9599221874999999-0.9411 1.5810478125-1.5057609374999998s1.2798965625-1.31754 1.8822009375-2.0704209375a187.260129375 187.260129375 0 0 1 35.159505-26.3508065625 1.22343 1.22343 0 0 1 0.63994875-0.37644l2.0704200000000004-1.1293209375a243.048553125 243.048553125 0 0 1 54.5838159375-21.645305625 228.423855 228.423855 0 0 1 23.18871-3.9526209374999994 231.002469375 231.002469375 0 0 1 128.5731178125 22.586405624999998 238.64420437500002 238.64420437500002 0 0 1 21.2876878125 12.23430375 448.7354259375 448.7354259375 0 0 1 57.538869375000004 50.8194140625c3.46324875 3.9526209374999994 9.411002812500001 10.728542812499999 16.3186790625 19.010225625l13.6271315625 15.998703749999999c17.5421090625 20.704205625 35.5359459375 42.16129125 35.761809375 42.5377321875a35.366548124999994 35.366548124999994 0 0 0 3.764401875 3.7644009375000005 35.761810312499996 35.761810312499996 0 0 0 16.9398046875 8.093461875c0.9411 0.18822 1.8822009375 0.18822 2.8421221875000002 0.37644h5.7971775c0.9411-0.18822 1.8822009375-0.18822 2.8421231249999996-0.37644a35.761810312499996 35.761810312499996 0 0 0 16.9398046875-8.093461875 35.366548124999994 35.366548124999994 0 0 0 3.7644009375000005-3.7644009375000005c0.3011521875-0.37644 18.2949890625-21.833525625 35.761810312499996-42.5377321875l13.6271315625-15.998703749999999c6.9264975-8.281681874999999 12.855429375-15.057603750000002 16.299855937500002-19.010225625a449.9588559375 449.9588559375 0 0 1 57.5576925-50.8194140625 236.0091234375 236.0091234375 0 0 1 21.2876878125-12.23430375 231.002469375 231.002469375 0 0 1 128.5731178125-22.586405624999998 227.106315 227.106315 0 0 1 23.1698878125 3.9526209374999994 248.45046843749998 248.45046843749998 0 0 1 54.583815 21.457085624999998 13.64595375 13.64595375 0 0 0 2.089243125 1.3175409375 1.1104987499999999 1.1104987499999999 0 0 1 0.6211256249999999 0.37644 187.4107059375 187.4107059375 0 0 1 35.178328125 26.3508065625c0.6399478125 0.75288 1.2798965625 1.31754 1.8822 2.0704209375s0.9411 0.9411 1.5810487500000001 1.5057609374999998a229.34613375 229.34613375 0 0 1 44.02467 70.39429875 216.8106778125 216.8106778125 0 0 1 13.438911562500001 66.62989875000001v0.9411c0.1129321875 8.6581228125-0.18822 17.128024687499998-0.84699 25.221487500000002a305.5564321875 305.5564321875 0 0 1-18.03148125 79.2406415625 485.6077340625 485.6077340625 0 0 1-45.4174978125 82.2521625c-7.811131874999999 11.857862812499999-17.2786003125 25.409706562500002-28.534160625 40.65553125-8.41343625 10.3521028125-18.31381125 22.3981865625-30.115207500000004 36.1382503125l-22.79344875 26.727247499999997s-58.36703812499999 67.00633875-97.9308928125 103.897468125z"></path></symbol><symbol id="icon-xin1" viewBox="0 0 1164 1024"><path d="M1123.1869446875 325.13635625v-1.3175409375l0.338795625-6.211261875c0-2.2586409375 0.15057562500000002-4.5172809375 0.2070421875-6.775921875v-1.69398-9.7874428125c0-1.1293199999999999 0-3.5761809374999998-0.2070421875-6.964141875a235.0868446875 235.0868446875 0 0 0-11.7637528125-69.07675875c-1.8822009375-5.458381875000001-3.9526209374999994-10.728542812499999-6.0230418750000005-15.9987046875l-0.22586343749999999-0.5646599999999999a267.4042275 267.4042275 0 0 0-55.826068125-90.5338453125c-1.8822009375-2.0704209375-3.500893125-3.5761809374999998-4.4796365625000005-4.5172809375a11.293202812499999 11.293202812499999 0 0 0-1.4681165624999999-1.5057609374999998 222.58903312500001 222.58903312500001 0 0 0-48.9372140625-37.8322303125 220.330393125 220.330393125 0 0 0-23.791014375000003-12.798963749999999A231.924748125 231.924748125 0 0 0 914.7520587500001 39.982977500000004a8.3381484375 8.3381484375 0 0 0-2.4656821875-0.5646609375 269.8887328125 269.8887328125 0 0 0-138.98168625 3.5761809374999998 281.78424 281.78424 0 0 0-56.8989225 22.3981865625c-6.154795312499999 3.0115209375000003-12.328413750000001 6.211261875-18.596140312499998 9.5992228125-1.0540321875 0.75288-2.0704209375 1.31754-3.0679875 2.0704200000000004-0.39526218750000003 0.18822-2.6350809375 1.8822009375-6.135973125 4.517281875a310.5630853125 310.5630853125 0 0 0-70.82720625 62.677276875c-1.76926875 2.0704209375-3.5197153125000002 3.9526209374999994-5.194873125 6.0230418750000005l-11.293202812499999 13.17540375c-4.536103125 5.458381875000001-9.411002812500001 11.1049828125-14.3611903125 16.9398046875l-9.109850625 10.728542812499999-9.109850625-10.728542812499999c-4.9313653125000005-5.834821875-9.82508625-11.4814228125-14.361189375-16.9398046875l-11.29320375-13.17540375c-1.67515875-2.0704209375-3.4256053125-3.9526209374999994-5.194873125-6.0230418750000005a310.1866453125 310.1866453125 0 0 0-70.808383125-62.677276875c-3.500893125-2.6350809375-5.740711875000001-4.3290609374999995-6.1359740625-4.517281875-0.9975665625-0.75288-2.013954375-1.31754-3.0679865625-2.0704200000000004q-9.411002812500001-5.0819409375-18.614963437500002-9.5992228125A281.59601999999995 281.59601999999995 0 0 0 382.3528203125 42.99449750000002 269.8887328125 269.8887328125 0 0 0 243.3711340625 39.41831656249997a8.2063940625 8.2063940625 0 0 0-2.465683125 0.5646609375A231.924748125 231.924748125 0 0 0 184.64647718749995 59.55786218750001a269.1546740625 269.1546740625 0 0 0-72.65293968750001 50.6311940625 10.182705 10.182705 0 0 0-1.4681165624999999 1.5057609374999998 127.04853468750001 127.04853468750001 0 0 0-4.4984596875000005 4.5172809375A267.2724740625 267.2724740625 0 0 0 50.21971625000003 206.7459434375l-0.225864375 0.5646599999999999c-2.0704209375 5.270161875-4.1031975 10.5403228125-6.0230409375 15.9987046875a234.3904303125 234.3904303125 0 0 0-11.763753750000001 69.07675875c-0.1693978125 3.3879609375-0.2070421875 5.834821875-0.2070421875 6.964141875v11.4814228125c0 2.2586409375 0.1129321875 4.5172809375 0.2070421875 6.775921875s0.2070421875 4.140840937499999 0.319974375 6.211261875v1.3175409375a370.0782665625 370.0782665625 0 0 0 58.611723749999996 176.73862875 479.73526875 479.73526875 0 0 0 47.996113124999994 68.70031875 1325.5585378125 1325.5585378125 0 0 0 159.40356281249998 175.79752875h0.11293125l255.5463646875 236.4043846875a34.7830659375 34.7830659375 0 0 0 23.376930937500003 9.2227828125h0.22586343749999999a34.820709375 34.820709375 0 0 0 23.376930937500003-9.2227828125l255.5463646875-236.4043846875h0.1129321875a1325.5585378125 1325.5585378125 0 0 0 159.40356187499998-175.79752875 481.2974953125 481.2974953125 0 0 0 47.996113124999994-68.70031875 370.51117218750005 370.51117218750005 0 0 0 58.950520312500004-176.73862875z"></path></symbol><symbol id="icon-faxianwei" viewBox="0 0 1024 1024"><path d="M751.532699 242.420532l-305.670114 141.134766a31.824793 31.824793 0 0 0-4.782494 2.632565 151.533399 151.533399 0 0 0-69.207223 131.628279l0.087752 2.486312a151.021512 151.021512 0 0 0 145.712504 145.814882h4.884872a151.401771 151.401771 0 0 0 129.434474-73.565583 19.46636 19.46636 0 0 0 1.243156-2.340058l149.924609-294.116076a39.488484 39.488484 0 0 0-51.627536-53.675087zM583.648143 553.209523a71.986043 71.986043 0 0 1-61.031646 34.077099h-2.354683a71.986043 71.986043 0 0 1-69.382729-69.47048v-2.486312a72.220049 72.220049 0 0 1 30.932646-61.42653l199.446093-92.139795zM965.691909 275.181348a39.488484 39.488484 0 0 0-69.938492 36.563411A432.79378 432.79378 0 1 1 732.168717 139.16546a39.503109 39.503109 0 0 0 40.219752-68.007944 511.88775 511.88775 0 1 0-299.936971 951.08744c13.469961 1.170029 26.88142 1.60879 40.234377 1.60879A512.034004 512.034004 0 0 0 965.691909 275.181348z" fill="#888888"></path></symbol><symbol id="icon-wodewei" viewBox="0 0 1024 1024"><path d="M769.367642 662.972352a377.70549 377.70549 0 0 0 127.841168-282.677923 385.183578 385.183578 0 0 0-770.305097 0 377.302108 377.302108 0 0 0 127.996315 282.677923C100.063274 710.292202 50.261071 883.126014 46.692689 981.334096A41.54838 41.54838 0 0 0 87.030922 1023.999535h1.55147a41.579409 41.579409 0 0 0 41.734556-39.872792c0.310294-10.239705 11.325735-251.027925 210.689692-251.027925a42.944703 42.944703 0 0 0 17.841911-4.033823 388.395122 388.395122 0 0 0 306.415421 0 42.944703 42.944703 0 0 0 17.841911 4.033823c198.277928 0 210.379398 240.633073 210.689692 251.183072A41.672497 41.672497 0 0 0 935.530131 1023.999535h1.551471a41.54838 41.54838 0 0 0 40.338233-42.665439c-3.568382-98.208082-53.370585-271.041894-208.052193-318.361744zM210.527972 380.294429A301.559319 301.559319 0 1 1 512.133835 678.021616a300.038878 300.038878 0 0 1-301.605863-297.727187z" fill="#888888"></path></symbol><symbol id="icon-zhuanlanwei" viewBox="0 0 1089 1024"><path d="M982.593302 32.133082l-19.745864-7.254871a413.354111 413.354111 0 0 0-152.983131-24.603472 396.44711 396.44711 0 0 0-152.983131 24.603472l-113.554489 46.683513-113.554489-46.683513a404.79021 404.79021 0 0 0-152.983131-24.603472 396.510196 396.510196 0 0 0-152.983131 24.603472l-19.745864 9.778304c-56.777244 22.08004-106.126133 93.524739-103.665786 155.03342v713.65842c0 51.730378 27.158449 86.112154 74.125847 86.112155a106.804305 106.804305 0 0 0 37.01561-7.412585l19.745863-7.25487a471.913531 471.913531 0 0 1 286.315027 0l123.41165 49.206945 130.824234-46.841227a475.067822 475.067822 0 0 1 286.299255 0l19.745864 7.412585a100.038351 100.038351 0 0 0 37.031381 7.412585c41.952075 0 74.04699-34.53949 74.04699-86.112154V189.689935a176.813802 176.813802 0 0 0-106.362705-157.556853z m24.68233 883.51701a19.714321 19.714321 0 0 1-7.396813-2.365719l-19.745864-5.046866a517.713841 517.713841 0 0 0-172.77631-29.492624 464.153974 464.153974 0 0 0-172.776309 29.492624l-93.792854 36.905209-93.792853-36.905209a517.713841 517.713841 0 0 0-172.77631-29.492624 473.348733 473.348733 0 0 0-172.776309 29.492624l-19.745864 7.412585a18.783805 18.783805 0 0 1-7.396813 2.523433V189.689935a108.25528 108.25528 0 0 1 56.777245-83.746436l17.348602-7.25487c64.174058-24.603473 185.12536-24.603473 249.299418 0l106.126133 41.794361v634.958851a37.062923 37.062923 0 0 0 74.125847 0V137.959557l103.665785-41.794361c64.174058-24.603473 185.12536-24.603473 249.299418 0l19.745864 7.412585a112.071972 112.071972 0 0 1 56.777244 86.112154v725.960157z" fill="#888888"></path></symbol><symbol id="icon-faxian" viewBox="0 0 1024 1024"><path d="M751.532699 242.274278l-305.670114 141.28102a31.824793 31.824793 0 0 0-4.782494 2.632565 151.284768 151.284768 0 0 0-69.207223 131.482025l0.087752 2.632566a151.021512 151.021512 0 0 0 145.712504 145.814882h4.884872a151.401771 151.401771 0 0 0 129.434474-73.565583 19.46636 19.46636 0 0 0 1.243156-2.340058l149.924609-294.116076a39.488484 39.488484 0 0 0-51.627536-53.821341zM965.691909 275.181348a39.488484 39.488484 0 0 0-69.938492 36.563411A431.901633 431.901633 0 1 1 732.168717 139.019207a39.488484 39.488484 0 1 0 40.219752-67.861691 511.88775 511.88775 0 1 0-299.936971 951.08744c13.469961 1.170029 26.88142 1.60879 40.234377 1.60879A512.048629 512.048629 0 0 0 965.691909 275.181348z" fill="#000000"></path></symbol><symbol id="icon-zhuanlan" viewBox="0 0 1089 1024"><path d="M982.593605 32.132776l-19.74587-7.254872a488.221367 488.221367 0 0 0-306.060985 0 490.94983 490.94983 0 0 0-59.931555 24.60348c-11.040023 7.570302-19.09924 11.986311-19.09924 40.690371v709.715775a37.062935 37.062935 0 0 1-74.12587 0v-709.715775c0-34.539501-8.20116-35.643503-21.48073-43.686949a433.415538 433.415538 0 0 0-52.566282-21.606902 404.790335 404.790335 0 0 0-152.983178-24.603481 396.510318 396.510318 0 0 0-152.983178 24.603481l-19.74587 9.778306c-56.777262 22.080046-106.126166 93.524768-103.665818 155.033468v713.65864c0 51.730394 27.158457 86.112181 74.12587 86.112181a106.804338 106.804338 0 0 0 37.01562-7.412587l19.74587-7.254872a471.913676 471.913676 0 0 1 286.315115 0l123.411688 49.20696 130.824274-46.841241a475.067968 475.067968 0 0 1 286.299344 0l19.74587 7.412587a100.038381 100.038381 0 0 0 37.031392 7.412587c41.952088 0 74.047013-34.539501 74.047012-86.112181V189.689678a176.813857 176.813857 0 0 0-106.173479-157.556902z" fill="#000000"></path></symbol><symbol id="icon-wode" viewBox="0 0 1024 1024"><path d="M769.367642 662.972352a377.70549 377.70549 0 0 0 127.841168-282.677923 385.183578 385.183578 0 0 0-770.305097 0 377.302108 377.302108 0 0 0 127.996315 282.677923C100.063274 710.292202 50.261071 883.126014 46.692689 981.334096A41.54838 41.54838 0 0 0 87.030922 1023.999535h1.55147a41.579409 41.579409 0 0 0 41.734556-39.872792c0.310294-10.239705 11.325735-251.027925 210.689692-251.027925a42.944703 42.944703 0 0 0 17.841911-4.033823 388.395122 388.395122 0 0 0 306.415421 0 42.944703 42.944703 0 0 0 17.841911 4.033823c198.277928 0 210.379398 240.633073 210.689692 251.183072A41.672497 41.672497 0 0 0 935.530131 1023.999535h1.551471a41.54838 41.54838 0 0 0 40.338233-42.665439c-3.568382-98.208082-53.370585-271.041894-208.052193-318.361744z" fill="#FF5A05"></path></symbol><symbol id="icon-xingzhuang3" viewBox="0 0 1024 1024"><path d="M871.298246 913.156491A110.753684 110.753684 0 0 1 760.598456 1024H263.401544A110.753684 110.753684 0 0 1 152.701754 913.156491V110.843509A110.753684 110.753684 0 0 1 263.401544 0h497.178947a110.753684 110.753684 0 0 1 110.69979 110.843509v802.312982zM807.415018 110.843509a46.852491 46.852491 0 0 0-46.816562-46.888421H263.401544a46.852491 46.852491 0 0 0-46.816562 46.888421v802.312982a46.852491 46.852491 0 0 0 46.816562 46.888421h497.178947a46.852491 46.852491 0 0 0 46.816562-46.888421V110.843509z m31.205052 705.122807H183.906807a15.988772 15.988772 0 0 1 0-31.977544H838.602105a15.988772 15.988772 0 0 1 0 31.977544z m0-640.089825H183.906807a15.988772 15.988772 0 0 1 0-31.977544H838.602105a15.988772 15.988772 0 0 1 0 31.977544zM551.936 884.053333a27.863579 27.863579 0 0 1-27.953404 27.845614h-7.976421a27.863579 27.863579 0 0 1-27.953403-27.845614v-8.08421a28.007298 28.007298 0 0 1 27.953403-28.025263h7.976421a28.007298 28.007298 0 0 1 27.953404 28.025263v8.08421z m32.336842-423.79228a18.324211 18.324211 0 0 1-5.389474-0.898246 16.042667 16.042667 0 0 1-9.772912-20.48l4.329544-12.395789a16.006737 16.006737 0 0 1 30.127158 10.778947l-4.329544 12.21614a15.934877 15.934877 0 0 1-15.072561 10.778948z m-60.883088 173.720701a18.108632 18.108632 0 0 1-5.281684-0.898245 15.916912 15.916912 0 0 1-9.790877-20.300351l45.289544-129.347369a15.970807 15.970807 0 0 1 30.127158 10.599299l-45.289544 129.167719a15.934877 15.934877 0 0 1-15.054597 10.778947z m-64.673684-120.72421a13.779088 13.779088 0 0 1-5.389474-0.898246 15.916912 15.916912 0 0 1-9.772912-20.300351l66.218667-188.990877a15.934877 15.934877 0 0 1 20.354245-9.880702 16.168421 16.168421 0 0 1 9.772913 20.48l-66.218667 188.990878a15.755228 15.755228 0 0 1-15.054596 10.599298z m-31.097263 88.746667a18.108632 18.108632 0 0 1-5.281684-0.898246 16.042667 16.042667 0 0 1-9.790877-20.48l9.754947-27.665965a15.970807 15.970807 0 1 1 30.127158 10.599298l-9.754947 27.665965a15.934877 15.934877 0 0 1-15.054597 10.778948z"></path></symbol><symbol id="icon-xingzhuang4" viewBox="0 0 1024 1024"><path d="M312.768 222.624a64 64 0 1 0 63.808 64 62.24 62.24 0 0 0-63.808-64z m288.288 0a64 64 0 1 0 63.808 64 62.256 62.256 0 0 0-63.808-64z m-14.4 353.504a48 48 0 0 0 0 95.488 48 48 0 1 0-0.032-95.488z m191.888 0a48 48 0 0 0 0 95.488 48 48 0 1 0-0.032-95.488zM1024 683.36A285.12 285.12 0 0 0 913.424 464c0.336-3.952 0.512-7.664 0.512-11.088 0-330.544-235.552-452.896-459.2-452.896C204.8 0 0 178.656 0 405.616c0 130.976 68.064 238.528 181.968 322l1.104 106.944 112.464-47.04a579.088 579.088 0 0 0 83.456 14.08c51.008 106.4 168.96 181.12 309.264 181.12a482.144 482.144 0 0 0 118.608-20.64L915.28 1024l-29.728-103.04C964.8 858.72 1024 776.32 1024 683.36z m-672.096 0a271.68 271.68 0 0 0 4.8 51.2 1094.432 1094.432 0 0 1-36.512-7.264l-11.744-2.464-19.424-4.048-18.32 7.664-24.672 10.32-0.112-11.776-0.336-32-25.84-18.928a416.592 416.592 0 0 1-116.208-123.76A286.176 286.176 0 0 1 64 405.616a318.896 318.896 0 0 1 112-240 395.2 395.2 0 0 1 124.56-74.176A439.12 439.12 0 0 1 454.784 64a495.392 495.392 0 0 1 147.072 21.392 365.088 365.088 0 0 1 125.536 66.4 315.056 315.056 0 0 1 87.696 116.8 435.04 435.04 0 0 1 34.064 153.856 358.88 358.88 0 0 0-160.976-38.4C500.08 384 351.904 518.4 351.904 683.36z m494.176 187.2l-29.696 23.2-0.464-0.32-25.28 6.72a433.776 433.776 0 0 1-102.4 18.56 308.672 308.672 0 0 1-109.376-19.52 273.424 273.424 0 0 1-86.624-51.84 214.288 214.288 0 0 1 0-327.856 273.6 273.6 0 0 1 86.624-52.032A309.744 309.744 0 0 1 688.176 448a292.576 292.576 0 0 1 104.624 19.376 288 288 0 0 1 87.68 52.544 243.6 243.6 0 0 1 58.592 75.328A198.24 198.24 0 0 1 960 683.36a184.144 184.144 0 0 1-29.936 96.8 353.104 353.104 0 0 1-83.984 90.4z"></path></symbol><symbol id="icon-xingzhuang5" viewBox="0 0 1102 1024"><path d="M26.385044 538.385241H1012.083018L564.324889 979.842464a25.321766 25.321766 0 0 0 0 36.624015 26.503186 26.503186 0 0 0 37.017822 0l489.107825-482.806918a25.164243 25.164243 0 0 0 12.208005-21.265557 25.833714 25.833714 0 0 0-6.694713-16.539879l0.393807-0.393806-1.18142-1.18142h-0.393807L601.342711 7.533914a26.503186 26.503186 0 0 0-37.017822 0 25.676192 25.676192 0 0 0 0 36.624016l448.545742 442.638643H26.385044a25.794334 25.794334 0 1 0 0 51.588668z"></path></symbol><symbol id="icon-g" viewBox="0 0 1024 1024"><path d="M592.859991 475.113495v86.004747H769.708167v239.267165a385.429099 385.429099 0 0 1-93.30778 33.623208 441.040176 441.040176 0 0 1-97.651341 11.579077q-16.879121 0-33.116835-1.417846V198.183385a349.397802 349.397802 0 0 1 24.440967-0.945231 296.363604 296.363604 0 0 1 114.462945 23.158154 261.682637 261.682637 0 0 1 94.939429 66.154901L847.824738 213.802198A311.881143 311.881143 0 0 0 722.446629 134.380308a461.463912 461.463912 0 0 0-145.880616-23.158154c-10.465055 0-20.750066 0.438857-30.945055 1.125275V0H486.138936v120.033055a413.403429 413.403429 0 0 0-202.54945 104.20044 379.150066 379.150066 0 0 0-88.39033 129.024A426.771692 426.771692 0 0 0 163.18509 521.407297a443.763341 443.763341 0 0 0 30.382418 167.047033 376.719473 376.719473 0 0 0 85.183296 129.564132 384.742681 384.742681 0 0 0 129.665407 83.799208 408.542242 408.542242 0 0 0 77.722725 22.15666V1024h59.425759v-93.217758c9.125978 0.483868 18.330725 0.810198 27.704263 0.810198a630.558945 630.558945 0 0 0 148.153671-17.644308A535.957099 535.957099 0 0 0 860.85542 858.80967v-383.718681H592.859991zM449.635024 821.338022a291.446154 291.446154 0 0 1-100.352-67.809055 310.789626 310.789626 0 0 1-65.108395-103.120176 350.320527 350.320527 0 0 1-23.326945-129.001494 353.437538 353.437538 0 0 1 23.326945-130.104264 304.499341 304.499341 0 0 1 65.097142-102.546286 301.089758 301.089758 0 0 1 98.191473-67.268923 289.994549 289.994549 0 0 1 38.731956-13.390769v625.596483a304.150505 304.150505 0 0 1-36.560176-12.355516z"></path></symbol><symbol id="icon-weibiaoti-" viewBox="0 0 1024 1024"><path d="M512 1024A512 512 0 1 1 1024 512 512 512 0 0 1 512 1024z m0-947.2A435.2 435.2 0 1 0 947.2 512 435.2 435.2 0 0 0 512 76.8z m211.499886 477.5936l-307.6096 183.413029a32.416914 32.416914 0 0 1-3.4816 1.111771c-0.877714 0.380343-1.784686 0.526629-2.691657 0.877714a39.087543 39.087543 0 0 1-11.966172 2.399086c-0.321829 0-0.6144 0.2048-0.965486 0.2048s-1.2288-0.351086-1.901714-0.380343a39.263086 39.263086 0 0 1-12.405028-2.516114c-0.526629-0.2048-0.936229-0.468114-1.4336-0.672914a36.981029 36.981029 0 0 1-17.729829-14.453029 32.709486 32.709486 0 0 1-1.901714-5.412571 33.850514 33.850514 0 0 1-2.574629-12.843886c0-0.702171-0.4096-1.316571-0.4096-2.018743V319.985371c0-0.702171 0.351086-1.316571 0.4096-2.018742a33.938286 33.938286 0 0 1 2.574629-12.843886 32.182857 32.182857 0 0 1 1.901714-5.441829 37.127314 37.127314 0 0 1 17.759086-14.453028 13.633829 13.633829 0 0 1 1.375085-0.643657 39.087543 39.087543 0 0 1 12.522058-2.633143c0.643657 0 1.199543-0.351086 1.8432-0.351086s0.585143 0.175543 0.936228 0.175543a38.912 38.912 0 0 1 12.053943 2.428343c0.877714 0.292571 1.784686 0.468114 2.633143 0.848457a33.909029 33.909029 0 0 1 3.4816 1.111771l307.580343 183.413029a48.010971 48.010971 0 0 1 26.331428 42.949486 49.737143 49.737143 0 0 1-26.331428 41.866971zM649.508571 512l-214.396342-127.853714v255.678171z"></path></symbol><symbol id="icon-dianji" viewBox="0 0 1024 1024"><path d="M686.027 362.189c-6.642 0-12.861 1.093-18.95 3.162-0.638-0.338-1.292-0.556-1.982-0.757-11.384-18.209-30.737-29.391-52.559-29.391a65.179 65.179 0 0 0-21.469 3.617c-11.265-18.964-31.071-30.634-53.396-30.634-4.001 0-7.937 0.353-11.789 1.058v-34.416c0-35.862-27.505-63.955-62.625-63.955-35.476 0-64.343 28.683-64.343 63.955v168.986l-9.887-9.87c-11.464-11.381-27.454-17.669-45.022-17.669-17.688 0-34.854 6.622-45.918 17.7-24.108 24.111-32.144 65.973-3.832 94.305l144.44 143.477c3.309 3.281 7.11 6.272 11.281 8.88 27.099 21.941 59.379 36.499 127.623 36.499 158.613 0 171.894-92.989 171.894-188.25V426.179c-0.02-35.896-27.307-63.991-63.469-63.991z m38.267 166.681c0 92.371-10.809 163.032-146.674 163.032-61.567 0-88.618-12.003-112.358-31.357l-1.447-1.022c-2.776-1.682-5.246-3.58-7.347-5.686L312.063 510.393c-18.88-18.896-9.114-45.645 3.848-58.61 6.356-6.352 17.119-10.307 28.094-10.307 10.861 0 20.546 3.685 27.238 10.326l52.893 52.706V274.795c0-21.367 17.551-38.735 39.123-38.735 20.981 0 37.407 17.016 37.407 38.735v73.152l0.321-0.167v75.154c0 6.958 5.65 12.608 12.609 12.608 6.962 0 12.608-5.649 12.608-12.608v-87.649c3.701-1.141 7.502-1.934 11.482-1.934 16.275 0 29.842 10.088 35.391 26.281l1.597 4.675v82.532c0 6.958 5.65 12.609 12.612 12.609 6.958 0 12.609-5.65 12.609-12.609v-84.181c4.085-1.363 8.337-2.287 12.639-2.287 16.278 0 29.827 10.086 35.392 26.276l0.856 2.504v82.5c0 6.962 5.65 12.608 12.609 12.608 6.962 0 12.608-5.647 12.608-12.608V389.84c4.054-1.494 8.273-2.468 13.386-2.468 21.014 0 36.872 16.657 36.887 38.769v102.726h0.02z m-364.5-135.357c2.255 1.697 4.911 2.487 7.516 2.487 3.848 0 7.649-1.748 10.12-5.079 4.169-5.6 3.009-13.501-2.588-17.654-33.744-25.116-53.114-63.635-53.114-105.649 0-72.547 59.03-131.591 131.592-131.591 72.565 0 131.612 59.046 131.612 131.591 0 8.809-0.875 17.653-2.607 26.228-1.378 6.827 3.043 13.484 9.87 14.863 6.823 1.328 13.48-3.059 14.859-9.869a157.413 157.413 0 0 0 3.111-31.205c0-86.467-70.359-156.811-156.83-156.811-86.467 0-156.811 70.359-156.811 156.811 0 49.33 23.656 96.388 63.265 125.878z m0 0z"></path></symbol><symbol id="icon-video" viewBox="0 0 1422 1024"><path d="M1292.941504 0.000284H129.279928A129.023928 129.023928 0 0 0 0 128.000213v767.999574A129.023928 129.023928 0 0 0 129.279928 1023.999716h1163.661576A129.023928 129.023928 0 0 0 1422.221432 895.999787v-767.999574A129.023928 129.023928 0 0 0 1292.941504 0.000284zM930.929261 569.599968l-265.045186 166.399908c-45.255086 31.999982-90.510172 12.799993-90.510172-44.799976V332.8001c0-57.599968 38.798201-76.799957 90.510172-44.799976l265.045186 166.399908c51.711971 31.999982 51.711971 83.199954 0 115.199936z"></path></symbol><symbol id="icon-fire" viewBox="0 0 1024 1024"><path d="M536.841481 0a394.770963 394.770963 0 0 1 45.511112 191.070815c0 153.220741-73.367704 277.598815-163.972741 277.598815-70.580148 0-130.199704-75.96563-153.448296-181.930667C182.897778 399.985778 113.777778 534.072889 113.777778 666.718815 113.777778 864.06637 292.02963 1024 512 1024s398.222222-159.93363 398.222222-357.281185C910.222222 308.451556 551.461926 12.003556 536.841481 0z m-21.617777 938.666667c-134.144 0-174.193778-101.527704-167.329185-142.506667 13.729185-81.540741 96.161185-94.966519 158.568296-94.966519 148.176593 0 207.815111-150.793481 211.456-189.781333 0 0 53.342815 427.254519-202.695111 427.254519z"></path></symbol><symbol id="icon-line" viewBox="0 0 1024 1024"><path d="M6.5641024 0h157.538462v1024H6.5641024z"></path></symbol><symbol id="icon-circle" viewBox="0 0 1024 1024"><path d="M496 503.338667m-489.344 0a489.344 489.344 0 1 0 978.688 0 489.344 489.344 0 1 0-978.688 0Z"></path></symbol><symbol id="icon-lock" viewBox="0 0 1024 1024"><path d="M507.180564 589.653605a24.397417 24.397417 0 0 0-26.32167 21.855283v166.862794a26.780666 26.780666 0 0 0 52.64334 0v-166.915755a24.397417 24.397417 0 0 0-26.32167-21.802322z m332.172062-223.672408h-57.092073V277.183075a278.593076 278.593076 0 0 0-77.67629-195.779559A272.27305 272.27305 0 0 0 507.180564 0.019949a272.255397 272.255397 0 0 0-197.403699 81.34826 278.593076 278.593076 0 0 0-77.67629 195.779558v88.780469H184.559154A92.946743 92.946743 0 0 0 88.275862 454.885242v480.004165A92.946743 92.946743 0 0 0 184.559154 1023.934681h654.793472A92.946743 92.946743 0 0 0 935.653572 934.889407v-480.004165a92.946743 92.946743 0 0 0-96.283292-88.97466zM283.878883 277.183075A219.382558 219.382558 0 0 1 507.180564 51.868872 219.382558 219.382558 0 0 1 730.499898 277.183075v88.780468H283.878883V277.183075z m599.99638 657.706332a41.344971 41.344971 0 0 1-44.504983 37.072775H184.559154a41.344971 41.344971 0 0 1-44.504983-37.072775v-480.004165a41.344971 41.344971 0 0 1 44.504983-37.072775h654.793472a41.344971 41.344971 0 0 1 44.504983 37.072775v480.004165z"></path></symbol><symbol id="icon-arrowright1-copy" viewBox="0 0 1024 1024"><path d="M105.34425701 267.649318L64.321958 308.671617 512 756.349659 959.677019 308.671617 918.65472 267.649318 512 674.30506099Z"></path></symbol><symbol id="icon-video-" viewBox="0 0 1611 1024"><path d="M1454.610963 13.198222H152.538074A126.596741 126.596741 0 0 0 26.093037 139.643259v745.775408a126.596741 126.596741 0 0 0 126.445037 126.445037h1302.034963a126.596741 126.596741 0 0 0 126.445037-126.445037V139.643259a126.520889 126.520889 0 0 0-126.407111-126.445037zM1543.130074 885.418667a88.632889 88.632889 0 0 1-88.519111 88.519111H152.538074A88.632889 88.632889 0 0 1 64.018963 885.418667V139.643259a88.632889 88.632889 0 0 1 88.519111-88.519111h1302.034963a88.632889 88.632889 0 0 1 88.519111 88.519111v745.775408z"></path><path d="M975.909926 457.234963l-268.781037-161.261037c-50.706963-30.416593-92.197926-6.940444-92.197926 52.186074v328.779852c0 59.126519 41.490963 82.602667 92.197926 52.186074l268.781037-161.298963c50.706963-30.416593 50.706963-80.175407 0-110.592z"></path></symbol><symbol id="icon-xingzhuang6" viewBox="0 0 1117 1024"><path d="M285.52529 664.619668l-0.152077 2.668949c0.253461-0.707157 0.532269-1.414314 0.811077-2.124007z m692.000212 179.704107c-3.725882-0.147008-17.362103 3.713209-17.995756 3.80192a412.128176 412.128176 0 0 0-2.407883-134.841445c-4.055382-21.767262-0.076038-34.034792 15.562527-47.397275 19.034948-16.236735 43.240508-42.366067 40.832626-73.364391a23.460384 23.460384 0 0 0-2.864114-8.503629c-19.643256-23.701172-42.961701-22.200681-66.406877-15.714604-70.031375 19.372052-132.788408 1.315464-208.117124-6.562115-0.887115-19.009602-1.748883-38.153539-2.635999-57.282268-0.101385-2.810887-2.23046-8.521371-3.624497-8.762159-1.039192-0.185027-4.765074 3.515509-5.778919 6.516491-11.60853 31.081967 5.525458 73.549418-37.309513 78.279008-13.560183-15.040397-26.43602-39.218077-30.035171-56.570042-4.308843-20.831989-20.555717-35.256476-17.38745-5.431677 1.77423 16.474989 16.753796 43.795589 32.189593 67.103896a19.263064 19.263064 0 0 1-14.751451 0.613376c-74.289525-24.220768-143.484477-58.906955-221.702654-35.829298 66.381531-4.09847 127.668488 16.099866 184.13968 46.733206 28.007481 15.187405 49.298235 11.058519 72.565988-1.062003 61.109535-31.844886 168.881306-14.361121 215.061966 36.029533 48.765966 53.226886 62.478226 184.79361 23.850715 245.675029-20.910562 32.949977-45.547007 65.851797-87.469517 71.106051-57.358306 7.190699-115.375612 10.295601-172.429765-5.426608a54.87185 54.87185 0 0 0-19.87137-1.323068c-95.098703 10.024397-190.04533 11.74033-284.814534-3.67519-58.803036-9.568166-82.045443-43.886835-89.80136-103.059924-8.085417-61.644338 16.348258-108.324317 9.04857-168.082903-8.161456 21.496058-16.474989 42.931286-24.332291 64.531263-4.435574 12.237115-4.384882 28.727311-12.698414 36.483228-32.189593 29.984479-87.925747 27.607012-119.583071-3.041536-13.230683-12.809937-24.53506-27.568992-37.613666-40.553818-21.823023-21.660808-41.669048-23.589649-62.351495-2.684156-20.251563 20.446728-33.380861 46.492418-27.297789 76.223436 19.212371 93.795912 113.525344 142.503582 191.870252 135.094906 41.821125-3.946393 47.29589-21.51887 71.628181-35.39081a12.450022 12.450022 0 0 1 3.751228-0.91753c6.463265 7.489783 10.848146 12.515922 17.362103 20.023447-9.910339 5.558408-25.548905-2.504198-29.097364 16.315308-5.854957 10.328551 19.719294 6.083073 26.005136 7.096919 7.654533 1.231822 15.866681 0.030415 23.141022 2.207648 103.564313 31.003394 194.531596 29.817195 299.971523 23.985049 11.963376-0.661534 39.945511-9.654343 51.173849-8.653171 21.468177 1.911099 42.70824 8.475748 64.632647 10.645377 0 8.914236-4.156766 37.236009-4.156766 47.506263-1.089884 7.900391 2.027691 11.246081 7.071572 3.071952 3.269652-5.337896 9.352724-46.484814 14.675413-49.03717 4.435574-2.126541 47.904198-0.955549 52.719963-1.921237s26.537405 43.798123 31.682671 45.227646c5.880304 1.632291 8.744417 2.473783-0.811077-20.677378-5.145266-10.001585-8.643032-16.804488-13.661567-26.583028 13.889683-1.335741 25.447521-4.410228 36.549128-3.188544 56.065653 6.16925 102.651852-19.093244 147.108975-46.685048 15.131643-9.37807 33.507592-25.414571 33.507592-47.176764-4.993189-23.22213-26.055828-23.949564-49.095466-24.862025zM240.91609 902.237161c-79.434791 35.545422-185.356295-4.359535-222.0575-83.013665-14.751451-31.576217-3.725882-58.724463 13.053261-83.895711 11.709915-17.600357 44.583854-12.419607 61.92061 7.64186a107.688129 107.688129 0 0 1 9.555494 14.62979c34.977668 57.20116 75.784947 67.453672 134.461253 33.730638 4.866458-2.788075 9.656878-5.654723 14.675413-8.602479-2.68669 39.223146-2.68669 58.042652 14.067105 111.211242a225.20549 225.20549 0 0 0-25.675636 8.308464z m633.349253-310.267123c49.222197 4.876597 105.034389-21.369327 132.661677-2.438298 12.014069 8.252702-42.37874 71.141535-58.77769 89.302042-15.28372-35.841971-39.03305-61.783742-73.883987-86.853605zM286.18429 665.16461c-14.143144-48.811589-2.788075-77.559177 40.731241-102.220967 15.182336-8.617686 30.11121-18.125022 46.256698-24.491972 18.984256-7.489783 37.715051-8.23496 49.450312 22.3046-52.162348-24.943133-81.209021 9.187974-113.42396 34.470746-16.525681 12.951876-19.41514 29.672722-15.61322 49.632804 1.11523 5.857492-5.170612 13.129299-8.060071 19.752244z m207.508817 27.72107c-0.228115 6.323861-1.292653 16.928684-1.495422 21.351585-0.836422 18.340464-1.77423 32.470935 6.792765 38.820142 10.290531 7.603841 33.1274 3.589013 48.157659-1.875614 18.021103-6.546907 33.532938-19.939805 48.86735-29.561199-14.979567 34.496091-58.625613 60.526573-93.983473 49.571974-11.988722-3.715744-25.067329-21.290754-27.373827-34.328807-2.55996-14.510663 6.640688-31.089571 10.696069-46.766156 3.193613-7.859837 10.189147-18.510283 8.338879 2.788075zM369.547732 890.172401c28.691826-28.324307 89.776015-31.244182 76.013062-93.020321 14.700759 3.682794 18.29991 11.464057 12.825145 33.203439-6.995534 27.705862-62.376841 65.575524-88.838207 59.816882z m-47.397275-32.189594c-5.753573-42.008686 60.906765-85.005872 107.366233-68.414291-46.05393 9.778539-87.672285 20.692586-107.366233 68.432034z m298.881639 9.854578c-43.189816-29.538387-68.333183-16.551027-63.796225 45.524196-0.405538 8.085417-3.877959 12.741503-7.603841 1.173526-1.140576-13.068468-3.041536-28.007481-2.23046-38.432347 1.875614-24.099106 23.41983-35.738052 40.959356-35.314771 10.36657 0.253461 25.65029 12.031811 38.779589 18.981721 9.276686 6.597599 2.281152 12.406934-6.108419 8.098091zM889.929255 833.321017c0 7.051295-31.175748 75.047375-39.387895 87.269282s-15.714604 12.576753-9.631532-4.177044 23.952099-82.344528 35.712706-88.39465 13.306722-1.751418 13.306721 5.302412z m-35.129744-207.627945c8.490956 8.490956 33.583631 64.031944 33.58363 75.675959s-5.221304 12.23458-12.343568 4.749866-17.742295-51.16878-26.613443-76.750635c-3.117575-8.764694-3.117575-12.173749 5.373381-3.67519z m-468.295214 6.843457c8.060071-12.622376 25.016636-24.025603 31.784055-38.959546 4.891804-10.739158-4.612997-29.601753-0.126731-36.627701 1.77423-2.788075 7.071572 7.142541 9.783609 10.792384 11.507146 19.143937 0.025346 40.759122-41.440933 64.797398z m453.974647 122.404096s14.143144 2.027691 18.173179 20.20594 0 28.288823 0 28.288823-8.338879 4.463455-11.557838-2.549822-4.055382-12.419607-6.615341-12.419606-1.77423-8.00431 0-8.587271 0-24.935529 0-24.935529z m-146.678091 7.096918s-3.244305 16.72845 0 22.119573 14.574028 3.325413 14.574028-4.270824-5.398727-22.160127-14.574028-17.84368zM344.201595 872.835643c1.140576-2.281152-0.608307-13.643825 6.818111-12.166145s12.622376 5.9386 9.656878 13.359948-8.92184 6.678707-7.426418 10.391916 14.092452 2.968033 15.587874-8.16399 1.495422-40.074776-20.783832-31.910786-10.898839 29.860283-9.656878 31.910786 4.663689-1.143111 5.804265-3.416659z m-36.219628-240.301648s5.094573-18.487472 12.495645-12.92653 0 25.014102 0 25.014102 8.820455 4.169439 12.064761-6.483542 6.944841-35.669618-6.032381-31.964012-18.528026 7.915598-18.528025 17.139057v9.223459zM987.816034 147.340512a10.019328 10.019328 0 0 1-9.048571-14.386467l51.984926-108.291367-76.266524 18.038845a10.044674 10.044674 0 0 1-4.638343-19.544406L1046.593724 0.27716a10.052278 10.052278 0 0 1 11.380415 14.117798L1005.178137 124.313547l100.953661-16.350792a10.039605 10.039605 0 0 1 3.193613 19.825747l-119.912571 19.422745a9.976239 9.976239 0 0 1-1.596806 0.134334z m-54.494193 160.050712a10.217028 10.217028 0 0 1-2.154422-0.23065l-66.204108-14.447298a10.057347 10.057347 0 0 1-5.525457-16.292496l58.524228-69.212694-56.090999-1.363622a10.014258 10.014258 0 0 1-9.783609-10.280393 9.907805 9.907805 0 0 1 10.290531-9.796282l77.026908 1.87308a10.03707 10.03707 0 0 1 7.426418 16.518077l-61.286957 72.489949 49.906542 10.898839a10.042139 10.042139 0 0 1-2.129075 19.848559z m-65.418378 167.667226a10.039605 10.039605 0 0 1-8.541648-15.347086l39.996203-64.21697-48.259043 9.715174a10.039605 10.039605 0 1 1-3.953998-19.686344l71.04522-14.307894a10.047208 10.047208 0 0 1 10.518647 15.15192l-41.238164 66.201573 63.517418-7.573425a10.042139 10.042139 0 0 1 2.382537 19.944874l-84.275904 10.047209a10.199285 10.199285 0 0 1-1.191268 0.076038z"></path></symbol><symbol id="icon-right" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 0 512 512A513.504 513.504 0 0 0 512 0z m0 960A445.24 445.24 0 0 1 64 512a448 448 0 1 1 448 448z m230.4-614.4L435.2 652.8 281.6 499.2c-19.456-19.456-45.056-19.456-57.344 0s-19.456 45.056 0 57.344l179.2 179.2c19.456 19.456 45.056 19.456 57.856 0L800.256 396.8c19.456-19.456 19.456-45.056 0-57.344-12.8-12.8-38.912-12.8-57.856 6.144z"></path></symbol><symbol id="icon-remove" viewBox="0 0 1024 1024"><path d="M710.68 287.424a25.472 25.472 0 0 0-15.848 5.504l-0.264-0.248L512.072 475.2 333.088 296.2l-0.176 0.2a25.6 25.6 0 1 0-33.712 37.864l-0.208 0.232 72.952 72.952-0.384 0.376 103.936 103.944-97.536 97.544 0.376 0.376-78.72 78.72a25.6 25.6 0 1 0 30.264 41.128l0.52 0.496 181.68-181.68L692.12 728.4a25.6 25.6 0 0 0 34.968-37.368L645.816 609.688l0.376-0.376-97.536-97.544 103.936-103.936-0.384-0.384 74.4-74.4a25.776 25.776 0 0 0 4-4l1.304-1.304-0.2-0.184a25.6 25.6 0 0 0-21.032-40.136zM512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m0 972.8A460.8 460.8 0 1 1 972.8 512 460.8 460.8 0 0 1 512 972.8z"></path></symbol><symbol id="icon-gou" viewBox="0 0 1280 1024"><path d="M126.912 458.752L425.984 691.2 1170.24 21.504a76.8 76.8 0 0 1 93.504-9.856 60.16 60.16 0 0 1-5.824 86.4l-777.088 889.6a78.656 78.656 0 0 1-130.432-0.96L15.168 544.448a71.168 71.168 0 0 1 9.856-96 75.968 75.968 0 0 1 101.888 10.304z"></path></symbol><symbol id="icon-xingzhuang7" viewBox="0 0 1024 1024"><path d="M382.534474 257.173856h245.456447c75.955881 0 133.899948-165.685005 133.899948-165.685005C761.890869 41.878103 756.950099 4.348555 672.610136 1.692045S568.092543 60.989747 507.491966 60.989747C445.38547 60.989747 414.319531 12.267323 337.898338 1.692045S248.634526 41.878103 248.634526 91.488851c0 0 57.918686 165.685005 133.899948 165.685005z m258.882821 51.209729H382.534474C95.885201 308.383585 25.513067 874.820889 25.513067 874.820889c0 74.3992 59.94914 149.128349 133.899948 149.12835h705.134198c73.942348 0 133.891488-74.729149 133.891488-149.12835 0 0-70.414435-566.437304-357.021406-566.437304z m29.382354 435.32923a31.472029 31.472029 0 0 1 0 62.944059h-126.903344v82.563315a31.252063 31.252063 0 1 1-62.504127 0v-82.563315h-127.749366a31.472029 31.472029 0 0 1 0-62.944059h127.749366v-39.932252h-127.749366a31.480489 31.480489 0 0 1 0-62.952519H439.979387l-88.409329-158.036964a31.573552 31.573552 0 0 1 11.438221-42.977932 31.150541 31.150541 0 0 1 42.698745 11.480523l106.454985 189.508993h5.389162l106.446525-189.508993a31.142081 31.142081 0 0 1 42.681824-11.480523 31.565092 31.565092 0 0 1 11.463602 42.977932l-88.409329 158.036964h81.065856a31.480489 31.480489 0 0 1 0 62.952519h-126.903344v39.932252h126.903344z m0 0"></path></symbol><symbol id="icon-shanchu1-copy" viewBox="0 0 1024 1024"><path d="M62.03327281 991.97774563a30.00010875 30.00010875 0 0 1-21.22916813-51.20745937l428.35792126-428.79428626L40.80410468 83.05080404A30.00010875 30.00010875 0 0 1 83.26244094 40.65792219l449.45617968 450.02345438a29.97829124 29.97829124 0 0 1 1e-8 42.39288187l-449.45617969 450.02345437a29.82556314 29.82556314 0 0 1-21.22916813 8.88003281z m900.1341825-1e-8a29.82556314 29.82556314 0 0 1-21.22916811-8.72730468l-449.45618064-450.02345437a29.97829124 29.97829124 0 0 1 0-42.39288188L940.9382872 40.81065031a30.00010875 30.00010875 0 0 1 42.45833623 42.39288094L555.03870219 511.976l428.35792124 428.72883187a30.00010875 30.00010875 0 0 1-21.22916812 51.27291375z"></path></symbol><symbol id="icon-xingzhuangkaobei1" viewBox="0 0 1057 1024"><path d="M936.167226 136.423226H109.898323a27.086452 27.086452 0 1 1 0-54.172903h826.268903a27.086452 27.086452 0 1 1 0 54.172903z m0 793.765161H109.898323a27.086452 27.086452 0 1 1 0-54.172903h826.268903a27.086452 27.086452 0 1 1 0 54.172903z m0-397.047742H109.898323a27.086452 27.086452 0 1 1 0-54.172903h826.268903a27.086452 27.086452 0 1 1 0 54.172903z"></path></symbol><symbol id="icon-xingzhuangkaobei2" viewBox="0 0 1056 1024"><path d="M950.4 168H529.92a25.28 25.28 0 1 1 0-50.56H950.4a25.28 25.28 0 1 1 0 50.56zM346.944 130.56a17.088 17.088 0 0 1 17.024 16.96v731.84a17.088 17.088 0 0 1-17.024 16.96h-172.8a17.088 17.088 0 0 1-17.024-16.96V147.52a17.088 17.088 0 0 1 17.024-16.96h172.8m0-47.68h-172.8a64.896 64.896 0 0 0-65.28 64.64v731.84a65.12 65.12 0 0 0 65.28 64.64h172.8a65.12 65.12 0 0 0 65.248-64.64V147.52a64.896 64.896 0 0 0-65.248-64.64zM950.4 920H529.92a25.28 25.28 0 1 1 0-50.56H950.4a25.28 25.28 0 1 1 0 50.56z m0-374.08H529.92a25.28 25.28 0 1 1 0-50.56H950.4a25.28 25.28 0 1 1 0 50.56z"></path></symbol><symbol id="icon-zhuanfa" viewBox="0 0 1380 1024"><path d="M30.510104 1024H27.749774a30.363628 30.363628 0 0 1-27.558777-30.274585c-3.517194-213.702954 54.672339-383.774888 172.965829-504.873229a639.550612 639.550612 0 0 1 297.447799-167.400648 1619.022485 1619.022485 0 0 1 267.618428-27.158083V30.726478a30.230064 30.230064 0 0 1 48.172208-24.932011L1367.711818 432.75516a30.230064 30.230064 0 0 1 12.466005 24.486797 31.165014 31.165014 0 0 1-12.510527 24.932011l-581.361078 424.734622a30.452671 30.452671 0 0 1-48.083165-24.932012v-248.429684c-209.250809 5.787788-465.204618 68.563031-573.035567 182.983155a422.24142 422.24142 0 0 0-104.981576 182.983154 30.363628 30.363628 0 0 1-29.695806 24.486797z m737.987535-451.892705a29.962935 29.962935 0 0 1 21.459338 8.90429 30.40815 30.40815 0 0 1 8.90429 21.81551v219.490742l499.441612-365.07588-499.441612-366.411523v233.737606a30.051978 30.051978 0 0 1-9.260462 21.81551 31.788314 31.788314 0 0 1-22.260724 8.904289 55.117554 55.117554 0 0 0-7.791254-0.445214c-47.059171 0-379.100136 8.90429-543.161675 176.750152a550.285107 550.285107 0 0 0-144.961837 304.081495 494.855903 494.855903 0 0 1 47.103693-58.323098 590.398932 590.398932 0 0 1 206.802129-142.023422c100.618474-41.850162 308.800769-63.220457 443.166502-63.220457z m0 0"></path></symbol><symbol id="icon-share" viewBox="0 0 1024 1024"><path d="M490.929231 499.987692H358.4a31.704615 31.704615 0 1 1 0-63.212307h93.696L383.803077 334.769231a31.586462 31.586462 0 1 1 52.578461-35.052308l85.07077 127.606154 85.464615-128.196923A31.763692 31.763692 0 0 1 659.495385 334.769231l-67.997539 102.006154h95.172923a31.704615 31.704615 0 1 1 0 63.212307h-132.529231v36.233846h132.529231a31.704615 31.704615 0 1 1 0 63.212308h-132.529231v131.544616a31.901538 31.901538 0 0 1-31.507692 31.704615c-17.526154 0-31.704615-14.178462-31.704615-31.704615v-131.544616H358.4a31.704615 31.704615 0 1 1 0-63.212308h132.529231v-36.233846zM809.353846 154.584615h-23.827692a40.763077 40.763077 0 0 1 0-81.32923h121.501538a40.763077 40.763077 0 0 1 40.96 55.079384V236.307692a40.763077 40.763077 0 0 1-40.96 39.384616A40.763077 40.763077 0 0 1 866.461538 236.307692v-23.630769l-57.107692 58.289231a40.96 40.96 0 0 1-57.501538-2.56 37.809231 37.809231 0 0 1 0-55.138462l57.501538-58.683077zM512 1006.867692C238.690462 1006.867692 17.132308 785.309538 17.132308 512S238.690462 17.132308 512 17.132308c33.476923 0.059077 66.835692 3.426462 99.643077 10.043077a42.220308 42.220308 0 1 1-16.935385 82.707692A410.584615 410.584615 0 1 0 922.584615 512a420.036923 420.036923 0 0 0-10.830769-94.326154 42.141538 42.141538 0 0 1 81.92-19.692308A495.064615 495.064615 0 0 1 512 1006.867692z"></path></symbol><symbol id="icon-info" viewBox="0 0 1024 1024"><path d="M505.294856 1023.956679A511.978339 511.978339 0 1 0 0.011618 505.873982v24.456812A510.993766 510.993766 0 0 0 505.294856 1023.956679z m0-966.339424a454.400468 454.400468 0 1 1 0 908.722169 454.400468 454.400468 0 0 1 0-908.722169z m-19.179496 569.556211h44.778413a13.784032 13.784032 0 0 0 12.799459-12.799459l12.799458-332.78592a20.439751 20.439751 0 0 0-19.179496-19.21888h-57.577872a16.974051 16.974051 0 0 0-19.179496 19.21888l12.799459 332.78592a13.784032 13.784032 0 0 0 12.760075 12.799459z m25.598917 153.593502a51.197834 51.197834 0 1 0-51.197834-51.197834 55.136129 55.136129 0 0 0 51.197834 51.197834z"></path></symbol><symbol id="icon-xingzhuang11" viewBox="0 0 1024 1024"><path d="M842.175549 430.510362L319.09522 23.5485A113.294059 113.294059 0 0 0 206.613179 8.967495a28.244078 28.244078 0 0 0-3.883561 1.659339A105.279802 105.279802 0 0 0 141.228138 105.067971v814.029639a105.315107 105.315107 0 0 0 62.207582 94.547052 112.976313 112.976313 0 0 0 115.624195-13.062886l523.115634-406.961862a102.384784 102.384784 0 0 0 0-163.109552z m-89.851474 81.519471L263.666217 892.301041V131.86454z"></path></symbol><symbol id="icon-likexuexi" viewBox="0 0 1024 1024"><path d="M684.032 881.152h-409.6c-43.008 0-77.824-34.816-77.824-77.824V220.672c0-43.008 34.816-77.824 77.824-77.824h409.6c79.36 0 143.872 64.512 143.872 143.872v450.56c0 79.36-65.024 143.872-143.872 143.872z m-409.6-674.304c-7.68 0-14.336 6.144-14.336 14.336v582.144c0 7.68 6.144 14.336 14.336 14.336h409.6c44.032 0 79.872-35.84 79.872-79.872V286.72c0-44.032-35.84-79.872-79.872-79.872h-409.6z"></path><path d="M664.064 412.16H359.936c-17.92 0-31.744-14.336-31.744-31.744 0-17.408 14.336-31.744 31.744-31.744h304.128c17.92 0 31.744 14.336 31.744 31.744 0 17.408-14.336 31.744-31.744 31.744z m-82.432 148.48H359.936c-17.92 0-31.744-14.336-31.744-31.744s14.336-31.744 31.744-31.744h222.208c17.92 0 31.744 14.336 31.744 31.744s-14.336 31.744-32.256 31.744z"></path></symbol><symbol id="icon-jiantou" viewBox="0 0 1024 1024"><path d="M336.325 171.134l387.574 297.604c26.938 20.681 26.938 65.523 0 86.203L336.325 852.545c-24.968 19.175-56.196-4.808-56.196-43.161V214.233c0-38.294 31.225-62.278 56.196-43.103z"></path></symbol><symbol id="icon-dingyue" viewBox="0 0 1024 1024"><path d="M967.87 882.012l-108.862-0.154-0.174 94.792c0 26.156-24.02 47.35-53.704 47.35-29.633 0-53.688-21.194-53.688-47.35l0.157-94.945-108.037-0.14c-29.685 0-53.704-21.208-53.704-47.349 0-26.157 24.02-47.38 53.704-47.38l108.214 0.155 0.157-92.34c0-26.143 24.039-47.35 53.704-47.35 29.685 0 53.705 21.207 53.705 47.35l-0.176 92.493 108.705 0.138c29.665 0 53.703 21.225 53.703 47.352 0 26.156-24.038 47.378-53.704 47.378zM806.476 584.445c-29.667 0-53.686-21.239-53.686-47.378l-0.403-394.609-3.11-2.775 3.11 2.751-0.018-2.15c-1.415-24.752-24.23-44.482-52.55-44.898l-0.647-0.569h52.848l0.313 18.365v-18.49l-590.435 0.37 0.062-0.046c-0.175 0-0.314 0.046-0.48 0.046h-0.332l0.586-0.546h-52.857v0.57h-1.014l0.393 722.053 289.729-255.92c20.97-18.48 54.988-18.48 75.932-0.015 0.541 0.461 0.874 1.017 1.38 1.477l125.906 110.391c20.96 18.481 20.96 48.458 0 66.94-20.979 18.496-54.963 18.496-75.942 0l-89.323-78.283L93.466 964.226c-1.407 1.235-2.98 2.175-4.493 3.237-9.317 6.906-21.222 11.237-34.36 11.237-29.64 0-53.705-21.225-53.705-47.395L0.463 93.728c0.253-48.905 42.611-88.6 96.7-93.356L755.62 0c55.332 1.109 99.842 39.103 104.089 87.192l0.472 449.873c0 26.14-24.056 47.38-53.705 47.38zM161.087 95.085c-29.222 0.447-52.831 21.386-52.831 47.273l3.365-2.968-3.593 3.213 0.848-47.518 52.271-0.024-0.06 0.025z m0.393-0.023h0.418l-50.277 44.328 49.466-44.304c0.113 0 0.254-0.024 0.393-0.024z m537.464 0.248c0.297 0 0.596 0.076 0.875 0.076l49.456 44.298-50.33-44.374z"></path></symbol><symbol id="icon-wenzhang" viewBox="0 0 1024 1024"><path d="M909.186 104.382c-19.215-7.887-42.481-11.722-71.123-11.722-111.623 0-278.723 61.038-327.92 79.992-48.772-19.038-213.591-79.992-324.451-79.992-28.479 0-51.663 3.835-70.88 11.722a36.568 36.568 0 0 0-22.68 33.828v671.04c0 18.63 14.008 34.28 32.523 36.343 1.268 0.14 127.604 14.312 192.38 30.969 66.48 17.095 183.073 52.812 184.242 53.171a36.545 36.545 0 0 0 20.668 0.228c1.622-0.46 162.64-45.969 204.775-57.417 32.996-8.964 136.047-22.523 172.97-26.992 18.363-2.222 32.174-17.806 32.174-36.302V138.21a36.564 36.564 0 0 0-22.678-33.828zM165.266 776.82V166.84c5.732-0.645 12.491-1.046 20.426-1.046 91.012 0 233.067 50.371 287.867 71.181l1.733 608.516c-40.617-12.127-98.824-29.157-140.043-39.756-48.997-12.598-126.374-23.394-169.984-28.915z m693.467 0.206c-43.613 5.71-119.445 16.32-151.186 24.943-28.407 7.718-107.685 30.023-159.119 44.526l-1.736-609.461c55.536-20.827 199.475-71.241 291.37-71.241 8.047 0 14.884 0.405 20.671 1.056v610.177z"></path></symbol><symbol id="icon-pintuan" viewBox="0 0 1024 1024"><path d="M939.008 839.026c0 23.381-18.887 42.382-42.098 42.382-23.21 0-42.098-19-42.098-42.382 0-0.228 0.114-0.54 0.114-0.74h-0.313c0-0.967 0.114-1.906 0.114-2.873 0-69.148-27.221-131.811-71.111-177.806l0.2-0.199a40.533 40.533 0 0 1-12.147-28.985c0-22.414 18.148-40.675 40.42-40.675a39.96 39.96 0 0 1 28.814 12.202l0.114-0.114c60.558 61.07 98.02 145.408 98.02 238.564h-0.114c0.085 0.114 0.085 0.313 0.085 0.626M604.075 579.868c-0.2 0.114-0.427 0.114-0.626 0.114-138.866 0-251.364 114.29-251.364 255.346 0 0.74 0.114 1.365 0.114 2.02 0 0.54 0.2 1.052 0.2 1.592 0 23.382-18.888 42.383-42.099 42.383-23.21 0-42.097-19.001-42.097-42.383 0-0.227 0.113-0.54 0.113-0.74h-0.455c0-137.13 81.351-254.918 197.974-307.91-48.527-40.05-79.56-100.921-79.56-169.102 0-120.776 97.195-218.596 217.174-218.596 119.865 0 217.173 97.82 217.173 218.596-0.028 120.632-96.995 218.368-216.547 218.68m-0.655-357.944c-76.288 0-138.24 62.236-138.24 139.15 0 76.8 61.839 139.15 138.24 139.15 76.288 0 138.24-62.236 138.24-139.15-0.085-76.914-61.923-139.15-138.24-139.15M346.795 260.38c-46.109 12.857-79.986 54.7-79.986 104.505 0 41.728 23.751 77.853 58.567 96.029 14.137 7.338 27.847 21.333 30.066 45.568 1.906 21.02-4.21 52.679-31.858 60.33-92.644 25.686-160.91 108.232-164.295 207.332 0.199 1.593 0.512 3.186 0.512 4.779 0 20.707-16.669 37.603-37.348 37.603-20.565 0-37.347-16.782-37.347-37.603 0-0.427 0.114-0.74 0.114-1.053h-0.228c0-126.066 74.382-226.446 178.859-269.88-43.264-33.252-71.225-85.192-71.225-143.617 0-73.5 44.003-136.704 107.434-165.262 29.64-13.397 51.172 2.56 56.463 23.154 6.314 24.633-9.728 38.115-9.728 38.115"></path></symbol><symbol id="icon-shipin" viewBox="0 0 1024 1024"><path d="M371.463 660.159V412.941c0-57.146 64.326-90.633 111.142-57.869l176.588 123.613c40.169 28.122 40.169 87.608 0 115.73L482.596 718.028c-46.816 32.773-111.133-0.722-111.133-57.869z m70.63 0L618.68 536.546 442.093 412.94V660.16z m-329.09 220.703c-16.925 0-30.696-13.555-30.696-30.226V185.754c0-16.662 13.771-30.226 30.695-30.226h797.996c16.924 0 30.686 13.555 30.686 30.226v664.882c0 16.662-13.762 30.226-30.686 30.226H113.002z m890.073-30.226V185.754c0-49.994-41.307-90.669-92.078-90.669H113.002c-50.77 0-92.078 40.675-92.078 90.67v664.881c0 49.995 41.307 90.67 92.078 90.67h797.996c50.77 0 92.078-40.675 92.078-90.67z"></path></symbol><symbol id="icon-xiayige-" viewBox="0 0 1024 1024"><path d="M307.2 0L204.8 102.4 614.4 512 204.8 921.6 307.2 1024l512-512z"></path></symbol><symbol id="icon-wodeyigou" viewBox="0 0 1024 1024"><path d="M320 1024H128C57.6 1024 0 966.4 0 896V128C0 57.6 57.6 0 128 0h768c70.4 0 128 57.6 128 128v256H896V128H128v768h192v128z"></path><path d="M320 256h384c38.4 0 64 25.6 64 64s-25.6 64-64 64H320c-38.4 0-64-25.6-64-64s25.6-64 64-64z m0 256h256c38.4 0 64 25.6 64 64s-25.6 64-64 64H320c-38.4 0-64-25.6-64-64s25.6-64 64-64z m288 512c-19.2 0-32-6.4-44.8-19.2l-160-160c-25.6-25.6-25.6-64 0-89.6s64-25.6 89.6 0L608 870.4l307.2-307.2c25.6-25.6 64-25.6 89.6 0s25.6 64 0 89.6l-352 352c-12.8 12.8-25.6 19.2-44.8 19.2z"></path></symbol><symbol id="icon-fuzhi" viewBox="0 0 1024 1024"><path d="M884.5838112 150.4566784h-182.8008416V62.26367253a47.43483307 47.43483307 0 0 0-47.39119467-47.39119466H112.7531872A47.47847147 47.47847147 0 0 0 65.36199253 62.26367253v766.37583787a47.47847147 47.47847147 0 0 0 47.39119467 47.3911936h182.8008416v88.14936747a47.43483307 47.43483307 0 0 0 47.39119467 47.39119466h541.63858773a47.43483307 47.43483307 0 0 0 47.39119467-47.39119466V197.84787307a47.43483307 47.43483307 0 0 0-47.39119467-47.39119467z m-771.830624 685.1213216a6.8075744 6.8075744 0 0 1-6.76393707-6.76393707V62.26367253a6.8075744 6.8075744 0 0 1 6.76393707-6.763936h541.63858773a6.8075744 6.8075744 0 0 1 6.76393707 6.763936v766.37583787a6.8075744 6.8075744 0 0 1-6.76393707 6.763936z m778.59456107 128.77662507a6.76393707 6.76393707 0 0 1-6.76393707 6.76393706H342.94522347a6.76393707 6.76393707 0 0 1-6.76393707-6.76393706V878.77991787h318.21048853a47.43483307 47.43483307 0 0 0 47.39119467-47.39119467v-14.3570016h97.0079424a20.33544853 20.33544853 0 1 0 0-40.6272576h-97.0079424V677.17096853h97.0079424a20.33544853 20.33544853 0 1 0 0-40.62725866h-97.0079424v-101.58996374h97.0079424a20.33544853 20.33544853 0 1 0 0-40.6272576h-97.0079424V396.7948864h27.05574613a20.33544853 20.33544853 0 0 0 0-40.62725867h-27.05574613V191.08393707h182.8008416a6.76393707 6.76393707 0 0 1 6.76393707 6.763936zM159.0097856 218.008768a20.29181013 20.29181013 0 0 1 20.29181013-20.33544747h329.46917014a20.33544853 20.33544853 0 1 1 0 40.6272576h-329.46917014a20.29181013 20.29181013 0 0 1-20.29181013-20.29181013zM599.0584096 356.16762773a20.29181013 20.29181013 0 0 1-20.29180907 20.29181014H179.30159573a20.33544853 20.33544853 0 0 1 0-40.6272576h399.4650048a20.33544853 20.33544853 0 0 1 20.29180907 20.33544746z m0 142.173584a20.29181013 20.29181013 0 0 1-20.29180907 20.29181014H179.30159573a20.33544853 20.33544853 0 0 1 0-40.6272576h399.4650048a20.33544853 20.33544853 0 0 1 20.29180907 20.24817066z m0 139.90439254a20.29181013 20.29181013 0 0 1-20.29180907 20.29180906H179.30159573a20.29181013 20.29181013 0 0 1 0-40.5836192h399.4650048a20.29181013 20.29181013 0 0 1 20.29180907 20.29181014z m0 0"></path></symbol><symbol id="icon-share-money" viewBox="0 0 1118 1024"><path d="M672.156234 880.147582H147.126592C66.117191 880.041963 0.105619 814.136009 0 733.126608V147.155083C0.105619 66.145681 66.011572 0.134109 147.020974 0.002086h292.985762a34.431636 34.431636 0 1 1 0 68.863272H147.126592a78.276522 78.276522 0 0 0-78.157701 78.26332v585.786693a78.276522 78.276522 0 0 0 78.157701 78.26332h524.369526z" fill="#999999"></path><path d="M880.013473 166.800127a27.830479 27.830479 0 0 0-0.211237-2.957319v-0.422474c0-0.211237-0.105619-0.528093-0.105619-0.739329a0.950567 0.950567 0 0 0-0.105619-0.528093c-0.105619-0.422474-0.105619-0.73933-0.211237-1.161804a0.792139 0.792139 0 0 0-0.105618-0.422474c-0.105619-0.422474-0.211237-0.73933-0.316856-1.161803a0.382867 0.382867 0 0 0-0.105618-0.316856l-0.316856-1.320231v-0.211237c-0.105619-0.422474-0.316856-0.844948-0.422474-1.320232s-0.316856-0.950567-0.528092-1.320231c-0.211237-0.633711-0.528093-1.161804-0.73933-1.795515a26.404629 26.404629 0 0 0-2.429226-4.119122c-0.211237-0.316856-0.316856-0.528093-0.528092-0.844948l-0.950567-1.320232a11.221967 11.221967 0 0 0-0.950567-1.161803c-0.211237-0.211237-0.316856-0.422474-0.528092-0.633711L757.179139 12.069001a34.458041 34.458041 0 0 0-52.386784 44.782251L772.599442 135.985925c-169.253671 10.852302-297.949833 64.084034-382.972738 158.190132-123.996137 137.198452-107.202793 265.102474-106.463463 272.390152a34.16759 34.16759 0 0 0 34.11478 30.734988h0.105619c1.056185 0 2.323607 0 3.591029-0.105619a34.603266 34.603266 0 0 0 30.62937-37.811428c-0.105619-1.478659-13.730407-105.829753 89.564501-219.580895 72.348683-79.741979 184.515547-125.052323 334.018556-134.980463l-71.820591 95.690376a34.431636 34.431636 0 0 0 27.460814 55.132865h0.105619A34.920122 34.920122 0 0 0 758.55218 341.94203l114.490471-152.750778 0.105618-0.211237a5.861828 5.861828 0 0 1 0.633711-0.844948 4.475585 4.475585 0 0 0 0.528093-0.73933l0.633711-0.950566c0.105619-0.211237 0.316856-0.422474 0.422474-0.633711a4.594405 4.594405 0 0 0 0.422474-0.73933 0.369665 0.369665 0 0 0 0.105618-0.211237c0.211237-0.316856 0.316856-0.633711 0.528093-0.950567s0.422474-0.950567 0.633711-1.320231 0.422474-0.950567 0.633711-1.478659c0.105619-0.316856 0.211237-0.528093 0.316856-0.844948 0.211237-0.633711 0.422474-1.161804 0.633711-1.795515a8.792741 8.792741 0 0 0 0.422474-1.584278c0.105619-0.422474 0.211237-0.73933 0.316855-1.161804a4.488787 4.488787 0 0 0 0.211237-1.161803c0.105619-0.422474 0.105619-0.73933 0.211238-1.161804a4.739631 4.739631 0 0 0 0.105618-1.161804c0-0.316856 0.105619-0.633711 0.105619-0.950566 0-0.633711 0.105619-1.320231 0.105618-1.795515a20.371171 20.371171 0 0 0-0.105618-2.640463z" fill="#999999"></path><path d="M879.802236 163.842808a25.968953 25.968953 0 0 1 0.211237 2.957319 27.830479 27.830479 0 0 0-0.211237-2.957319z" fill=""></path><path d="M832.31351 452.445402C674.479841 452.445402 546.575819 580.389032 546.575819 738.222701s127.943629 285.777299 285.777298 285.777299 285.777299-127.943629 285.777299-285.777299S990.173584 452.445402 832.31351 452.445402zM962.448724 764.785758a24.846756 24.846756 0 1 1 0 49.535084h-103.823001v103.096873a24.767542 24.767542 0 1 1-49.535084 0V814.320842h-103.862608a24.846756 24.846756 0 1 1 0-49.535084h103.862608v-28.398178h-103.862608a24.846756 24.846756 0 1 1 0-49.535084h73.431273l-53.522182-79.953217a24.767542 24.767542 0 0 1 41.204423-27.474016L833.066042 679.432795l66.988544-100.469613a24.899565 24.899565 0 0 1 41.204423 27.936097l-53.297743 79.953217H962.448724a24.846756 24.846756 0 1 1 0 49.535084h-103.823001v28.398178z" fill="#FA8919"></path></symbol><symbol id="icon-ziyuan1" viewBox="0 0 1024 1024"><path d="M1023.978534 579.416768v273.410086c-0.122881 94.249679-76.923467 171.050265-171.050265 171.173146H171.184827C76.935148 1023.877119 0.134562 947.199414 0.011681 852.949735V171.206293C0.134562 76.956614 76.812267 0.156028 171.061947 0.002427h340.87172a40.059186 40.059186 0 1 1 0 80.118371H171.184827a91.070135 91.070135 0 0 0-90.931893 91.054775v681.5284a91.070135 91.070135 0 0 0 90.931893 91.054775H852.805388a91.085495 91.085495 0 0 0 91.054775-91.054775V579.416768a40.059186 40.059186 0 0 1 80.118371 0z m-9.21607-389.901215a35.45115 35.45115 0 0 1 0.491524 3.563547c-0.122881-1.105928-0.245762-2.334738-0.491524-3.563547z" fill="#999999"></path><path d="M1023.855653 194.062148a32.379127 32.379127 0 0 0-0.245762-3.440667v-0.491523c0-0.245762-0.122881-0.614405-0.12288-0.860167a1.105928 1.105928 0 0 0-0.122881-0.614405c-0.122881-0.491524-0.122881-0.860167-0.245762-1.35169a0.921607 0.921607 0 0 0-0.122881-0.491524c-0.122881-0.491524-0.245762-0.860167-0.368643-1.35169a0.445443 0.445443 0 0 0-0.122881-0.368643l-0.368643-1.536012v-0.245761c-0.122881-0.491524-0.368643-0.983048-0.491524-1.536012s-0.368643-1.105928-0.614404-1.536012c-0.245762-0.737286-0.614405-1.35169-0.860167-2.088976a30.720234 30.720234 0 0 0-2.826261-4.792356c-0.245762-0.368643-0.368643-0.614405-0.614405-0.983048l-1.105928-1.536012a13.0561 13.0561 0 0 0-1.105929-1.35169c-0.245762-0.245762-0.368643-0.491524-0.614405-0.737286L880.945123 14.041574a40.089906 40.089906 0 0 0-60.948945 52.101518L898.88574 158.211634c-196.916702 12.626016-346.647125 74.558009-445.56628 184.044924-144.262221 159.622338-124.724152 308.431153-123.863985 316.909938a39.751983 39.751983 0 0 0 39.690543 35.758353h0.122881c1.228809 0 2.703381 0 4.177952-0.122881a40.258867 40.258867 0 0 0 35.635472-43.991375c-0.122881-1.720333-15.974522-123.126699 104.203035-255.46947 84.173442-92.775108 214.672998-145.49103 388.610965-157.041838l-83.559038 111.33013a40.059186 40.059186 0 0 0 31.949044 64.143849h0.122881A40.62751 40.62751 0 0 0 882.542575 397.829462l133.202936-177.716556 0.122881-0.245762a6.819892 6.819892 0 0 1 0.737286-0.983047 5.20708 5.20708 0 0 0 0.614405-0.860167l0.737285-1.105928c0.122881-0.245762 0.368643-0.491524 0.491524-0.737286a5.345321 5.345321 0 0 0 0.491524-0.860166 0.430083 0.430083 0 0 0 0.122881-0.245762c0.245762-0.368643 0.368643-0.737286 0.614404-1.105929s0.491524-1.105928 0.737286-1.536011 0.491524-1.105928 0.737286-1.720333c0.122881-0.368643 0.245762-0.614405 0.368643-0.983048 0.245762-0.737286 0.491524-1.35169 0.737285-2.088976a10.229838 10.229838 0 0 0 0.491524-1.843214c0.122881-0.491524 0.245762-0.860167 0.368643-1.35169a5.22244 5.22244 0 0 0 0.245762-1.351691c0.122881-0.491524 0.122881-0.860167 0.245761-1.35169a5.514282 5.514282 0 0 0 0.122881-1.35169c0-0.368643 0.122881-0.737286 0.122881-1.105929 0-0.737286 0.122881-1.536012 0.122881-2.088976a23.700661 23.700661 0 0 0-0.122881-3.072023z m-9.093189-4.608036a35.45115 35.45115 0 0 1 0.491524 3.563548c-0.122881-1.105928-0.245762-2.334738-0.491524-3.563548z" fill="#999999"></path></symbol></svg><div id="app"><div class="d4s24Cak_0"><div class="_2HYUpEDK_0" style="background-color: rgb(255, 255, 255);"></div> <div class="_2iHgUKTE_0" style="opacity: 1;"><div class="Wc3vzb2A_0"><!----> <!----> <div class="_3HCtER94_0"><div class="XPK3khh7_0"><i class="iconfont u9KJ6z9x_0"></i><span>MySQL实战45讲</span></div> <div class="S8msnNlD_0"><span>首页</span><span class="_3FTQNYev_0">|</span><span class="iconfont"></span></div></div> <div class="yXXuK9Bz_0"><h1 class="_3QuafcgX_0 _2_jLRfDz_0">
        01 | 基础架构：一条SQL查询语句是如何执行的？
      </h1> <div class="_2dsK9OZI_0 _2_jLRfDz_0"><span>2018-11-14</span> <span>林晓斌</span></div> <div class="_1dC78n85_0 _2_jLRfDz_0"><img src="https://static001.geekbang.org/resource/image/38/8b/38dd4b12f16d2f9667fb169be0f0698b.jpg" class="_1hOtWUmw_0"> <!----> <div class="_1Bg5E78Y_0 KPNfF2Ub_0"><div class="_1qj_iPD7_0"><h3>朗读：林晓斌</h3> <p><span style="margin-right: 3px;">时长</span><span style="margin-right: 10px;">12:49</span><span style="margin-right: 3px;">大小</span><span>8.82M</span></p></div> <!----> <div class="_2Ha38TVL_0 MH1rcCm7_0"><div class="_1iA2uC1V_0" style="background-image: url(&quot;https://static001.geekbang.org/resource/image/38/8b/38dd4b12f16d2f9667fb169be0f0698b.jpg&quot;);"></div> <div class="_1iA2uC1V_0 _1WF5YSBJ_0"></div> <div class="iconfont _2Kms_g0F_0"></div></div> <audio title="01 | 基础架构：一条SQL查询语句是如何执行的？" src="https://static001.geekbang.org/resource/audio/9d/0a/9d235bdc1e75fed6877b3da98190220a.mp3" controls="controls"></audio></div> <div class="_2qqGfSEe_0"><div class="_29HP61GA_0"><p>你好，我是林晓斌。</p><p>这是专栏的第一篇文章，我想来跟你聊聊 MySQL 的基础架构。我们经常说，看一个事儿千万不要直接陷入细节里，你应该先鸟瞰其全貌，这样能够帮助你从高维度理解问题。同样，对于 MySQL 的学习也是这样。平时我们使用数据库，看到的通常都是一个整体。比如，你有个最简单的表，表里只有一个 ID 字段，在执行下面这个查询语句时：</p><pre style="position: relative;"><code><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">mysql&gt; select * from T where ID=10；</div></td></tr></tbody></table></code><div class="richcontent-pre-copy"><span class="iconfont"></span>复制代码</div></pre><p>我们看到的只是输入一条语句，返回一个结果，却不知道这条语句在 MySQL 内部的执行过程。</p><p>所以今天我想和你一起把 MySQL 拆解一下，看看里面都有哪些“零件”，希望借由这个拆解过程，让你对 MySQL 有更深入的理解。这样当我们碰到 MySQL 的一些异常或者问题时，就能够直戳本质，更为快速地定位并解决问题。</p><p>下面我给出的是 MySQL 的基本架构示意图，从中你可以清楚地看到 SQL 语句在 MySQL 的各个功能模块中的执行过程。</p><p><img src="https://static001.geekbang.org/resource/image/0d/d9/0d2070e8f84c4801adbfa03bda1f98d9.png" alt=""></p><center><span class="reference">MySQL 的逻辑架构图</span></center><p>大体来说，MySQL 可以分为 Server 层和存储引擎层两部分。</p><p>Server 层包括连接器、查询缓存、分析器、优化器、执行器等，涵盖 MySQL 的大多数核心服务功能，以及所有的内置函数（如日期、时间、数学和加密函数等），所有跨存储引擎的功能都在这一层实现，比如存储过程、触发器、视图等。</p><!-- [[[read_end]]] --><p>而存储引擎层负责数据的存储和提取。其架构模式是插件式的，支持 InnoDB、MyISAM、Memory 等多个存储引擎。现在最常用的存储引擎是 InnoDB，它从 MySQL 5.5.5 版本开始成为了默认存储引擎。</p><p>也就是说，你执行 create table 建表的时候，如果不指定引擎类型，默认使用的就是 InnoDB。不过，你也可以通过指定存储引擎的类型来选择别的引擎，比如在 create table 语句中使用 engine=memory, 来指定使用内存引擎创建表。不同存储引擎的表数据存取方式不同，支持的功能也不同，在后面的文章中，我们会讨论到引擎的选择。</p><p>从图中不难看出，不同的存储引擎共用一个<strong>Server 层</strong>，也就是从连接器到执行器的部分。你可以先对每个组件的名字有个印象，接下来我会结合开头提到的那条 SQL 语句，带你走一遍整个执行流程，依次看下每个组件的作用。</p><h1>连接器</h1><p>第一步，你会先连接到这个数据库上，这时候接待你的就是连接器。连接器负责跟客户端建立连接、获取权限、维持和管理连接。连接命令一般是这么写的：</p><pre style="position: relative;"><code><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">mysql -h$ip -P$port -u$user -p</div></td></tr></tbody></table></code><div class="richcontent-pre-copy"><span class="iconfont"></span>复制代码</div></pre><p>输完命令之后，你就需要在交互对话里面输入密码。虽然密码也可以直接跟在 -p 后面写在命令行中，但这样可能会导致你的密码泄露。如果你连的是生产服务器，强烈建议你不要这么做。</p><p>连接命令中的 mysql 是客户端工具，用来跟服务端建立连接。在完成经典的 TCP 握手后，连接器就要开始认证你的身份，这个时候用的就是你输入的用户名和密码。</p><ul>
<li>如果用户名或密码不对，你就会收到一个"Access denied for user"的错误，然后客户端程序结束执行。</li>
<li>如果用户名密码认证通过，连接器会到权限表里面查出你拥有的权限。之后，这个连接里面的权限判断逻辑，都将依赖于此时读到的权限。</li>
</ul><p>这就意味着，一个用户成功建立连接后，即使你用管理员账号对这个用户的权限做了修改，也不会影响已经存在连接的权限。修改完成后，只有再新建的连接才会使用新的权限设置。</p><p>连接完成后，如果你没有后续的动作，这个连接就处于空闲状态，你可以在 show processlist 命令中看到它。文本中这个图是 show processlist 的结果，其中的 Command 列显示为“Sleep”的这一行，就表示现在系统里面有一个空闲连接。</p><p><img src="https://static001.geekbang.org/resource/image/f2/ed/f2da4aa3a672d48ec05df97b9f992fed.png" alt=""><br>
客户端如果太长时间没动静，连接器就会自动将它断开。这个时间是由参数 wait_timeout 控制的，默认值是 8 小时。</p><p>如果在连接被断开之后，客户端再次发送请求的话，就会收到一个错误提醒： Lost connection to MySQL server during query。这时候如果你要继续，就需要重连，然后再执行请求了。</p><p>数据库里面，长连接是指连接成功后，如果客户端持续有请求，则一直使用同一个连接。短连接则是指每次执行完很少的几次查询就断开连接，下次查询再重新建立一个。</p><p>建立连接的过程通常是比较复杂的，所以我建议你在使用中要尽量减少建立连接的动作，也就是尽量使用长连接。</p><p>但是全部使用长连接后，你可能会发现，有些时候 MySQL 占用内存涨得特别快，这是因为 MySQL 在执行过程中临时使用的内存是管理在连接对象里面的。这些资源会在连接断开的时候才释放。所以如果长连接累积下来，可能导致内存占用太大，被系统强行杀掉（OOM），从现象看就是 MySQL 异常重启了。</p><p>怎么解决这个问题呢？你可以考虑以下两种方案。</p><ol>
<li>
<p>定期断开长连接。使用一段时间，或者程序里面判断执行过一个占用内存的大查询后，断开连接，之后要查询再重连。</p>
</li>
<li>
<p>如果你用的是 MySQL 5.7 或更新版本，可以在每次执行一个比较大的操作后，通过执行 mysql_reset_connection 来重新初始化连接资源。这个过程不需要重连和重新做权限验证，但是会将连接恢复到刚刚创建完时的状态。</p>
</li>
</ol><h1>查询缓存</h1><p>连接建立完成后，你就可以执行 select 语句了。执行逻辑就会来到第二步：查询缓存。</p><p>MySQL 拿到一个查询请求后，会先到查询缓存看看，之前是不是执行过这条语句。之前执行过的语句及其结果可能会以 key-value 对的形式，被直接缓存在内存中。key 是查询的语句，value 是查询的结果。如果你的查询能够直接在这个缓存中找到 key，那么这个 value 就会被直接返回给客户端。</p><p>如果语句不在查询缓存中，就会继续后面的执行阶段。执行完成后，执行结果会被存入查询缓存中。你可以看到，如果查询命中缓存，MySQL 不需要执行后面的复杂操作，就可以直接返回结果，这个效率会很高。</p><p><strong>但是大多数情况下我会建议你不要使用查询缓存，为什么呢？因为查询缓存往往弊大于利。</strong></p><p>查询缓存的失效非常频繁，只要有对一个表的更新，这个表上所有的查询缓存都会被清空。因此很可能你费劲地把结果存起来，还没使用呢，就被一个更新全清空了。对于更新压力大的数据库来说，查询缓存的命中率会非常低。除非你的业务就是有一张静态表，很长时间才会更新一次。比如，一个系统配置表，那这张表上的查询才适合使用查询缓存。</p><p>好在 MySQL 也提供了这种“按需使用”的方式。你可以将参数 query_cache_type 设置成 DEMAND，这样对于默认的 SQL 语句都不使用查询缓存。而对于你确定要使用查询缓存的语句，可以用 SQL_CACHE 显式指定，像下面这个语句一样：</p><pre style="position: relative;"><code><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">mysql&gt; select SQL_CACHE * from T where ID=10；</div></td></tr></tbody></table></code><div class="richcontent-pre-copy"><span class="iconfont"></span>复制代码</div></pre><p>需要注意的是，MySQL 8.0 版本直接将查询缓存的整块功能删掉了，也就是说 8.0 开始彻底没有这个功能了。</p><h1>分析器</h1><p>如果没有命中查询缓存，就要开始真正执行语句了。首先，MySQL 需要知道你要做什么，因此需要对 SQL 语句做解析。</p><p>分析器先会做“词法分析”。你输入的是由多个字符串和空格组成的一条 SQL 语句，MySQL 需要识别出里面的字符串分别是什么，代表什么。</p><p>MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。</p><p>做完了这些识别以后，就要做“语法分析”。根据词法分析的结果，语法分析器会根据语法规则，判断你输入的这个 SQL 语句是否满足 MySQL 语法。</p><p>如果你的语句不对，就会收到“You have an error in your SQL syntax”的错误提醒，比如下面这个语句 select 少打了开头的字母“s”。</p><pre style="position: relative;"><code><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">mysql&gt; elect * from t where ID=1;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'elect * from t where ID=1' at line 1</div></td></tr></tbody></table></code><div class="richcontent-pre-copy"><span class="iconfont"></span>复制代码</div></pre><p>一般语法错误会提示第一个出现错误的位置，所以你要关注的是紧接“use near”的内容。</p><h1>优化器</h1><p>经过了分析器，MySQL 就知道你要做什么了。在开始执行之前，还要先经过优化器的处理。</p><p>优化器是在表里面有多个索引的时候，决定使用哪个索引；或者在一个语句有多表关联（join）的时候，决定各个表的连接顺序。比如你执行下面这样的语句，这个语句是执行两个表的 join：</p><pre style="position: relative;"><code><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">mysql&gt; select * from t1 join t2 using(ID)  where t1.c=10 and t2.d=20;</div></td></tr></tbody></table></code><div class="richcontent-pre-copy"><span class="iconfont"></span>复制代码</div></pre><ul>
<li>既可以先从表 t1 里面取出 c=10 的记录的 ID 值，再根据 ID 值关联到表 t2，再判断 t2 里面 d 的值是否等于 20。</li>
<li>也可以先从表 t2 里面取出 d=20 的记录的 ID 值，再根据 ID 值关联到 t1，再判断 t1 里面 c 的值是否等于 10。</li>
</ul><p>这两种执行方法的逻辑结果是一样的，但是执行的效率会有不同，而优化器的作用就是决定选择使用哪一个方案。</p><p>优化器阶段完成后，这个语句的执行方案就确定下来了，然后进入执行器阶段。如果你还有一些疑问，比如优化器是怎么选择索引的，有没有可能选择错等等，没关系，我会在后面的文章中单独展开说明优化器的内容。</p><h1>执行器</h1><p>MySQL 通过分析器知道了你要做什么，通过优化器知道了该怎么做，于是就进入了执行器阶段，开始执行语句。</p><p>开始执行的时候，要先判断一下你对这个表 T 有没有执行查询的权限，如果没有，就会返回没有权限的错误，如下所示 (在工程实现上，如果命中查询缓存，会在查询缓存返回结果的时候，做权限验证。查询也会在优化器之前调用 precheck 验证权限)。</p><pre style="position: relative;"><code><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">mysql&gt; select * from T where ID=10;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">ERROR 1142 (42000): SELECT command denied to user 'b'@'localhost' for table 'T'</div></td></tr></tbody></table></code><div class="richcontent-pre-copy"><span class="iconfont"></span>复制代码</div></pre><p>如果有权限，就打开表继续执行。打开表的时候，执行器就会根据表的引擎定义，去使用这个引擎提供的接口。</p><p>比如我们这个例子中的表 T 中，ID 字段没有索引，那么执行器的执行流程是这样的：</p><ol>
<li>
<p>调用 InnoDB 引擎接口取这个表的第一行，判断 ID 值是不是 10，如果不是则跳过，如果是则将这行存在结果集中；</p>
</li>
<li>
<p>调用引擎接口取“下一行”，重复相同的判断逻辑，直到取到这个表的最后一行。</p>
</li>
<li>
<p>执行器将上述遍历过程中所有满足条件的行组成的记录集作为结果集返回给客户端。</p>
</li>
</ol><p>至此，这个语句就执行完成了。</p><p>对于有索引的表，执行的逻辑也差不多。第一次调用的是“取满足条件的第一行”这个接口，之后循环取“满足条件的下一行”这个接口，这些接口都是引擎中已经定义好的。</p><p>你会在数据库的慢查询日志中看到一个 rows_examined 的字段，表示这个语句执行过程中扫描了多少行。这个值就是在执行器每次调用引擎获取数据行的时候累加的。</p><p>在有些场景下，执行器调用一次，在引擎内部则扫描了多行，因此<strong>引擎扫描行数跟 rows_examined 并不是完全相同的。</strong>我们后面会专门有一篇文章来讲存储引擎的内部机制，里面会有详细的说明。</p><h1>小结</h1><p>今天我给你介绍了 MySQL 的逻辑架构，希望你对一个 SQL 语句完整执行流程的各个阶段有了一个初步的印象。由于篇幅的限制，我只是用一个查询的例子将各个环节过了一遍。如果你还对每个环节的展开细节存有疑问，也不用担心，后续在实战章节中我还会再提到它们。</p><p>我给你留一个问题吧，如果表 T 中没有字段 k，而你执行了这个语句 select * from T where k=1, 那肯定是会报“不存在这个列”的错误： “Unknown column ‘k’ in ‘where clause’”。你觉得这个错误是在我们上面提到的哪个阶段报出来的呢？</p><p>感谢你的收听，欢迎你给我留言，也欢迎分享给更多的朋友一起阅读。</p><p><img src="https://static001.geekbang.org/resource/image/ce/d9/ce7f4e35916ed1aa49206a53a0547bd9.jpg" alt=""></p></div></div> <!----> <div class="_1fMbLOUg_0"><span class="_3suBPDWW_0">©</span>&nbsp;版权归极客邦科技所有，未经许可不得转载
        </div></div> <div class="_3PNMKN7j_0 _2_jLRfDz_0"><div class="_2d0QwC3-_0"><div class="_36LfGj1s_0">上一篇</div> <div class="_3TIVUaKt_0">开篇词 | 这一次，让我们一起来搞懂MySQL</div></div> <div class="_2d0QwC3-_0"><div class="_36LfGj1s_0">下一篇</div> <div class="_3TIVUaKt_0">02  | 日志系统：一条SQL更新语句是如何执行的？</div></div></div> <div class="DU0gW1Le_0 _2_jLRfDz_0"><div class="iconfont _3XC20_-x_0"> 写留言</div> <h2><span>精选留言</span><span class="kZAdYTZh_0">(370)</span></h2> <ul><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>林晓斌</span> <span class="_1bkbsnjg_0">置顶</span></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">179</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">感谢大家的积极评论。<br>答案是分析器。<br>@threefat 提到Oracle，MySQL确实在设计上受Oracle影响颇深。<br>@圈圈圆圆  高性能MySQL里面概念学得好。<br>@Yezhiwei 等几位，说正文里面已经暗示答案的同学，你们这么机智👍🏿<br><br>后面每期的问题，我们会在下一期的结尾的给出解释，不过只是“参考”哦，以评论区的质量，我估计到时候只需要引用优秀评论就好了 ^_^<br></div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>一步</span> <span class="_1bkbsnjg_0">置顶</span></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">100</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我认为是优化器的，优化器会进行优化分析，比如用先执行哪个条件，使用哪个索引。如果没有对应的字段就会报错的，我看其他评论说是执行器，原因是这个时候才打开表获取数据，但是表的字段不是数据啊，是事先定义好的，所以可以直接读取的，不需要打开表。这是我的看法，希望老师点评一下是否正确</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: “不是执行器”这一点，你分析得很好😄</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq2fAjzw4bRgOory5XZqlTbSic7p4MmlK6g4wIdQ5628frjibBZ9QyAHrjqnm0TYaO1rePpiaoSv6xzQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>threefat</span> <span class="_1bkbsnjg_0">置顶</span></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">84</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">课后答案:分析器。Oracle会在分析阶段判断语句是否正确，表是否存在，列是否存在等。猜测MySQL也这样。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: MySQL确实在设计上受Oracle影响颇深。就是这样哈，分析器做了这个工作。另外有评论里面举例高性能MySQL 里面概念的同学、说正文里面已经暗示答案的同学，远程点赞了哈😄😄 就喜欢你们这么机智的回答👍🏿</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/65/d5/88beb15a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>李志博</span> <span class="_1bkbsnjg_0">置顶</span></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">9</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析器吧，老师我还有个问题，如果有memory 引擎，还有redis 存在的必要吗，应该是有的吧，两者的场景？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个后面专门有一篇《要不要用memory引擎》会说明，先说结论，redis很有必要😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/d6/bd/4cc3186e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>圈圈圆圆</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">77</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">《高性能mysql》里提到解析器和预处理器。<br><br>解析器处理语法和解析查询, 生成一课对应的解析树。<br><br>预处理器进一步检查解析树的合法。比如: 数据表和数据列是否存在, 别名是否有歧义等。如果通过则生成新的解析树，再提交给优化器。<br><br>所以我觉得课后习题的错误应该发生在在分析器处理阶段&gt;_&lt;</div>  <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoKKuJnRI0xFuHWwyXcTRJN5DSic0pGz4uOykEL7SNInMoGHgHfkhgquABeksv9dmfM6Bc42HFk0aQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>郭</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">56</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">有个问题不太明白，为什么对权限的检查不在优化器之前做？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 有些时候，SQL语句要操作的表不只是SQL字面上那些。比如如果有个触发器，得在执行器阶段（过程中）才能确定。优化器阶段前是无能为力的</p></div></div></li><li class="reJj6Thl_0"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9oIRvWZARRmB2hNAmSKOQddHYBJr3QXoT8ibtFicfj46PBOTOwGib6WAA3ES2HzzqqXl4ccEEwrLXw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>yezhizi</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">52</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">源码安装完MySQL之后,使用Debug模式启动<br>mysqld --debug --console &amp;后，<br>mysql&gt; create database wxb;<br>Query OK, 1 row affected (0.01 sec)<br><br>mysql&gt; use wxb;<br>Database changed<br>mysql&gt; create table t(a int);<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; select * from t where k=1;<br>ERROR 1054 (42S22): Unknown column 'k' in 'where clause'<br><br>T@4: | | | | | | | | | error: error: 1054  message: 'Unknown column 'k' in 'where clause''<br><br>Complete optimizer trace:<br>答案就很清楚了<br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯嗯，Trace 日志是个好东西</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Geek_75aada</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">45</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器  这个阶段才会打开表 才会知道表有哪些列</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/98/3c/47d70fdc.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>ditiki</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">30</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问能否在专业名词旁边加上它们的英文名称，比如分析器，优化器等等。谢谢！</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是好建议，下一篇开始这么执行哈😄</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epfVZHmbUnsxU67FwotibOjM0Obc47VWMyRBmY06AjqTp0C96A8zhUULWjBerK3XtPC7Q8LVClzPxA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>尼古拉斯·赵...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">24</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我创建了一个没有select权限的用户，执行select * from T where k=1，报错“select command denied”，并没有报错“unknown column”，是不是可以说明是在打开表之后才判断读取的列不存在？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个是一个安全方面的考虑。你想想一个用户如果没有查看这个表的权限，你是会告诉他字段不对还是没权限？如果告诉他字段不对，其实给的信息太多了，因为没权限的意思还包含了：没权限知道字段是否存在😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/3a/eb/b83988e9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>zhxilin℃+</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">24</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器阶段。个人理解：<br>1.编译原理告诉我们做一个Parser，核心有三步：词法分析、语法分析和语义分析；<br>2.分析器负责词法分析和语法分析，即将查询分解成一个个Identifier（词法分析），构造一棵解析树，整棵树只确保没有语法错误（语法分析），比如检查标识符是否有效、语句是否闭合等；<br>3.优化器紧接着分析上一步的解析树，这时才解决分析器阶段无法做的语义分析，也就是会检查表名、列表等是否正确、是否存在。<br>所以此题我认为是优化器阶段。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/9e/ce/d8283814.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>xuan</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">22</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">答案是分析器，理由如下：<br>&nbsp;&nbsp;&nbsp;&nbsp;根据文章分析器主要做两个事情，先做词法分析后做语法分析,词法分析主要做的是根据mysql的关键字进行验证和解析，而语法分析会在词法解析的基础上进一步做表名和字段名称的验证和解析； <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;看完整篇文章有个疑问望解答，在执行阶段为什么需判断对表是否有执行查询的权限，而不是在分析阶段去做；根据mysql中的information_schema库的存储信息理论上可以在分析器阶段判断是否有权限。<br>&nbsp;</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f5/de/c33e531e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Jason</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">21</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">1，连接<br>连接管理模块，接收请求；连接进程和用户模块，通过，连接线程和客户端对接<br>2，查询<br>查询缓存 Query Cache<br>分析器，内建解析树，对其语法检查，先from，再on，再join，再where......；检查权限，生成新的解析树，语义检查（没有字段k在这里）等<br>优化器，将前面解析树转换成执行计划，并进行评估最优<br>执行器，获取锁，打开表，通过meta数据，获取数据<br>3，返回结果<br>返回给连接进程和用户模块，然后清理，重新等待新的连接<br><br>请大神指正😂</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 最后是“等待新的请求”哈，其他部分很不错呢</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/4e/aa/2112f41e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>luffy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">16</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析器 1.从功能模块的职责来考虑 2.从性能来考虑，错误越晚发现成本越高。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/c5/77/39e01d42.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>志平</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">15</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问您的逻辑架构图是用什么工具画的？谢谢</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>峰</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">14</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器，感觉老师故意只讲了词法语法解析，却没有讲语义解析。很坏⊙∀⊙！</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 被…被发现了😺</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f3/63/c0c4f15d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>啊油酱</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">14</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">迫不及待想看第一篇文章。 加班回来收拾下刚好到这个点。 希望自己加油。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 好辛苦，希望语音版会让你学起来轻松些😁</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/e9/0b/53bf91d3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>WL</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">13</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">为该讲总结了几个问题, 大家复习的时候可以先尝试回答这些问题检查自己的掌握程度:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;1. <br>MySQL的框架有几个组件, 各是什么作用? <br>&nbsp;&nbsp;&nbsp;&nbsp;2. <br>Server层和存储引擎层各是什么作用?<br>&nbsp;&nbsp;&nbsp;&nbsp;3. <br>you have an error in your SQL syntax 这个保存是在词法分析里还是在语法分析里报错?<br>&nbsp;&nbsp;&nbsp;&nbsp;4. <br>对于表的操作权限验证在哪里进行?<br>&nbsp;&nbsp;&nbsp;&nbsp;5. <br>执行器的执行查询语句的流程是什么样的? <br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 非常好👍🏿</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e5/d1/b7a3db81.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Kids Return</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">12</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">建议github上面建立一个仓库 方便大家一起在上面完善笔记脑图之类的 这样我就不用记笔记了</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/df/e7/e3c450c2.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lionetes</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">11</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">wait_timeout 是客户端 非交互式的连接时间，如果程序连接mysql SERVER，是交互连接,关联的时间参数为interactive_timeout, 这两个时间参数需要尽量一致吗,一般设置多少合适?<br>query_cache_size 参数虽然不用了,我想确认下,关闭情况是 query_cache_size=0 要匹配参数query_cache_type=off吗？ 还是直接query_cache_size=0 即可？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 第一个问题：是的，这两个尽量设置成相同。值的话取决于业务。如果你面对的是成熟的开发（比如公司内部团队），可以设置小些，分钟级别就行。 <br><br>第二个问题：这两个都可以，不过用query_cache_type会好些（代码判断路径更短） <br><br></p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>pyhhou</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">9</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">想请问一下老师，最后说的引擎扫描的行数和实际扫描的行数是不一样的，那引擎扫描的行数具体指的是什么？存储引擎只是负责存储和提取吗？那么不同的存储引擎大致有何区别呢？自己只是写过一些简单的SQL语句，从来没有接触过数据库底层，描述不到位的地方还请老师指正，谢谢老师</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: “引擎”扫描行数是指在引擎内部真正扫描的次数。这个问题我们会在后面文章《为什么我只查一行，也执行这么慢》中会详细说明。引擎对外的接口就主要是存、取数据，当然也会提供建表、锁这些接口的。 不同引擎的区别我们会在后面文章展开。你的问题都很好👍🏿</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>伟忠</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">7</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">如果优化器能读表结构，我猜是优化器。<br>如果优化器只是看索引，那就是执行器阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/56/65/22a37a8e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Yezhiwei</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">6</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得是 分析器，看文章中老师的这段：<br><br><br>MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/a1/a5/2100367c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>舜</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">6</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得是优化器，理由如下：<br>1，从对服务系统来说越早发现错误拒绝掉执行对系统压力越小，相当于及时止损<br>2，前面分析器是分析sql的语法的，可以pass，而优化器是为了确定最终怎么执行sql，那么他是能够知道表字段信息的，比如能够确定哪几个字段能够命中索引，那么分析器应该可以在这个阶段发现不存在的字段的</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/f3/32/ec5403ab.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>david😄</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">6</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">觉得分析器会检查列，列都存在一个schema系统表里，查这个表就可以咯😄</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e5/ca/eb9abd6c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>tonghuan</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">6</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">语法分析</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/99/bc/c1266b7e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>400磅</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">4</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">总结：<br>客户端连接到服务端，获取到权限等信息， 然后在连接的有效时长内(interactive_timeout和wait_timeout参数控制， 5.7版本会断开可以自动重连)对sql进行处理。<br><br>首先会判断查询缓存是否开启，如果已经开启，会判断sql是select还是update/insert/delete，对于select，尝试去查询缓存，如果命中缓存直接返回数据给客户端， 如果缓存没有命中，或者没有开启缓存， 会进入到下一步分析器。<br><br>分析器进行语法分析、词法分析，检查sql的语法顺序等得到解析树， 然后预处理器对解析树进一步分析，验证数据表、字段是否存在，通关之后sql进入下一步优化器，所以课后问题一定是分析器阶段了。<br><br>优化器对sql执行计划分析， 得到最终执行计划，得到优化后的执行计划之后交给执行器。<br><br>执行器调用存储引擎api执行sql，得到响应结果， 将结果返回给客户端，如果缓存是开启状态， 会更新缓存。<br><br>问题1：<br>&nbsp;&nbsp;&nbsp;&nbsp;在缓存开启状态下， 要判别sql是select还是其他类型，保证只有select才去查询缓存，那么这个判断操作是何时进行的呢？ 我猜测在查询缓存之前， 但是分析器也要对sql关键字进行分析，再分析一遍岂不是重复？ 因为我没有看源码，所以这一块不明白， 如果我来设计的话， 可能是把查询缓存这个模块在分析器阶段来执行， 由分析器进行关键字解析，判断是何种sql语句，如果是select， 再去查询缓存， 如果不是继续往下进行好像更合理，看到大家都说先查询缓存，没有命中再去分析器， 感觉不太通。<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>问题2：<br>&nbsp;&nbsp;&nbsp;&nbsp;在mysql中通过“explain extended和show warnings”命令来查看的sql， 是不是优化器重写之后的sql？ 以前我看到一本书中提到，也可能是一篇博客，mysql的单表的union查询其实会优化成or查询， 但是show warnings看到的还是union查询语句，所以有此疑问。<br><br>问题3：<br>&nbsp;&nbsp;&nbsp;&nbsp;update等sql清空缓存是在sql执行完返回结果给客户端之前还是之后， 还是说同时进行的， 会不会存在清空缓存失败， 但是告诉客户端update success， 缓存的地方一直不是很清楚， 所以正好 will be removed in a future releas， 真是一个大快人心。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 很好的总结。<br><br>1. 实际上肯定是要判断出是select语句， 但是之后的解析都没做哈。 要理解成“包含在内”也可以。<br><br>2. Show wanings不会把重写后的显示出来，只是格式化后<br><br>3. 清空缓存失败这个不太可能，这个内部结构的操作没什么依赖</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/00/47/53f2a776.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>James_bai</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">4</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">mysql长连接和短连接怎么理解？需要自己设置吗？默认是长连接还是短连接？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e5/3a/f66372a8.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>徐远</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">4</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">最近开发人员说他们客户端连MySQL时，会有突然断开，然后又自动恢复的情况，我改了connection_timeout参数，但是今天听您介绍说到wait_timeout参数，我有点迷了，请教老师我的情况属于哪种呢</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: Connect_timeout 指的是“连接过程中”的等待时间， <br><br>wait_timeout指的是“连接完成后，使用过程中”的等待时间</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/70/97/e5bf9ddb.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>jacket</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">3</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">【对文章的疑问】<br>老师好，文里遇到临时内存会跟随长连接的存在而存在，直到连接被销毁。<br>我想问对是，这部分临时内存是由于什么产生？为什么不提前释放呢？mysql有用到内存池吗？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 排序、变量这些会占用内存，如果要复用，以前释放反而影响性能，MySQL没法自己决定，所以5.7之后提供了方法让客户端有命令来做；<br><br>MySQL的内存池一般说的是查询缓存和引擎里面的（比如InnoDB 的buffe pool), 跟线程内缓存不是一个概念😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/4b/b8/acce27d6.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>7c</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">3</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">末尾问题回答：<br>感觉应该是分析器阶段，在做词法分析的时候，分析器应该无法识别字符串 k 是什么以及代表什么</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/2f/47/eadc8482.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>luoChao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">为什么那个逻辑架构图，会有从分析器指向查询缓存的→箭头。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 失效缓存</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/94/a7/a582f0d0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>zc</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问丁奇老师，软件结构图是用什么工具画的？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>ashine</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">MySQL 拿到一个查询请求后，会先到查询缓存看看，之前是不是执行过这条语句。之前执行过的语句及其结果可能会以 key-value 对的形式，被直接缓存在内存中。key 是查询的语句，value 是查询的结果。如果你的查询能够直接在这个缓存中找到 key，那么这个 value 就会被直接返回给客户端。<br><br><br>你好，是不是只要查询的数据表有更新，这个表所有查询缓存全失效?</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/da/af/c9730abe.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>沈峰</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我认为是优化器，因为查询是否走索引就是在优化器阶段做的，那么这个阶段会判断where条件用了哪些列，哪些咧上有索引。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/d6/43/0704d7db.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>YAN</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">个人理解：列虽然不存在，但是SQL语法本身没有错误，所以不应该是语法分析阶段处理，但是这种检查也不应该是优化器的职责。<br><br>查了下《高性能MySQL》：优化器之前会进行预处理，根据一些MySQL规则进一步检查解析树是否合法，例如，检查数据表和数据列是否存在，还会解析名字和别名，看看他们是否有歧义。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/46/42/6e0f3754.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Sunny</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。<br><br>所以应该是分析器</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/cf/81/96f656ef.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>杨逸林</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">innodb在存储数据的时候，会产生三种文件，一个用来存储表结构，一个是索引，一个是数据。我觉得的应该是执行器这一步的时候，查了表结构</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/9d/10/44f5fc66.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>oygza</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">2</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我猜测应该在分析阶段，根据文章介绍分析器的作用是让mysql知道你要做什么，对语法的分析应该是第一部，语法词法分析完成后应该是解析这条sql到底要执行什么操作，插入还是更新还是建表还是查询，这时mysql应该已经知道你想操作那个表而这个表存不存在，从而才能匹配不同的优化器类</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/0f/44/396d2d8e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>zj-de</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我感觉分析器中的词法分析和语法分析作者像说反了，一个sql语句，应该是先检查select语句是否符合规范，比如select from等关键字是否写错或者漏写，再判断数据库中是否存在表，是否存在字段。我在测试的时候(一条语句关键字错误，表或者字段不存在)是先报You have an error in your SQL syntax 。。。。，把关键字写正确才报没有表或者字段的错误。希望作者解惑~</div>  <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>学徒</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-21</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">基于一位同学提问的和您的回答，赵四同学描述场景下的“select command denied”报错是分析器报错还是执行器报错的呢？还是说，分析器报错“unknown column”之后，逻辑会继续往下走，在执行器中做权限查看报“select command denied”呢？谢谢<br><br>尼古拉斯·赵四<br><br><br>10<br>我创建了一个没有select权限的用户，执行select * from T where k=1，报错“select command denied”，并没有报错“unknown column”，是不是可以说明是在打开表之后才判断读取的列不存在？<br>2018-11-14<br> 作者回复<br>这个是一个安全方面的考虑。你想想一个用户如果没有查看这个表的权限，你是会告诉他字段不对还是没权限？如果告诉他字段不对，其实给的信息太多了，因为没权限的意思还包含了：没权限知道字段是否存在😄</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/a2/7f/cf86eef9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>某、 </span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">你好，关于sql语句执行链路图， 一般来说，连接器通过后，到查询缓存，命中返回，否则到分析器，直到执行器；<br>有个比较傻的问题，那么连接器到分析器，再到查询缓存？这个箭头走向有一些不明白，就是连接器分两个方向到查询缓存和分析器是什么意思，<br>这里不是很懂，请指点一下，谢谢，本人小白</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 如果没开查询缓存，就直接走分析器的意思</p></div></div></li><li class="reJj6Thl_0"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqNKGqOqXlibicdsywqCDMV1IAiaUEibWufvRHQppFsHeZWIVOho02XLTxegcOoaOiarmvQwgl6VevC1VQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Safufu</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">对表的权限验证为什么是在执行阶段呢？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ed/a1/d2953af8.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Together</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">【对权限检验的一点疑问】在连接器里已经做过了权限验证，为什么在执行器里还要再做一次？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 连接器“取”权限，执行器“用”权限</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIia6Gwm46GuXYTD6jwPcsQKQHNfUnYETJOEFK9XukRVKdbs9qNhxzLnic4YRH69CltTOqdbnAWPiaqA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>莫珂</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">看完加深不少理解，受益匪浅。顺便问一下这个图是什么做的？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>崛起的小强</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化阶段。存储引擎提供了很多“handler API”接口，查询中的每一个表由一个handler的实例表示。handler通过这些接口获取表的相关信息，包括表的所有列名、索引统计信息等。MySQL在优化阶段就会为每个表创建一个handler实例，因此在优化阶段会判断出列是否存在。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/9b/23/cb0fdb94.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Flythewolf</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">看流程应该是优化器，在此之前都是检查查询语句的语法等等</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/87/ce/7411314e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>心向往之</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">大侠，请教个业务操作表的场景，如果对一个业务数据表的操作既有查询（分页查询批处理），又有更新，此场景下都是操作主库好呢？还是说查询走从库，更新操作走从库？您有没有好的建议呢，如果遇到了此类业务场景您会怎么分析解决此困扰呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 必须做语句分类，延迟敏感的走主库，不敏感的走从库</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/52/33/283dab06.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>王恩俊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">对rows_examined和执行器实际扫描的行数并不是一致的，还是不理解</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是说，跟“引擎内扫描行数”不一致哦，这个我会在答疑文章加个例子说明</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/dd/3e/c3028cd5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>gongxt</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">词法分析的时候应该识别不出来表名等子段，实在语法分析做的哇？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/65/4d/a4cad817.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>twzd</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/13/35/b6328a05.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>如余</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器中的语法分析提示的错误</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f7/69/d8dba3de.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>DanielAnton</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是优化器，分析器只能分析词法和语法是否正确，而优化器会查找索引字段，说明已经可以检查列字段了，这个时候如果发现列字段不存在，就不会生成执行计划，因此我觉得应该是在优化器阶段。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>hellobfy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问分析器 指向 查询缓存是因为 操作完，分析器会将sql和操作结果的key-value存入缓存吗？ </div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 对，还有更新语句会去失效query_cache</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/be/19/2263d3a5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>User</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">个人认为分析器只做语法分析，优化器才会真正寻找表基本信息，确定执行方案</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/38/ed/72f73710.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>嘻嘻</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器到查询缓存的箭头是干嘛的？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是更新缓存的逻辑</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Joker</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段报出来的吧～</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f0/74/f574b540.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>棒棒糖</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">个人认为是优化器阶段。<br>分析器只是分析语法是否正确，不会检查列是否存在<br>优化器开始选择更优的查询方式，是否有索引之类，这时候已经知道是否存在此字段<br>执行器如果是这个时候才判断，成本太高</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/98/74/f015d15f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>汪恒</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">基本架构图中，分析器指向了查询缓存，是这时候把KEY放入缓存的吗？执行器不指向缓存Value是什么时候放入缓存的？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯其实执行器玩会写入，但是为避免图乱，把这个箭头去掉了，文章中有说明“执行完成后，结果写入查询缓存”的逻辑。👍🏿细致</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/1b/36/abe6d066.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>付盼星</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得是词法分析阶段，没必要等到真正执行时才发现没有那个字段，那语法分析，优化，岂不是很浪费么？对了，老师，怎么看慢日志。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/66/c4/e87a61ec.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>钱胖子</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">语法分析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/eb/6c/9f11f6ff.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>flying_bird</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器告诉你做什么，优化器告诉你怎么做。查询错误的列很明显干不了，我觉得应该在做什么阶段发现，发现得越早成本越低。我认为答案是分析器</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f1/07/3bed866e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>anit</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是优化器的时候</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/21/d6/45db03e9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>坐在海边看风...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">在分析器阶段就会被发现不存在这个column，就会报错</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e5/ca/eb9abd6c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>tonghuan</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">语法分析</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/a7/49/df772c12.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Geek_X</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">飞总说是分析器，我附议，哈哈</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/df/6c/0ee21bef.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>阿胖</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class="">1</span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">答案是语义分析吗</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/1a/5d/07f7968b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>猫小印</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">@尼古拉斯·赵...【我创建了一个没有select权限的用户，执行select * from T where k=1，报错“select command denied”，并没有报错“unknown column”，是不是可以说明是在打开表之后才判断读取的列不存在？】--的解释：是在分析器分析出字段存不存在之前优先判断权限？和@郭↓的解释是不是冲突了？<br>&nbsp;@郭【有个问题不太明白，为什么对权限的检查不在优化器之前做？】</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/eb/a5/bb5da1bc.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>明月能曌三千...</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">现在有一个普通用户的长连接，权限是select，现在我另开一个root用户会话，把这个普通用户的权限做了修改，加上了insert的权限，在没有断开这个普通用户的长连接，但是发现该长连接可以进行insert，这个现象跟文中所说的已经存在的长连接必须要先断开才可以应用新权限是冲突的。请问这是什么原因？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 好问题，看一下今天晚上（2月18日凌晨）更新的第42篇哈</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/76/72/14c6a943.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>岛乾坤</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">第一次调用的是“取满足条件的第一行”这个接口，之后循环取“满足条件的下一行”这个接口，这些接口都是引擎中已经定义好的。这里面的接口怎么理解，我们在数据库中说的接口是什么。概念，麻烦老师解答一，谢谢。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这里的接口是指“引擎定义好的函数调用方法”，<br>只是这个定义不是乱定义的，<br>MySQL是一个插件式的结构，要求每个引擎以固定的方式提供调用方法。</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>霁月星辰</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，优化器部分有一点疑问，麻烦老师解答一下。<br>在执行sql语句的时候，是根据链接条件生成临时表，再根据where条件进行筛选？还是按照您讲解的可以先根据where进行筛选，再进行表的链接呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这取决于是驱动表还是被驱动表；<br><br>你可以先看一下34 35两篇讲join执行流程的哈<br></p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/df/93/ad66264b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>大胖小子</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-12</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器执行阶段，对于有索引的表执行过程不知道我理解对不对。<br>比如表T 字段id 是索引字段，name非索引字段，执行以下sql<br>select * from T where id = 10 and name = "abc";<br>执行过程我理解是这样的：调用“取满足条件的第一行"接口（这个满足条件就是id=10），<br>引擎返回结果到server层，然后在mysql server层 判断name值是否相等，如果相等放在结果集 继续下次循环。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 对的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/98/12/a169bdcd.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Geek_477c02</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-11</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">MySQL 在执行过程中临时使用的内存是管理在连接对象里面的。这些资源会在连接断开的时候才释放。<br>这里的内存是什么？不是BP，对吧。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是的，不是BP。 BP是在InnoDB里面维护的，只有InnoDB才；<br><br>执行过程中的临时内存，是在连接对象里</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/01/c4/9a0c9535.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>窗外</span> <!----></div> <div class="_1H1Z49Dr_0">2019-02-11</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，您好，看后面的文档中多次提到 server 层与 engine，回过来看了下，还是不大清楚这个界限，有什么文档可以参考吗？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epesWg3XayWLfUmIXtVp6p3oRXVe7BdzIic3j0vibVP80WSOgN7icSdr3h41UnshYXlsdwHibc7fZtldg/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>靈</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-29</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">为什么分析器完了还要走查询缓存？不是之前查询缓存没命中吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 查询缓存是在分析器阶段之前的<br>只是如果有更新语句，要去失效查询缓存</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>杰之7</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-27</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，连接操作我没有理解，mysql -h<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">p</span><span class="MJXp-mo" id="MJXp-Span-4" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">P</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-1-Frame" tabindex="0" style=""></span><script type="math/tex" id="MathJax-Element-1">ip -P</script>port -u$user -p,在输入查询语句之后，输入连接操作，显示语法错误，请老师给予更正。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 一般你提问题的时候如果可以把报错信息贴出来最好啦。<br>可以直接贴文字，更好的是截图，发个微博，然后贴地址在这边也可以</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/15/3a/7b/29bae922.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>OK哥</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">以前用了很久 没有去了解过这些基础原理</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/a0/0b/20123c7a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>fireflyc</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">图片用什么画的？方便告知一下名字吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: ipad的pencil，美女编辑画的哦</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>二马</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">怎样查看是长连接还是短连接，定期断开长连接怎样配置?另外最近做性能测试时发现大并发用户同时连接MySQL时会有部分用户连接超时(设置的最大连接数1000，实际使用的最大连接不会超过200)，关于MySQL连接管理这块该怎样优化?谢谢！</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 那你这个就是典型的短连接了<br><br>建议改成长链接方案</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/17/d4/d7a4e6f5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>胡楚坚</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">文中执行器模块给的例子sql是select * from ，引擎层返回了一整行数据，请问老师如果我只是select id from ，引擎层是只返回id一列，还是一整行。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 只取id的话，引擎就只返回id给执行器</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/80/e0/0f18a1a7.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>钻天鹞子</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">"在工程实现上，如果命中查询缓存，会在查询缓存放回结果的时候，做权限验证。查询也会在优化器之前调用 precheck 验证权限。"<br>不是很理解这块。<br>1.命中查询缓存之前在连接阶段不是已经做过权限验证了吗,为什么查询缓存放回结果的时候要再做权限验证.<br>2.命中查询缓存后我理解这个查询缓存直接拿出来用就行了,为什么这里还要有个放回动作.<br>3.优化器之前调用 precheck 验证权限和执行阶段的权限验证有何区别.<br>谢谢老师!<br><br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 1. 连接阶段只是“获得权限信息”， 真正开始查询动作，才判断“有没有操作这个表的权限” <br>2. 抱歉，是“返回结果”<br>3. 不同的阶段^_^ 执行器阶段是判断一些关联操作，比如更新一行的时候，由于触发器会再更新别的表，这种情况</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/bd/c0/57b06721.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>深藏Blue</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">入手比较晚，说下个人对为什么是分析器的看法。<br>连接器：门卫，想进请出示准入凭证（工牌、邀请证明一类）。“你好，你是普通员工，只能进入办公大厅，不能到高管区域”此为权限查询。   <br>分析器：“您需要在公司里面找一张头发是黑色的桌子？桌子没有头发啊！臣妾做不到”<br>优化器：“要我在A  B两个办公室找张三和李四啊？那我应该先去B办公室找李四，然后请李四帮我去A办公室找张三，因为B办公室比较近且李四知道张三具体工位在哪”<br>执行器：“好了，找人的计划方案定了，开始行动吧，走你！糟糕，刚门卫大哥说了，我没有权限进B办公室”</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 哈哈，很不错，有意思啊👍</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/70/5d/2c313dad.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>待我瘦到八十...</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-11</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">明显是分析器，MYSQL没有命中查询缓存往下走的时候是走到分析器，对SQL语句进行词法分析。分析是你的增删改查等行为，接着识别表名，然后识别表里的列。找不到列的时候就报这个错了</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/1a/fe/27eb8a84.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>锋</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-10</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请教个问题：select * from table  where id = 10；id上无索引，那么就会使用全表扫描的方式一行行调用，此时server层调用存储引擎接口，拿一行在server层判断一行，然后把符合条件行作为结果集，返回给客户端，那么这个结果集是存在哪的？存储这些数据的内存是什么？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不存，直接发给客户端</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJvxqeQYY8B3szibRkHEOGDELIMm5PxjNUxDk9ubgNSmAZeFmyNPYKEP3qWZI6fOibIbjSJFibU45tGw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>谈歌0311</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-08</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问如何mysql_reset_connection操作？可以用Navicat，连接完数据库，用命令行页面输入<br>mysql&gt; mysql_reset_connection; 不是这样吧？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不能，这个是个api接口，不行用程度调用的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/52/37/13b4c8aa.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Vincent</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-07</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">课后习题答案: 分析器的语法分析阶段</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 对的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/c3/bd/ec8b3044.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>尔东</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-06</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析器，不过不确定是词法分析阶段还是语法分析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/93/8a/abb7bfe3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>亮</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0"><br>看完整篇文章有个疑问望解答，在执行阶段为什么需判断对表是否有执行查询的权限，而不是在分析阶段去做；根据mysql中的information_schema库的存储信息理论上可以在分析器阶段判断是否有权限。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/0a/af/6f244997.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lee</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师有个问题咨询一下，select * from t1 join t2 using(ID)  where t1.c=10 and t2.d=20;像这个SQL，如果用INNER JOIN /LEFT JOIN /RIGHT JOIN等也会被优化器优化如何连接吗<br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个可以explain验证一下</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/0a/af/6f244997.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lee</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">[ MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。] <br>---------------------------------------------------------------------<br>引用原文的一句话, 由此可见, 文末问题错误是在分析器中抛出来的。老师已经在文中给出答案了</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 👍</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJvxqeQYY8B3szibRkHEOGDELIMm5PxjNUxDk9ubgNSmAZeFmyNPYKEP3qWZI6fOibIbjSJFibU45tGw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>谈歌0311</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-03</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行 mysql_reset_connection 来重新初始化连接资源，我想请问下，如果在主从DB服务器执行这个操作会影响主从同步吗？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不会，这个操作没有写binlog,只是更新连接的线程内部数据</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>涛哥哥</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-02</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，故意将一个字段名写错，并且不赋予权限，您说会报权限不足错误。然，您又说检查字段名是在分析阶段，检查权限是在执行阶段，，不明白分析阶段异常，为什么还要走执行阶段呢？望老师解答，微笑～</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这里在工程实现上，权限有提前判断</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/74/ea/10661bdc.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>kivensu</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-02</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">mysql主要包括： Server层+存储引擎层。<br>Server层：连接器，查询缓存，分析器，优化器，执行器。<br>存储引擎层：MyISAM，InnoDB，Memory等。<br><br>例子总结：<br>连接器<br>查询缓存<br>语法分析，要做什么。<br>优化器，怎么做。<br>执行器，做。<br><br>最后那个问题个人觉得是没有在所有column中找到k。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Long</span> <!----></div> <div class="_1H1Z49Dr_0">2019-01-02</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师你好，准备重新复习所有的课程。<br>每天都在等你的更新，每篇都能学到新的知识。希望把我之前回答别人的数据库知识时候的词语：应该，估计，我理解，可能是。。。这样的一些词语都渐渐去除了。<br><br>这边有2个问题：复习第一篇的时候发现2个疑问，认真看了大部分留言后发现问题没有关闭，特此再问下：<br>问题1：和下面三位同学有类似的疑问：关于没有权限操作表的时候的报错：<br>@von，@尼古拉斯赵四，@学徒（可以直接评论区搜索这些同学的名字）<br>如果分析器已经知道了“unknown column”之后，为什么还会报错：“select command denied”。你之前的回答是：由于安全考虑，用户没有权限操作这个表，那么也不需要告诉用户这么多，直接告诉用户没有权限。<br><br>【重点疑问】如果是按照这样的话，且对表的权限检查都在执行器的话，那么每个sql在执行的时候至少都会执行到执行器吗？<br><br>因为同时看到文中在执行器章节：于是就进入了执行器阶段，开始执行语句。开始执行的时候，要先判断一下你对这个表 T 有没有执行查询的权限，如果没有，就会返回没有权限的错误，如下所示。<br>SELECT command denied to user 'b'@'localhost' for table 'T'<br><br><br>问题2：两位测试结果不一样<br>@yezhizi <br>yezhizi的测试结果是Complete optimizer trace:<br>@黑龍Dr夢，从他的描述来看，测试结果应该是分析器<br><br>没有本项目上的MySQL权限，等明天自己本地版下好后，测试下结果。<br>也请老师也帮忙分析下我的疑惑，多谢。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 1. 不是的，由于工程实现的原因，会有前置检查<br>2. 这个也类似，其实如果看调用路径，执行器阶段都在mysql_parse函数里面调用的。 做这些阶段的拆分我觉得主要是方便我们从概念上理解，工程实现的时候确实不是1234这么按部就班的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/d3/b3/4f5550c0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>大宝</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-31</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得是优化器，因为这里应该属于语法分析，但是也引出一个问题，是否在表结构修改的时候，也同样会对这一层的某些配置做更改呢？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/3e/05/cc934cb3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Klaus</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">文章中有说到在执行器阶段才会打开表，取出一行一行的数据，那分析器的时候表都没打开，是如何知道是否有查询语句中的那个字段呢？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/47/68/bfc0d0cf.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Jarry</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">就是我想学的内容，很棒！</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLv9HJIW4OACkjlwOQJ9cU7HzvaDFYkACWCib2lzOMef9ZiaGDTVFqjPicpVK5KDRbBRVGGHrMHQO1Rw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>fdconan</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问老师，rows_examined跟explain出来的rows有什么不同吗？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/2f/47/eadc8482.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>luoChao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">缓存失效应该是从查询缓存指向→分析器。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/c7/b1/cd0a8bee.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>李醒</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-27</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">为什么要在生成执行计划后才判断表的权限呢？为什么不在分析器那里处理，而放在执行器里处理啊</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 其实分析器完成后也加了，执行器也有</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/01/85/a2279772.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>吴青</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-27</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器分析sql对错</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/f7/84/08fbe273.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Leo</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">如果你用的是 MySQL 5.7 或更新版本，可以在每次执行一个比较大的操作后，通过执行 mysql_reset_connection 来重新初始化连接资源。<br><br>这个是要如何开启？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/7a/68/f2bc8fcb.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Hyun</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">当一个数据库连接进行了大量的操作，比如查询，导入等费内存的操作之后，会占用大量的内存。此时系统会将这连接杀死。作者的意思是每过一段时间 就要进行数据库连接的重启，以保证连接按需操作及时高效完成。问题：为什么连接上操作完毕之后，系统不自动释放查询等占用的内存，是因为系统无法感知占用内存是否还有用，还是取决于连接上是否自带有释放内存的操作，比如开了一张临时表，塞了大量数据，结果临时表用完，没有及时丢弃？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/82/07/5940b400.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>SaimSaim</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-25</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">答案是优化器的话 我可不可以这么理解 分析器做了词法,语法分析 而语义分析(编译原理概念)这一步工作在优化器中完成</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/e5/65/cf1243f4.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>悠悠</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-25</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">在分析层检查表结构</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/fa/3b/29c9240f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>沁雨烟城</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">写的真的蛮好的，刚了解mysql看到第一篇果断入坑了。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/d0/58/4cc72f4d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>test</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">感觉有点难，坚持打卡，先看一遍回来再反复看</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/b1/0e/72590f9c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>happyLifeha...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">刚开始我跟晓斌哥说我要去你专栏下面征婚，他说他去顶帖，所以我买这个专栏不是为了学习……因为我工作可能简单增删改查保证事务一致就够了，况且现在的项目只有缓存没有db，能不学的一定懒得学，最主要的是大神这么厉害我觉得我也学不会。<br>前天有人说他这个sql要执行一下午，我说你写那么多like废话，你加个索引呗但他那个表只有一列，里面是扩展字段，说加不了索引，所以我也不知道接下来怎么办。<br><br>今天打扫卫生想找个东西听，大神还是心目中的大神，深入浅出幽默风趣浅显易懂，小学课文的故事都能拿来当例子开篇，从简单的select开始。我这种技术小白是能不太动脑听得懂的。<br>推荐给平时需要和数据库打交道的同学，更推荐给做高可用做运维的朋友。<br>最后，蚂蚁招人，容我打个广告，服务端开发，测试，双十一高可用运维团队，统统招人，喜欢的就是你们这些业余时间还这么爱学习专栏选的还是高质量专栏的，级别没有上限，放眼望去单身白富美一堆（我除外）团队主管好氛围好上升空间大<br>简历砸来1038248065@qq.com<br>（为避免被人肉我就先不写公司邮箱了#可能我也是想多了#）<br>#诶我说好的我来学习的，我今天学了四节了没有骗你#<br>————我是一条不正经的评论————你还看完了那就砸个简历来一起来快乐工作开心生活</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 哈哈哈，这个是蚂蚁QA，单身又阳光的妹子，我老乡，征婚本来要置顶,不过后面有招人广告就不置了😄<br><br>你Q都贴了，查出来那个过程根本不叫人肉，就是“查找”而已😄<br><br>还有孔乙己是中学课文哦，你是不是小学时看你哥课本提前预习了😋<br><br>还别说，唯一提到的技术问题是说到点子上了，”like”那么多索引建了也没用。<br><br>只有一个字段还是扩展字段，这已经不是索引的问题而是表结构设计的问题了，好了改成多字段存储，要么就用全文检索的方案<br><br></p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/b8/78/af41feaf.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>盐森</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">为啥到了执行阶段才去分析用户权限？在词法解析的时候分析用户权限，如果操作权限不够，那直接结束不就省了后面的优化等操作了吗？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 其实也有…确定表以后会判断一下。执行阶段也有</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epesWg3XayWLfUmIXtVp6p3oRXVe7BdzIic3j0vibVP80WSOgN7icSdr3h41UnshYXlsdwHibc7fZtldg/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>靈</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">上面分析器那块说得很明白了嘛，会将T转换成表T，会将Id转换成字段iD。没有肯定转换不过去的。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/a8/8a/76e1e828.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>桃之夭夭</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，小白问个问题：执行器去操作引擎获取数据的时候，因为引擎查询数据也需要时间，那执行器是不是有个等待的过程？？您说的rows_examined是记录执行器每调用引擎获取数据刚时累加，那是不是可以这样理解在一个查询过程中，执行器会间隔一段时间去引擎获取数据？？？如果是这种的话，我又有一个疑问了，执行器怎么知道引擎已经查询完了，最终返回数据的呢？？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不是。执行器是同步调用引擎接口，不是异步调用。执行过程中累计的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/e6/1c/aa7dadfc.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>水户洋平👊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得是分析器，首先分析器的词法分析器会将k识别为一列。但会不会在语法分析器，判断在T表中找不到这一列，而报错。因为下一步是进入到优化器，在优化器之前sql语句应该不会有问题，否则怎么去进行优化。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 👍🏿</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/4f/79/abb7bfe3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>晓东</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，时间区间查询，between and跟&lt;=&gt;=有性能差异吗</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 没有，不止时间区间，所有类型这两个都是等价操作</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/20/e2/a69a85c5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Yao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">想请教下，长连接维护的对象里除了链接信息，权限信息外还会有哪些内容，为什么会导致内存持续增加，意思是还会有使用这个长连接的每次请求信息吗？希望得到您的恢复，谢谢</div>  <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIcEaEVhpm3up3wX4PzVlgJ1ibsRobcWFUu4RRXu8Mfw3nIFibDSmm8x9rbpFlDIhfHOMBadYBhaeVQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>cf</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器，可以根据原文暗示得到结果。<br>根据查询到的更具体的分析过程如下：<br>（1）首先是解析器将查询分解成一个个标识，然后构造一颗“解析树”，解析器保证查询中的标识都是有效的，会检查其中的基本错误，比如字符串上面的引号没有闭合等。<br>（2）然后预处理器检查解析器生成的解析树，解决解析器无法解析的语义。比如，它会检查表和列名是否存在，检查名字和别名，保证没有歧义。<br>有个疑问：网络上有文章表示是预处理器检查权限，即词法分析阶段。而且如果是没有select权限加上查询的字段不存在，不应该是先报错“找不到对应的列”吗？这时候会继续检查权限？虽然说返回权限不对才是正确的，但是对于这个在哪个步骤进行权限检查还是有点糊涂，希望大神指点。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/df/04/ca6e1f76.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>苍天大树</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">两个不同引擎的mysql 表能联表查询吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 可以</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/a2/55/19354b3c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>迷彩</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>William</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-13</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">MySQL 拿到一个查询请求后，会先到查询缓存看看，之前是不是执行过这条语句。之前执行过的语句及其结果可能会以 key-value 对的形式，被直接缓存在内存中。key 是查询的语句，value 是查询的结果。如果你的查询能够直接在这个缓存中找到 key，那么这个 value 就会被直接返回给客户端。<br><br><br>老师请问关于上面的这段，如果执行语句相同，仅仅是条件不同，会走查询缓存么？<br><br><br>如：select * from  user where id=6<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select * from  user where id=7<br><br>&nbsp;这两句.<br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不会，查询缓存要求语句一摸一样才行，别说你这个参数变了，就算两个语句差异只是多一个空格都不行哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/32/0b/981b4e93.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>念你如昔</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-12</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">什么场景下调用“取满足条件的第一行”，引擎所扫描的行数会扫描很多行呢</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/df/07/7bf65329.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>艾草</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-12</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">赞赞赞，大佬说的很详细。例子也很有典范性，很适合我这种mysql初学想要深入了解的。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/52/81/745475e9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>colben</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-12</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">开课好几天了，刚开始看，这评论长度是文章的6、7倍 ……</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/JkMtA7dN7V9Z9iaX2w5zTuPOU6mxhARmEZxicXG7vOs5snjAQrlU0Km8pk9eOibJlhdV3aQk2zkFXOQwZEu1mDgLg/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>一一</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-12</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师我想问下：mysql官网上的体系图是 SQL Interface、Parser、Optimizer、Caches&amp;Buffers、Pluggable Storage Engines这几部分， 分别是sql接口，分析器，优化器，查询缓存，引擎<br>那我们我们文中的执行器是在哪一部分的</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 如果这么分，那只能算在optimizer里面了…</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e7/df/84f214c3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>.</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-10</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，有个问题，希望你帮我回答一下。谢谢。<br>比如我们做一个app的时候，会对不同的功能数据，放在不同的数据库中。有些数据库是会频道读取数据的，有些也是不频繁。那么针对频道读取数据的我们是一直保留长连接吗。那如果是使用方案二的话，再重新初始化连接资源的时候，会出现另外一个请求也要进行数据读写的话，是否会卡住呢？<br>不懂我这个问题是否描述清楚了。希望老师帮我解答一下。也有可能是我对重新初始化连接资源理解错误了。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 一般APP不会直连数据库吧？是不是都有个服务端，让服务端维持长连接，响应客户端请求就好了<br><br>初始化连接资源只是初始化自己的，不影响其他人创建连接或者读写请求的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>qinggeouye</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-08</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器中的词法检查～</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/1c/3e/2ebc7c96.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>智能家居-九...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-05</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">看不懂，老师，有没有更基础一点的介绍呢？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/de/e1/de266478.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>就是个渣渣</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-05</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">林老师，您好！高性能中有这么一句话：如果当前的查询恰好命中了查询缓存，那么返回查询结果之前MySQL会检查一次用户权限。这里检查权限是去连接器中检查权限还是执行器？看评论您说过这么一句话，连接器取权限，执行器用权限，我自己感觉应该是连接器。<br>如果是连接器的话，图中不是先要经过连接器，这个时候检查是要返回去再做检查？<br>如果是这执行器的话，是需要跳过下面的分析器和优化器么？<br>还请林老师指点一下,感谢！</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 查询缓存拿到结果后判断权限，我觉得这个逻辑就算在“查询缓存”这一步吧😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/34/3b/a5fddd35.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>姚伟</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-05</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，MySQL的连接池就是把用完的链接放回池子里，给别的业务线程复用，变短链接为长链接。<br>MySQL的连接池是在InnoDB 的buffe pool里面的吗？和MySQL企业版的thread_pool的实现原理类似吗？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 1. 不是，连接池是server层的。<br>2. Thread_pool是线程池，给不同的连接复用线程；连接池是复用连接</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/04/b8/3fd2f448.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lucky star</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器， 是分析器的预处理阶段， 高性能mysql明确的给出了答案<br><br>两个疑问：<br>&nbsp;&nbsp;&nbsp;&nbsp;1，首先您说在连接器建立连接后就已经读取了权限信息了， 那为什么又说在每次执行sql的时候在执行器还要判断一次权限？这俩权限不一样吗？有什么不同？<br>&nbsp;&nbsp;&nbsp;&nbsp;2，高性能mysql中说sql执行的时候权限的验证是在分析器的预处理器中执行的， 您说的是在执行器？那我就蒙圈了。。。<br>&nbsp;&nbsp;&nbsp;&nbsp;3，问一个本文没提及的问题， mysql最新的版本，客户端和服务器的通信协议还是半双工的吗？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/f8/4d/4f376498.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>TWO STRINGS</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师请教一个问题，select数据的时候是最后一步是按页加载数据行并过滤出来返回的吧？那如果表中有类似blob这种数据比较大的数据列，一页能加载的数据行是不是就少，会导致select操作很慢？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/5e/9b/a25306b1.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>我是书寒啊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问select (T.a+T.b) as result from T where result &gt; 0; 这类语句发生报错的发生过程是什么样的呢？<br>因为分析器只会对表中拥有的列的别名做识别，而select中函数的处理是在引擎返回筛选结果后在server中处理的吗。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>杰之7</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-04</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">这时Mysql数据库技术的第一课，我最好的一个心愿就是能和老师一起读过这短暂的两个月时间，搞懂Mysql的核心架构与技术。在今天的第一课里，给我们介绍了一条查询语言在Mysql中的全流程，涉及到Mysql的架构体系，Server层和存储引擎。首先在连接上数据库，之后对语句进行分析，从词法和句法对语句进行分析，然后使用优化器优化查询的效率，最后到了执行层面对查询语句进行执行。所以一个简单 的查询背后的技术设计到数据库的架构原理，理解架构之后，对我们更好的使用数据库技术及发现问题更有裨益。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯嗯共同学习😄</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>null</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-03</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，您好<br>文章提到：<br>1. 建立连接成功之后，在连接器阶段会先到查询缓存查看是否存在该 SQL 的缓存。<br>2. 针对一条 SQL 语句，在分析器的词法分析阶段，从关键字 select 中识别出是一条查询语句。<br><br>这里有一个疑问，在分析器阶段才识别出 SQL 是查询语句，而在连接器阶段，如何决定是否需要到查询缓存看看呢？<br><br>谢谢老师！</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯，确实是“识别出这个是一个查询缓存”这个动作是在连接器之后，查询缓存之前的，但是在查询缓存之前也只做了这一步小小的解析哈。<br></p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>null</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-02</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">课后思考题：<br>分析器词法分析时报的错误。<br>文章分析器的词法分析介绍有提到“从 SQL 语句中识别出里面的字符串分别是什么，代表什么。要识别出 select 关键字是查询语句，字符串 T 是表 T，字符串 ID 是列 ID”。<br>因此是在分析器阶段报：Unknown column xxx。<br><br>---<br><br>疑问 1<br>MySQL 的逻辑架构图中，分析器左指向查询缓存，是执行器操作返回的结果原路返回给优化器，分析器，然后将结果保存到查询缓存里么？<br><br>---<br><br>疑问 2. <br>原文提到：<br>&nbsp;&nbsp;&nbsp;rows_examined 表示这个语句执行过程中扫描了多少行。这个值就是在执行器每次调用引擎获取数据行的时候累加的。在有些场景下，执行器调用一次，在引擎内部则扫描了多行，因此引擎扫描行数跟 rows_examined 并不是完全相同的。<br><br>rows_examined 是不是表示执行器共调用了多少次引擎接口？也可以认为是引擎接口返回行数的累计值（因为引擎接口每次只返回一行）？我这样理解对么？<br><br>谢谢老师<br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 1. 是，还有更新语句失效缓存<br>2. 对的，而调用一次可能引擎内部访问了多行，就是这句话要表达的意思</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/30/f9/e4e49771.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>拓拔泽</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-01</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，你好。你在文中写到，执行器会调用引擎提供的借口查询数据。那我是不是可以这么认为，最终遍历数据是引擎来完成当的。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: “遍历”这个动作是执行器让做的，<br>引擎给了两个接口：取第一个、取下一个</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e3/b2/cf2412da.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>风行年华</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-01</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">如果用户名密码认证通过，连接器会到权限表里面查出你拥有的权限和执行阶段去查询有没有select的权限这两个有什么区别</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 连接器阶段是去系统表读数据，结果放在变量；<br><br>执行器使用这个变量</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/31/57/48aadf91.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>陈园</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-01</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">自建MySQL服务，数据迁移到阿里云数据库，云数据库没有默认没开查询缓存，有查询没优化，查询比较慢，业务高峰时大量请求，大量相同查询堵塞，未及时发现，最终导致所有数据库服务堵塞，无法提供查询。之前未迁移有加查询缓存，相同查询第一次慢，后面有再查询时，速度很快，没有造成大量堵塞，MySQL服务没出问题。还有个情况是之前MySQL为5.5版本，每个查询都还挺快的，换成5.7后平均慢一倍。对MySQL了解比较粗浅，请老师解惑一下，谢谢</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯……… 迁移的时候要做好性能压测哈<br><br>这个你得发表结构和SQL语句（脱敏后）发来看看<br><br>5.6/5.7对优化器做过修改，但可能有副作用。<br><br>可能你刚好掉坑</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/31/57/48aadf91.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>陈园</span> <!----></div> <div class="_1H1Z49Dr_0">2018-12-01</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">禁用查询缓存，造成查询雪崩怎么办</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 额，为什么会这样，并不是redis缓存，是数据库内部的 query_cache</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIrv7dxNswV4XLYZ1KPEI75L4YMtVyN7WtLLdS2Gx1FJ1ibYriaNiayspPljkqPicDzmibCj3L4jyYfaCA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>boil飞</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">遇到了这个问题。数据库所在的docker配了80G内存。但因数据库配置文件里的参数配置不好，通过计算，达到了1024G，而，现在已经到达容器内存100%了。之后我把参数改到合理值，但内存还没降，应该是保持会话的没生效，新会话生效了。现在数据库不能重启，也不能把会话都kill掉。要怎么处理?才能使内存降下来的，老师?</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 会话不能kill? 这样程序应该升级，正常的程序要能够处理异常连接连接断开哦</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIrv7dxNswV4XLYZ1KPEI75L4YMtVyN7WtLLdS2Gx1FJ1ibYriaNiayspPljkqPicDzmibCj3L4jyYfaCA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>boil飞</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">mysql_reset_connection   这个重新初始化连接，要如何使用呢？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/58/d4/c52f9f6d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>李考证</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">Hi，老师！<br>图里面的连接器这块，“权限认证”如果只看图的话感觉很容易和后面的库、表权限这块形成误解，不知道改成“连接的权限认证”之类的是否会好一些。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 就是把库、表的权限也一起拿了哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/42/e9/86807350.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>守护.</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">SELECT<br>&nbsp;&nbsp;&nbsp;&nbsp;COUNT(1)<br>FROM<br>&nbsp;&nbsp;&nbsp;&nbsp;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.enterprise_name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.`name`,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.isopen,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.claim,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.*<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_sc_staff_info a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN t_sc_staff_roles b ON a.staff_info_id = b.staff_info_id<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 = 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GROUP BY<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.staff_info_id<br>&nbsp;&nbsp;&nbsp;&nbsp;) TOTAL<br><br>这个关联查询.有索引.查询也好慢，去除group by 效果差不多. a b表数据均在1千万以上.</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/72/89/1a83120a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>yihang</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-30</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">如果我想管理mysql长连接，是应该在客户端（连接池里）做吗？查了一下 mysql_reset_connection 这个好像是C的函数，我客户端语言使用的是java，翻了mysql-connector/j 似乎没有类似的功能？<br></div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/04/75/d9d6e2a1.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Any艾米</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-29</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我认为是分析器<br>分析器首先是"词法分析"。你输入的是由多个字符串和空格组成的一条sql语句，mysql需要识别里面的字符串分别是什么，代表什么，然后在做“语法分析”，是否满足mysql语法。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKxRpvZNm1MXXfwbl383IKJuARpBDqP9Y1GJalo9q02hJoJWHykpEQZGl4thQmtDeRgyChiahAperA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>ad</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-29</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师你好，<br>“如果有权限，就打开表继续执行。打开表的时候，执行器就会根据表的引擎定义，去使用这个引擎提供的接口。”<br>打开表是个什么意思？<br><br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 就是“读这个表的定义、获取它的表结构”</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/2b/bb/5cf70df8.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>嘉嘉☕</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-29</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">你可以将参数 query_cache_type 设置成 DEMAND，这样对于默认的 SQL 语句都不使用查询缓存。<br><br>老师，请问<br>“不使用查询缓存”是指：<br>不会把查询结果做缓存？<br>还是不会去查询缓存的结果？<br>谢谢老师</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 对，both </p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/7a/7f/1b389e44.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>刘晓宇</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器，开始对SQL语句进行分析。所以课后答案是分析器。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e8/d5/16450867.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>路飞君1234</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">当修改数据权限之后，执行flush privileges; 此时服务端会通知客户端的连接器更新权限么？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不会，只影响之后新建的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/0c/21/c166f3cc.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>von</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我接着@尼古拉斯赵四的问题，创建了一个没有select权限的用户，执行select * from T where k=1，报错“select command denied”，并没有报错“unknown column”，报unknown column是在分析器阶段，但是到执行器的时候才检察权限，所以这个"select command denied"是在哪个阶段报的呢？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/42/e9/86807350.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>守护.</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">两张千万级别的表关联查询怎么优化(◐‿◑)﻿</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 记得有索引，驱动表字段要有，被驱动表关联字段也要有。<br><br>建议后面提问的时候具体给出例子哈，否则就只能泛泛回答</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/0e/b2/7cf7e91c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>wsw</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-28</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">对于连接器，有些疑问。<br>文中提到一旦全部使用长连接会使内存使用率暴涨，那么一个长连接或者短连接是一个进程吗，而长连接是常驻进程，所以才会占用大量内存<br><br>若是上面是对，那么可能又引出一个问题，既然长连接或短连接都是进程，那么连接（进程）一旦建立是不是可以处理所以请求，而不用在建立连接？<br><br>应该不会是一个查询语句就是一个连接吧。<br></div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/30/1c/58031fb5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>卅～脱</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-27</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">根据MySQL架构图分析，会在分析器阶段检查要执行的SQL语句，包括关键字、表名、列名（字段），如果没有找到该执行语句的字段会报错。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/17/c8/ca17d37e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>夕夕熊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-27</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师您好，请问一下：Write-Ahead Logging-先写日志再写磁盘，空闲的时候写入磁盘。那么如何判别空闲呢？假如我增加一条数据 ，而这条数据只写入了日志 ，还没来得及写进磁盘，而我还要读取刚写入的这条数据怎么办呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 读内存。至于空闲，系统有判断规则的😄，比如QPS这类</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/d5/d4/1a030e85.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>CPU不停转</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-27</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器猜对了</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/1f/2e/27d8b06d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>蓝天</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请教老师，为什么表被更新后，缓存中已缓存的该表结果集就会被全部清空，是因为数据被更新后，所有脏数据将被刷到磁盘，导致了缓存中的结果集相对于新数据来说是不可用的，所以就全部清空了么。这里不是很理解。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个缓存是查询缓存，不需要“写磁盘”的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/07/8c/51401220.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>小美</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">java用jdbc或者mybatis连接数据库，对于定时任务（每天执行一次），连接器会在8小时自动断开链接？那每天执行的时候是重新获取连接？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 你要看下这个客户端的代码实现哦。看看他是不是自己会重新获得连接，或者是不是会维持心跳</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/19/29/28f1c56f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>刘胜</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">大家都很用心的去思考。如果凭感觉的话，像这种错误应该在一个查询过程很开始的地方就抛出来。连接成功鉴权成功，下一步就该把它揪出来了，当然本文确实有点提示。一开始从文章找答案的时候，我一度认为是最后一步才执行之后才抛出来的。尴尬啊尴尬😓</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/66/e9/2275d243.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>小陈</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">林老师，引擎扫描行数跟 rows_examined 并不是完全相同的。rows_examined不是引擎扫描行数吗？怎么又不相等了呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 你看下索引下篇😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/1e/44/9f56cc9b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>endea</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-26</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，查询缓存的时候需要执行select语句，这个时候不需要经过分析器对语法词法进行分析吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 查询缓存不是”select语句”，是查询内部的一个数据结构。</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/8f/88/9b916f50.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>文上泉</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-25</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">花示意图用的什么软件，挺好看的😄</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>cricket1981</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-25</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">有个疑问：表A有一个触发器T是写表B，那么当用户有读写表A权限但没有读写表B权限时写表A会在执行阶段被拒绝吗？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/f7/7a/5a4843ed.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>剃刀吗啡</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-25</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">想知道分析器是根据schema那些表里的信息进行字段 表名合法性的判断吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是，但是要知道schema不是表哈，只是用内存用表的形式显示出来</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>大大大dvavid</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-25</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">打卡D1，答案是分析器，分析阶段就要知道索引，列等信息了。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/83/4b/0e96fcae.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>sky</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师好！查询缓存开启的情况下，每次查询的结果就一定会被放入缓存中吗？比如会不会对结果集大小做区间的校验</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/fc/b7/6cef8bf0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>大胃高怕飞</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">打卡</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/89/39/e28e324f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>仅言深行</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">语法解析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/cb/80/16849dd4.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Sakura</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">大多数情况下不使用数据库中自带的查询缓存，所以才会引入第三方缓存么？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ea/16/0eb1cc5a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>为你写下天边...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，可不可以讲一些Mysql分区，这种历史数据的处理，按月，按天分区等……</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 《该不该使用分区表》这篇会讨论这个问题，按日子算过年前会发😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/d7/03/eb991e02.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>吴飞</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/e9/0b/53bf91d3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>WL</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-24</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析其报出来的, 因为报不存在的列应该也是在分析的时候通过语句解析出来的错误.</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ab/4b/01c56dda.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>FelixSun</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">正文一开始就说了，经过了连接器，在缓存器没命中的话，就会到达分析器，分析词法</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/29/8e/f6241f28.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>欧阳波</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我想看看我得mysql执行计划 看看有没有执行索引等 怎么弄</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: Explain + SQL语句</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/7b/9e/37d69ff0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>balancer</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器；它的分析器：做的是语句文法词法语义分析吧；</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/e4/20/71ea229b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>大白杨</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器阶段。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/50/08/318297a1.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>夜晚的雨</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-23</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师你好，请问下，如果MySQL客户端与服务端在同一台机器上，那么在 shell 使用 `mysql` 连接服务端的话，使用的是 unix 域套接字吗？因为我设置的开发机中我的`my.cnf` 设置是<br>```<br>[client]<br>host  = localhost<br>user = user-name<br>password = password<br>socket = /var/run/mysqld/mysqld.sock<br>```</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这样就是</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/15/e6/2920b160.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>天空之城</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">没想到mysql权限判断是在执行的时候，一直以为在前面解析的时候就做了。ps：oracle解析的时候就做了。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/0e/ea/16291abc.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>better man</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师有个问题请教下，本人小白。就是关于不建议用查询缓存的，虽然查询缓存命中率很低，但是一旦命中不是就能减少查询时间吗。不使用查询缓存是能节省去查询缓存中匹配查询的流程，还有什么其它好处吗？从你说的内容中我还不是很明白不用查询缓存带来了什么好处</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不是，不使用查询缓存就不需要维护，就是查到结果不用写到查询缓存去，这个才是最大的收益哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/de/1c/60ff644d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Fatal Error</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">“MySQL 在执行过程中临时使用的内存是管理在连接对象里面的”<br>请问 “管理在连接对象里面” 这个怎么理解呢？是还有管理在其它什么地方的吗？是因为管理在对象里面才会被 OOM 的吗？谢谢~<br><br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 每个连接对应一个THD对象，这些内容都在这个对象里</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/28/8e/4c6c0ba2.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>TIMKeeper-s...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/83/4b/0e96fcae.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>sky</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">“所以如果长连接累积下来，可能导致内存占用太大，被系统强行杀掉（OOM），从现象看就是 MySQL 异常重启了。”<br><br>问题1：内存具体占用多大时才会被杀掉呢，或者说我可以本地模拟这种情况吗？如何确认是因为内存占用太大被系统杀掉的呢 <br><br>问题2：异常重启指的是整个mysql重启吗 如果是的话那么此时有其他链接正在执行怎么处理？还有重启过程中是中止对外提供服务吗<br><br>期待老师的解答 谢谢！</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/cb/98/d51d3a55.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>黑龍Dr夢</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">@yezhizi @丁老师 没看懂<br>源码安装完MySQL之后,使用Debug模式启动 trace log日志内容 得出分析器处理阶段报错啊</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/01/af/1a5a957a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>小傻丫头</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-22</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">文章中提到，连接成功后执行语句会到第二步查询缓存，但是这个功能在8.0版本已经被去掉了，那是不是在8.0后连接成功后下一步是分析阶段呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是的。只是现在国内基本上生产上都还是在用5.X系列，所以还是介绍下</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/c1/9a/40b3a0e5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Nic辉少</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-21</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/d6/98/e2d8f2a9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>carey</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-21</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器， 语法分析器。 词法分析器进行分析出字符串与空格的作用。 语法分析器经营匹配对应。 不知是否正确。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ff/a5/02953912.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>天</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-21</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">最近找工作，恨不得一天看45讲，现在一天一讲感觉好痛苦。。。。。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 更糟糕的是，两天一讲😓</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/0f/7e/fc9e2c40.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>贰零壹捌</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-21</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">mysql&gt; select * from t1 join t2 using(ID)  where t1.c=10 and t2.d=20;<br>既可以先从表 t1 里面取出 c=10 的记录的 ID 值，再根据 ID 值关联到表 t2，再判断 t2 里面 d 的值是否等于 20。也可以先从表 t2 里面取出 d=20 的记录的 ID 值，再根据 ID 值关联到 t1，再判断 t1 里面 c 的值是否等于 10。 优化器 是怎么选择？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/de/94/14ff2f73.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>HaloMonkey...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-21</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段，语法分析判定此列不存在，不予执行，这里猜测是根据表的定义文件对列合法性进行判定</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/a0/4d/37116342.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>晓</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">先词法分析后语法分析，我觉得是在词法分析那一步</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/92/cd/9ab768b4.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>felix</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">条件写在join on 后面和写在where后面有没有区别？哪个好？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6iaaVrkqyUrDE4j5XCiaTQrmCkQKRWk7aCfSUhKsd0ybibDSD4FpxQYh1U6Q1XHK7o9STYmTcibn4NA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>清风果果果</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">长连接消耗内存有其他解决办法么？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/01/1e/3aa8d7ec.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>柠檬</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">1.先连接连接器<br>2.验证用户名密码<br>3.查询用户权限<br>4.查询SQL<br>5.在缓存中查看是否执行过，如果有，直接返回结果<br>6.缓存没有，分析器解析语句，<br>7.优化器选择较优执行方式<br>8.执行器，执行返回结果<br><br>SQL问题在分析器进行分析时，验证是否正确</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/01/1e/3aa8d7ec.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>柠檬</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">根据课程，整理了SQL执行过程<br>1.客户端先连接连接器(oracle 监听)<br>2.验证用户名密码，通过<br>3.查询用户权限<br>4.用户运行查询SQL<br>5.在缓存中查看是否执行过，如果有，直接返回结果<br>6.缓存没有，优化器解析语句，选择较优执行方式<br>7.执行器，执行返回结果<br><br>最后，语句条件错误，应该是在优化器对语句进行解析时发现的。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/dd/b8/9cfb6ada.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>萬萬沒想到</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我记得innodb是从5.5.8版本成为MySQL默认的存储引擎~~</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 写文章之前还去确认过眼神，5.5.5的哈</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/71/e5/bcdc382a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>My dream</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">或者是一个字段模糊查询多个key的值，就像百度那样加空格</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/71/e5/bcdc382a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>My dream</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，我问一下！在mysql中的多字段模糊查询同一个值！怎么写的执行效率高？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: MySQL 支持全文检索(fulltext index)的，比顺序遍历快，不过相比于ES这样的系统，MySQL 的全文检索能力还是有待加强😄<br><br></p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e0/52/b700ae82.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Jason</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">用户权限修改后，会即时刷新到新旧连接吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/5d/7f/f22f9224.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lzjun</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">“查询缓存的失效非常频繁，只要有对一个表的更新，这个表上所有的查询缓存都会被清空。”<br><br>这里的更新是指对数据的更新还是表结构的更新</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 数据和表结构更新都会</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>任鹏斌</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-20</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">第一反应就是分析器因为属于语法语义范畴，但看到第一条留言是优化器老师还做了点评以为又错了，继续看评论后释然</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/c9/7b/a89761ce.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>王子鹏</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，我想问下，索引字段加了函数后用不了索引是因为函数在Server 层，而索引是在存储引擎上用的，所以要把所有该字段的数据全部查出来，再用函数，是这样吗？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/08/df/4e5c2b29.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>拉格朗日的忧...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">课后答案：分析器的语法分析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/0f/e2/8cda07ca.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>alan</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段，分析SQL语句语法是否正确。有学到内容，以前用到一些数据库，但都不是很深入，希望跟老师学到更多的内容，我是测试，学精通了，找你们这些开发的麻烦去😁</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 开发看到你的留言后觉得有必要也开始啃啃原理😄 便是极好的</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>analyze</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">这个在生成语法树parseTree的阶段针对where条件处理时就会报错。<br></div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/21/50/265671fd.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>LGY001</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师 请问一下建立短连接是只有查询请求这种情况吗？ 谢谢老师</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/03/79/830c68f2.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lone</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-19</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师好，c  mysql接口连接设置好mysql_ping自动重连之后。查询时候会自动调用吗？还是要自己主动定时检测。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 虽然会自动了，但是如果是程序里有用到事务，还是需要处理的，否则事务被拆成两个（前面一半自动回滚）业务还不知道，也不是好事哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e4/e6/4a647084.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>孟秋</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器。文稿中有提到识别T表，识别列</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/6d/ba/0821c8a7.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>worthy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">加油(ง •̀_•́)ง</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/14/0b/70/a2c1723c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>武者</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师  select a.* from a，b 和 select a.* from a inner join b 这两种方式 查询优化器优化的结果会一样吗  是不是不带inner join 的这种优化器可能会优先查b 而带inner join 的 一直会先查a</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 并没有这种固定规则哈</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/cc/42/13aaddfb.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>huazsh</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器词法分析检查关键字表名字段名。<br>nysql8为何去掉查询缓存呢？针对指定查询缓存的，mysql8里面是怎样实现呢</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 主要还是效果不好</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/e6/26/de4f01e7.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Genius  ...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-18</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">您好，后面会讲如何看trace , 组提交，二阶段提交等么？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个系列会篇实战+原理部分，trace,组提交这些可能会少些</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>kghch</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器-词法分析 阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Liao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">有一个问题请指教。文中说明权限判断是在执行器中进行的，那么假如查询的语句命中了查询缓存，按流程就直接返回了，那这种情况权限判断是怎么处理的呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 从query_cache查到结果后，结果里面有表的信息，要做权限验证的，权限不够还是报错处理。 </p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/16/22/9c02761b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>余向华|York</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，又打扰你了，我这里有两个疑问：<br>1、连接的过程中消耗的内存是怎么管理的，老师有过优化连接这方面的经验分享吗，怎样在通过内存的大小来判断关于这个连接是小内存还是大内存（有可视化的连接），从而是否选择**mysql_reset_connection**来初始化连接资源。<br>2、【查询缓存的失效非常频繁，只要有对一个表的更新，这个表上所有的查询缓存都会被清空。】<br>老师，这句话，我的理解是 【只要有对一个表的更新，涉及到这张表的查询缓存都会失效】，对吗<br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 1. 官方版本还没有<br>2. 你的理解对的</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>evancao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，有个问题，现在mysql5.7 ，什么小版本最稳定？生产使用，请给个建议。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 无所谓“最稳定”了，每个版本都在有些小bug😄 关键做好上线前验证</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/de/96/92822753.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>cbooy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">课后答案，假设我来设计这块的逻辑，应该是在程序最早处将这类异常或者错误终结掉，越往后处理会给系统带来很大的负担，从老师介绍的架构图看，最好在分析器阶段处理，而且应该是词法分析处（强忍没去看答案）</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/de/96/92822753.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>cbooy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">哎呀，P9讲的东西就是不一样，意犹未尽的赶脚，这一课完结后，会不会有新的续集出来啊，比如啥实战一类的</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/8c/45/fb573de7.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>琳</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器。<br>在写SQL文时如果表名字段名写错了，也是会报“You have an error in your SQL syntax”的错误提醒。这时候其实也是因为这个表名字段名不存在才会报这个错误的。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/0FI2bUjegtznv7XPC9DB9RJaqiaMiamWkibibPOibuUC3DCvI7XMvBANr6sDjRNbc1jwPic9pIaFxrdaib88VqUJKXSTQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Chenl07</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器阶段会检查权限，这个权限检查连接器阶段从引擎中读取的权限还是此时直接从存储引擎中读取的权限。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/2a/ef/592cb371.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Judy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-17</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器里面的语法分析，来晚啦😊</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/16/22/9c02761b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>余向华|York</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，关于在连接器方面，在连接器中怎样给新的连接归类为长连接还是短连接的，判断的标准是什么？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不用判断，连接建立成功后就是连接，断开就是断开。只是我们建议减少创建连接到次数。</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ee/3c/bd106477.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>披头</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">课后习题对于小白来说有点超纲，从本文讲到的知识点很难得出正确的答案，以后可否照顾下小白同学，有部分读者是小白。知识点尽量不要省略，谢谢。<br><br>还有个小问题，文字和音频教学内容相比，不完全一致，如果有人选择了一种学习方式，会丢失一部分信息量。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 谢谢你提出来。<br><br>是这样的，我再出问题的时候，确实是有意提“无法从文章中直接得到答案”的问题，这样可能有利有弊，我会认为利更多些。<br><br>在评论的内容里面有新的信息输入，这样这一整篇文章交付的内容更多，希望大家更有收获。<br><br>音频和文字会尽量一致，就是有些文本口语化说出来。</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/fb/b2/1e37aa5f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Hi</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请问怎么执行 mysql_reset_connection<br>&nbsp;输进去是error<br></div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这不是一个SQL语句，是一个接口函数哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>落叶飞逝的恋</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，想问的是比如一条复杂sql，第一次优化完之后执行得到结果。那么第二次来执行这个语句的话。那么它是否会使用第一次优化后的方案？还是重新优化一遍？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 重新</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/18/f6/2ff7bc7a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>轻歌赋</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">最后就作者的问题，分析为什么是分析器，因为文章中说了词法分析的时候会解析出查询的表，列等等，所以此时就应该能知道表列的存在性。而且从我个人的拙见来看，如果先一步判断出这种无法查询的错误，避免后续执行，则可以避免无谓的性能开销。而表列的数据较少，完全可以这里判断。<br>当然，也可以在句法分析的步骤判断，个人数据库不太熟悉，只能从程序设计的角度考虑，望各位大佬真诚的评论</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/18/f6/2ff7bc7a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>轻歌赋</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">第二个问题，优化器那里，为什么不是先查第一张表符合条件的字段，再查第二张表符合条件的字段，最后连接呢？<br>第三个问题，权限为什么不在句法分析之前呢，此时已经完成了词法分析，知道了查询的表和列了，完全可以分析</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 2. 在评论里搜 index_merge 😄<br>3. 执行过程可能会有触发器这些，还是得到这一步才判断。 但是为了安全，有一个precheck会在优化器之前判断一下权限</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/18/f6/2ff7bc7a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>轻歌赋</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器，文章里面说了，大家评论挺好的，我说一下别的问题吧<br>第一个，登录是TCP握手是在mysql指令之后，输入密码之前执行，还是在密码输入之后再执行？<br>额，应该是三个问题，记不得了，看一下文章再问</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 输入密码以后，才开始跟server交互</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>落叶飞逝的恋</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">真实项目中依赖MySQL的查询缓存少之又少吧。不过之前看到文章有说MySQL会缓存执行计划吧，一般建议使用参数化查询就是想利用缓存执行计划提升性能吧！</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不会缓存查询计划</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/59/b0/bec61d09.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>毛毛</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，从参加工作一直接触的是SqlServer，适合看这个吗</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 看肯定没有“不适合”，可以了解不同的数据库机制，<br>我也学一些平时工作暂时不会用到的数据库，也会有助于我理解MySQL.</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>晨思暮语</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">丁老师，想问下，如果同一条sql重复执行，也是每次都经过优化器阶段重新生成执行计划还是会重用之前的执行计划呢，谢谢！</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: MySQL 不会重用户，都得重新走一遍（这也是MySQL 优化器一直被吐槽的一个点）</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/59/8c/1958aa8f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>void</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">查询缓存在mysql8后被废弃了，是不是意味着select * 和 select xx，xx（所有字段）并没有查询效率上的区别，哪是提倡使用*，还是所有字段？这个麻烦老师解答一下 </div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 还是有区别，哪里都不提倡使用select * 😄 <br><br>我跟DBA团队说，看到select * 就打屁股 😝<br></p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/71/e5/bcdc382a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>My dream</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我们有什么办法实时获取目前已查询到多少行的数据了？比如我用php语言怎么调用rows_examined实时获取查询的进度</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 查询进度是没有的，<br>如果是查询结束后，看查到多少行，就是MySQL_num_rows. 不过这个跟rows_examined不一样哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/b5/89/9a1b4dee.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>蛋炒番茄</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">为什么执行权限是放在执行器里面，而不是在分析器或者优化器里面，这样的话岂不是可以更加节省资源，耳不是等到执行的时候才返回权限不足</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/62/df/284f0de2.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lh_wsh</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我有个疑问，上面说如果开启缓存查询在不命中的情况下开始执行分析器，分析语句，那么我发送语句的key是什么时候生成的还是直接拿语句作为key，这时候我过我语句的列中包含了错误的列名在这个阶段是不检查的吗？求指教啊，谢谢</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 就是语句做key, 这时候还没到分析器阶段，确实还没检查。 不过不影响逻辑正确性，你分析的时候要带上失效逻辑哈</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ee/2d/cee729c1.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>haitao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/0FI2bUjegtznv7XPC9DB9RJaqiaMiamWkibibPOibuUC3DCvI7XMvBANr6sDjRNbc1jwPic9pIaFxrdaib88VqUJKXSTQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Chenl07</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">在执行器阶段会验证权限查询，这个权限认证是在连接器阶段读取权限缓存中验证还是又去查询一次数据库？如果是前者，连接器缓存的权限是固定的，如果中途修改了权限，对于一个已经存在的链接来说，其权限缓存不会跟随实际权限而变化，所以即便更新了权限，是不是执行器也获取不到最新？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>oliver</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请教下， mysql_reset_connection 会重新初始化所有连接吗，还是说可以指定某个连接进行初始化。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个命令是在连接内做的，初始化的是“这个连接自己”</p></div></div></li><li class="reJj6Thl_0"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er17O1Y2B8WibUQgQDibrVvTPqwF6dF6bKJLWE7gg2M2mEgZ5cHicn6KUJYHp9gmJfuP4bqshCUxfnGA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>凉快</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-16</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段啊，找不到对应的列</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/7f/88/c4263c58.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>五年</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">词法分析吧; 关键字.</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e0/44/1c3cebf9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>位鹏飞</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">权限检查 放到  分析器这一层是不是更好一点呢？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ee/7e/955b686d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>AA星星点灯</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我感觉可以见名识义：分析器就是分析词法语法，对客户端发的sql语句进行分析，看语法符合不符合mysql的规定，发送的表名字段名在数据库找到找不到等等，如果一切通过了，就进行下一步处理。优化器很显然就是对确定了sql语句进行优化，比如是否使用索引、使用哪一种类型的索引等等。执行器就是真正的执行语句了。如果按这样理解的话存储过程、触发器、视图等都是在执行器进行的？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ff/1c/1eb756ad.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>随风燃烧</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器，原文里说"MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。这个时候就可以知道k是不是有效</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/94/96/520185f0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>wolf|▍奇葩</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，请问学习了mysql之后，还有必要学Oracle吗？是否会过时</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/45/91/afda3094.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>是我的海</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">光看评论就已经瑟瑟发抖了，各种大神显现</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/5e/c1/cd721d46.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>_yiunia##...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">针对缓存有个地方不解，专栏中说，只要对一个表更新，这个表上所以查询都会清空。mysql为什么不针对，影响的缓存进行更新呢？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/57/6e/dd0eee5f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>夜空中最亮的...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">很有收获</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>最初的印象</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器在进行词法分析的时候就会报k这个字的不存在的错误</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>知行合一</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">奇哥，你好，请问我看这个课程，为什么只能听到你的声音，看不到你讲课时在你的电脑上操作数据库过程的图像呀？一般视频网站讲师讲课都会看到他们讲课时的图像，我听了你的第一节课后，觉得真的讲的十分精彩，但是就是有一个问题：只能听到你的声音，看不到你在你的电脑上操作的过程，如果你要是能让我们看到你在电脑上操作数据库的过程，那么我们听的结果会更好，听完后印象会更加深刻。所以想冒昧问问您，看您是否能够考虑一下，讲课时把操作数据库的过程的图像也让我们看到，要是您觉得不合适，那就算了，希望奇哥你能考虑一下，谢谢！</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 其实操作的不多，所以采用音频的当时也差不多。后面我会更多的用图，来方便大家阅读</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/7b/b2/55185ccd.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Alex Qin</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">在分析器的词法分析阶段，因为会分析“字符串ID”为“列ID”</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/7b/b2/55185ccd.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Alex Qin</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">rows_examined与引擎扫描行数不完全相同，看文章根本没看懂为啥...</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 留了一个契子😄 后面会有文章提到</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/af/0d/04df774f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>　　　　</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">按理是在分析器这里返回的，库中是否有表，是否有表中的字段，这个应该在最前面就做判断了。而不是要等到执行的时候才来报错返回。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/cb/f7/229a4fc7.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>壹朴心</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器：分解句子，检查语法，不进行存在性检测。<br>优化器：演习查询，择优而行，故，对表名、字段名有判断。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/c2/cc/ca22bb7c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>蓝士钦</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得“Unknown column”这个错误是执行器返回的，理由如下：<br>1.分析器做词法和语法分析，只关心词法和对应的sql语句，判断哪些字符是表，哪些字符是列等<br>2.优化器：针对索引进行优化处理，根据分析器得到的列去判断是否有索引，索引是否存在和是否存在列无关，如果传入一个“K”列，优化器只是会判断找不到该列索引而已<br>3.执行器最终执行sql，才打开表进行执行，这时候才可以判断哪些列不存在。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/eb/4d/80ab09d9.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>chen</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">词法分析吗</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Luke</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段的词法分析阶段。<br><br>对于其他人说的权限错误的例子，我的理解是，在发现错误的时候也需要通过执行器。<br><br>执行器首先检查权限，以确定你是否有知道表字段错误的权限，否则会有暴露表结构的风险。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/8d/12/99ebe783.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>简单的幸福</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">是在分析器这个阶段报出来的么？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/ef/87/7b399946.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>栗子的栗子</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是执行器，前几个阶段并没有打开表</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/e0/34/0a229e32.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>余焱林ॐ</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我的答案是词法分析器，从老师讲的内容来推断的<br><br>词法分析器进行的操作是：需要识别出里面的字符串分别是什么，代表什么，MySQL 从你输入的"select"这个关键字识别出来，把字符串T识别成表名T，把ID识别成列ID</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/c7/06/9485d9ab.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>小铁匠</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得是分析器阶段，看分析是否合理：<br>上面那四个步骤这样理解：客户端跟MySQL建立连接，然后告诉MySQL 执行什么、怎么执行、真正执行。文中的问题是要解决执行什么。<br>分析器阶段，会根据关键字生成一颗解析树，做词法和语法分析。这个时候已经明确知道要执行什么了，这个时候最适合让MySQL预处理器来对库表是否存在做判断。优化器要解决怎么执行，走什么路经，这本身就是个很复杂的过程，想着不会留到这一步;优化器都确定好怎么执行了，更不可能放到执行器才判断表和字段是否存在了。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>晨思暮语</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">丁老师，既然在链接阶段已经通过权限表获取了这个该连接所具有的权限，那么在执行阶段再检查一次的意义何在，谢谢！</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 执行器阶段会碰到需要再判断权限的情况，这时候读内存中事先存好的权限，而这个权限是在连接器阶段算出来存进去的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/de/67/0a8fe54e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>ISADBA</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">发音很标准，音色很磁性，有播音员的潜质。🍻</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/de/bc/1245cd12.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>不忘初心</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师，你好，我想问下，数据库连接默认保持8个小时，8个小时失去连接后，应用会重新连接，这个时候数据库会报异常，这个时候数据库是不会返回数据的是吗，是下次再次连接得时候才会返回数据吗</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 应用如果重新连接了，就不会报异常了。 其实数据库断开了连接，就是希望客户端重连的哦</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/80/da/9c0c458c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>安静</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">晚上回去记录一个脑图</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/e6/a3/029c8df3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>itdream</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">感觉是执行器，查询完第一行，发现没有 k 字段，报错。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/a1/c9/f75f8ae3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>self-discip...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">问题3:查询缓存的问题:之前执行过的语句及其结果可能会以 key-value 对的形式,那么实际是如何处理的处理的呢?</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 没理解你的问题，这个value就是查询结果，返回给客户端，客户端就能看到结果了</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/a1/c9/f75f8ae3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>self-discip...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">问题2:长连接占用内存猛涨的情况下,您提供两种解决方案,您倾向于在生产环境使用什么方案呢? 为什么呢? 或者你评价这两种方案在生产环境有什么优劣呢?</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 5.7以上就建议用mysql_reset_connection 方法，低版本就定期断开重连</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/a1/c9/f75f8ae3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>self-discip...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">问题1:如果你用的是 MySQL 5.7 或更新版本，可以在每次执行比较大的操作, 请问比较大的操作的判断维度是什么呢? 即怎么判断是比较大的操作</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这是个好问题，其实就是类似于很多数据排序，或者一个操作复杂的存储过程。这个是可以在测试环境稳定复现的。 <br><br>如果语句都差不多，或者比较随机，或者可以用另外一种方法，比如一个连接执行了N个语句以后做reset这个动作。</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e2/9d/fbbd4611.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>cyberbit</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器，老师文章里已经暗示答案。觉得老师讲的深入浅出，容易接受，挺好的，期待下一篇。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Hesher</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">不看其他答案，我觉得放在分析器或优化器都可以，看具体实现了。看完那个trace log，明显优化器。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>keepmoving</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">有个疑问：如果长链接会导致内存无法释放，那么链接池是如何实现的呢？难道是定时释放重连么？谢谢</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 链接池是缓存链接的。要看你说的是哪里实现的链接池哦。比如一些中间件的链接池，确实就需要在放回池子的时候重新初始化</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>考拉出山</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">末尾问题有个疑问。是在分析器里面检查的列是否存在。且文章中说到执行器会检查有没有权限。那为什么一个没有查询权限的用户进行查询语句，提示的是"没有权限"而不是"列不存在"。按照这个逻辑权限应该是在执行器做的，那这个"权限不存在"是哪个模块检查的？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 查询的时候权限不存在是在执行前单独多的一次判断，是为了安全考虑。就是如果没有权限，你连“字段不存在”这个信息都不应该暴露给客户端</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Nick</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">文中join的例子，内表和外表 都有高区分度条件的情况下，先过滤出两表符合条件的记录，再对这些记录做join，可不可以？感觉这样性能更高。</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: MySQL确实有你提到的这种算法，叫做index_merge. 不过我们这个case里面不会，由于实现的原因，MySQL至今没有支持跨表index_merge</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/70/97/e5bf9ddb.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>jacket</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">【回答问题】<br>我觉得在优化器的阶段就可以检测出k是不存在的一列。因为在这之前的语法分析仅限于mysql的语法，没跟表结构有任何关系。而在优化器阶段会读取表结构，来确定这条语句应该走什么样的扫描逻辑，是命中索引还是得全表扫描。这里有了表结构自然就能判断出查询的列是否存在。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAO4A7gMBEQACEQEDEQH/xACGAAEAAgIDAQEBAAAAAAAAAAAABwgBBgIDBQQJCgEBAAAAAAAAAAAAAAAAAAAAABAAAgIBAwIDBAYECgkFAAAAAAECAwQRBQYhEjFBB1FhIhNxgTIUFgiRQnIjUmKC0jNjJBWVVqGx0ZLCQ1Nzk9NEdCUXEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADKTbSSbbeiS6tt+CS82wPXp49v+TFSx9j3jIi+qlTtmbbF/Q4USTA4ZGxb3iRc8rZt1xoLxlkbfl0xX0yspikB5QAAAAAAAAAAAAAAAAAAAAAAAAAAAAHfjY2RmX1YuJRbk5N81XTRTCVltk34RhCCcpMCcuNejrnCvL5Pkyq1SktswrI98df1cvL0lFP2xq1/b8gJj2vYdj2SEYbVteJidq7fm11ReRJaafvMqzvybX+1Jgev3v2IB3v2IDwd14xx3fYyW57TiXWTT/tMa1TlJvzjl0fLyF166OWntAg3mPpNn7ZjX7jxdX7zVUlZLaZuuO5KvuXzHi2/u6cxwhq1DSFktFFdzYEJY+ZRkuyEHKF1M5V5GNdCVOTj2wk4TrvosUbK5wmmnqvFAfUAAAAAAAAAAAAAAAAAAAAAAAAfZt+Bl7pmY+34FE8jLyrFVTVDxlJ6ttt6RhCEU5Sk9FGKbfRAWx4ZwjA4liRskq8reL60svOcde3XRyxsTuWtWNF+L6Ssa1l5RiG6Nt+IGAAAABlSa/2AQz6pelGNy+izfePqG3cvxYd8LqmseveIVx0WLmyXbFZPatKrn7oT1ho4BUPG5FkYWRbt2+41mPlYt1mNkSdTrtpuqm4WV5WPonGdc4tPtXivs+YG203VZFcbaLIW1y6xnXJSi/dqvNea8UB2AAAAAAAAAAAAAAAAAAAAAAWd9LeIw2bbI77m1L+890qUqFNfFibfPSdUIp9Y25einJ+Kj2rppLUJUbberAwAAAAAADKbTAq7+YT08rvxvx5tFCWRjqqjkNVUf6fGfbTjbm4x8bcZ9tVr661uMnooSbCpuFuGXt9nzMW6UNWu+H2qrEvKdb+GXTz8V5NAb5tvJ8TL7asvtxL3ou5v+zzf8Wb61v3S6e9gbOnr1XVPqmvMAAAAAAAAAAAAAAAAAAANu4NsH4i5JgYNkO/Eqk83PX6v3PGcZTrl7sixxq93eBcSWi0jFJRikkl0S06JJLokkBxAAAAAAAAAdWTi42fiZWBmVQyMTNx7sXJosWsLqL65VXVSXi42VzaYH5k8w47fxPk288fv7m9tzbKqbJLR34diV2DkPwSeRh2wm15N6Aa0B7W277nbdpCMvn46/8Ab2tuMV/VT6yqf0fD7gN/27esHcko1T+Xfp1x7dI2e/sf2bV9HXTxSA9cAAAAAAAAAAAAAAAAAsN6K7Yq8LeN5nH478ivb6ZNdVXj1xyL+32xsnfBP3wAmoAAAAAAAAAAyno0wKd/mZ2OOPvfH+QVQ0W54GRt2S4ro79tthbTOb8520Zvav4tXuArEAAym0002mmmmno011TTXVNMDadt5Rk43bVmqWVStErNV94gv2norv5Wj94G94mdi51fzcW6Nsencl0nBvysg9JQf0rr5AfWAAAAAAAAAAAAAABbf0yxljcI2ppaSyXm5M/e7M6+EH/4a4gbyAAAAAAAAAAAID/MhhRyOCYGWkvmYHIMKfd5qnIw87Hsj7lK2db/AJIFGwAAAB3UZF+LZG7HtnTZHwnB6P3p+UovzT1TA3bbeVwn21blHsl4LJri3B++2tauH0x1XuQG412V3QjZVOFlc1rGcJKUZL2qUW0wOYAAAAAAAAAAAAXG4Hp+DNg08PuMf0/Os1/0gbUAAAAAAAAAAAIZ9f8At/8AzTO18f7y2rt/a++L/h1AoKAAAAAAD78Hc8zbp92Na4xb1nVL4qbP2oN6a6ea0fvA37bOSYeb21X6YmQ+nbOX7mb/AKu16JN+yWj8lqBsYAAAAAAAAAAAtr6Y5SyeE7XFPWeLPNxbPPRwzbrYL3aU2xA3sAAAAAAAAAAAQD+ZHOjj8G27DUv3mfyDEXbr40YuFnXWS9/bb8tfWBR0AAAAAAAAB6UN2zo4duD8+Use2MYpSbcqlGcZ6VT1Uoxl26NdY6N9AJeAAAAAAAAAALB+iu6KeNvOyzl8Vdte5UR16uF0I4uS17FXKqr65gTaAAAAAAAAAAZS1aQFN/zL77HK3/YuP1TUo7Tt92dkqL6Ryd0shGFc1/DrxsKMl7Fb7wKzAAAAAAAAAAE4AAAAAAAAAAG1cK378OcjwNxnJrFc3i56Wr1w8nSFsml1l8iXbYl5uCAuQ3GSjZCUZQnFSjKLUoyTWqlGS6OMk9U/MDiAAAAAAAAA+fMzcXa8HM3POtjRh4GNfl5N0/s1UY9crbZv26Qi9Eur8APzI5XyDI5TyPeOQZKlGzc822+Fcn3OjGWlWJja9dVjYtcK0/PtA14AAAAAAAAAAnAAAAAAAAAAAAWW9KuXw3Pb48dz7V/eG3V6YMpvSWXgVr4YRb+1dhR+HTxdWj69smBLbTT0YGAAAAAAAZSbYFUvzCeotbh+AtnvUn3VX8jvqlqo9jjbi7SpJ9Zd6jbd7NIR1+2kFSwAAAAAAAAAABOAAAAAAAAAAAA+nDzMnb8qjNw7p4+VjWxuourekq7IPVNeKafg09U10aaYFrOE88weV48MXJlXib5TD9/it9sMlRXxZOF3PWcGlrKHWVfvWkmG+OLXj+nyAwAAAAOSi39HtAgb1Z9ZMPiVGTx/jl1eXyeyEqr74dtuPsanHSVlz6wt3JJ/BV1UH8VnRKEwo1ddbkW25F9tl199k7brrZystttsk52WWWTblOyc222222wOsAAAAAAAAAAATgAAAAAAAAAAAAHZVbbRbXdRZZTdVONlVtU5V2Vzi9YzhODUoSi1qmnqgJq4z6wZWLGvE5JjzzqopQW44qhHMjFdE8iiThTk6ecouEtPFSYEx7ZyzjG8QUsDecKU5afuLbli5Cb8njZPyrn1emqTWvmBsXZqk009f0ae1NagHFRTlKSikm234JJattvRJJAaHyD1O4HxmFj3HkODdkwT/sO32x3LNc1/y5Y+G7fkSl5O1wj7wKxc6/MHve+13bdxWi3j222KVc86U4y3rIrfTSFlTdO2qSfX5TnYvKxdUBXaUpTlKUpOUpNylKTblKTerlJvVttvqwMAAAAAAAAAAAABOAAAAAAAAAAAAAAAHCyuu2Eq7YQsrmtJQnFShJexxaaYGv5O2bpiwb2Hd9xwIrV/c6s/Kop9rVUq7Y9mvslqtfNAaPuObvVk5Ubrm7ldOPjXm5WTd9DSusnGUX5NapgeUAAAAAAAAAAAAAAAAnAAAAAAAAAAA27ZODcn39QswttsrxZ6NZuY/umK4v8AXhO3Sd8f+3GYEn7b6KVxUZ7zvj10XfTttMYJe3ty8vu7l9NKA3HF9MuD4iXzMG7Omv18rNypN/TDGnj0P/dA9mviPDKlpHj22NL/AKmJC5/pu72wO38M8Q/y1s/+F4X8wB+GeIf5a2f/AAvC/mAdF/EOEZKisjiew3qL1irdn2+ztb8XHuqemoHzfgT09/yVxv8AwPbf/RA+e7049N79VPh+xxT86cCvH/Q8f5bX1Aa1uHoZ6X7gn8rasna7Ja62bfuefBpvzVeZbmY0dPdDQCN97/LJTJTs41yeafX5eLvWNGyL9nduGAoOP1YzAgrk/pZzjiUbLt02S+3Br1cty21rcMFQXjZbZQnbi1++6FYEegAAAAAAAAAE4AAAAAAAAbXxnhu98pu0wKPlYcJ9t+45HdDEp85RjLRyvuS/Ugm1qtdF1AsPx70741xtQutpW7blFJvKza4TjCa6642I+6nHSa1TffYv4QG7TyZvpHSC93j+kDobberbb9rerAwAAAAAAAAAym09U2n7U9GB3wyZrpLSa9/j+kCLOZejfDOZxtyaMeOwb1NSktw2ymuuFtj692dt6cMbLTk9ZSj8u1vxn5AU55x6bcn4Hkdu7Yqv262xwxN4w+63b8hvVxhObip4uQ4r+jsUZPR9vclqBoAAAAAAAAE4AAAAAAAl/gfppbvKq3ffo2Y20vSzGxNZVZG4x8VOb6Tow5eTWk7F9nRaSYWFrWPh0VYeBTVjY1EFXVXTCNddcF4RrhFKMV/rA6wAAAAAAAAAAAAAAAGcirE3HFv2/c8ajNwsquVWRRk1Quptrl4wtqnGUZx+ro+oFOPVf0Sv41HI5FxSFuZx+PddmbfrK/L2eHjK2uTcrMvboecnrZVHrPuinNBXUAAAAAAE4AAAAABMfprwGO7ShyDeqf8A6qmbeFi2r4dwtrk07rU/tYVM1pp4WTWj+FNSCwltvfpCC7a49El0108Onkl5IDoAAAAAAAAAAAAAAAAAAHdVaopwmlKqSalFrVaPo+j6NNeKApz62eksOPTt5bxrH02LJtT3PApj8G0ZF0tI5GPGP2dtyLJadvhTY0l8EoqIVvAAAAACcAAAABunBeKWcr3mGPYpx23E7Mjcro6rSnu0hjQl5XZUouK81FSl17dALZNVUVVYeLXCnHx64VV11JRrhXXFRhVCMdFGEIpJIDpAAAAAAAAAAAAAAAAAAAABzdePl49+Bm015GJl1WY99F0VZVbTdB1202QknGVdkJNNPp1A/Pj1U4DdwHktuJVGyey7gp5myZE9ZN4/clbh2Tf2sjAnJQl5yg4TendogjMAAAATgAAAZScmoxTlKTSjFJttt6JJLq22BcDhnHo8V47jYsoRW4ZSWVuE/GX3q2K/da+cMSvSC8m035sD3wAAAAAAAAAAAAAAAAAAAAAAGlepvDoc74dm4FdcZbvgqW4bPZolP79j1yax+56aV59XdVLr2qUlJ/ZQH5yyjKEpRlFxlFuMoyTUoyT0cZJ6NNNdUBgAAAnAAAAkT0x2NbzynGsuh34m1Qe5Xpr4ZWUyjHErfk28mUZaPxjBgWivn32P2R+FfV4v62B0gAAAAAAAAAAAAAAAAAAAAAAO6ifZYvZL4X9fg/qYFC/XHiseNc7zbsetV7fv8FvWKorSELsic4bhStPhTjmwnNRWijCyKAh0AAAnAAAAst6PbasPjuduso6W7lmShXLT7WNgxdVfX/5Nluv0ASUAAAAAAAAAAAAAAAAAAAAAAAAAIJ/Mfsi3Dh+179CGt+yblGu2en2cLdIrHu1a8vvtOOlr06gUlAAAJwAAALk8UxFt/D+P4yWjlt2LfNeGlmXD77an71bcwPXAAAAAAAAAAAAAAAAAAAAAAAAAGreoe3Ld/Tzl2E4qTWzZuVXF9dbtugtyoS97vxo6e8D82AAACcAAAC8VKrW3bcqX3UrFx1VJJqMq1RX8tpNJrWHh0A4gAAAAAAAAAAAAAAAAAAAAAAAADrzVTLZ93jkSUMd7fmK+ck3GFLxbVbJpJtqMNW+gH5ZgAAH/2Q==" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>玉芟</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">Maybe:<br>sql_parse sql_optimizer sql_executor<br>Conclusion:<br>sql_parse<br>Version: 8.0.13<br>Call Stack:<br>::my_message_sql(uint, const char *, myf) mysqld.cc:2974<br>my_error(int, int, ...) my_error.cc:247<br>find_field_in_tables(THD*, Item_ident*, TABLE_LIST*, TABLE_LIST*, Item**, find_item_error_report_type, unsigned long, bool) sql_base.cc:7750<br>Item_field::fix_outer_field(THD*, Field**, Item**) item.cc:4949<br>Item_field::fix_fields(THD*, Item**) item.cc:5221<br>Item_func::fix_func_arg(THD*, Item**) item_fucc.cc:293<br>Item_func::fix_fields(THD*, Item**) item_fucc.cc:282<br>SELECT_LEX::setup_conds(THD*) sql_resolver.cc:1278<br>SELECT_LEX::prepare(THD*) sql_resolver.cc:264<br>Sql_cmd_select::prepare_inner(THD*) sql_select.cc:466<br>Sql_cmd_dml::prepare(THD*) sql_select.cc:405<br>Sql_cmd_dml::execute(THD*) sql_select.cc:533<br>mysql_execute_command(THD*, bool) sql_parse.cc:4307<br>mysql_parse(THD*, Parser_state*, bool) sql_parse.cc:5041<br>dispatch_command(THD*, COM_DATA const*, enum_server_command) sql_parse.cc:1687<br>do_command(THD*) sql_parse.cc:1260</div>  <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIz50ciaONXadCf0QgqjbJCNq7r6KYpKzGibMic47DDrdym1Bnseq6Sk5lHkLlfOSArlQzw3a6MSrjTw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>tobeageek</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-15</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">再问个问题，文中提到的-p 输入密码，这个密码在传输过程中加密吗？使用的是什么加密方法？<br>还有MySQL中处理网络连接有的是one thread per connection，这种情况下并发连接数是不是很受限？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 有加密，中间还有涉及挑战码和加盐操作；<br><br>是的，所以后来有了线程池方案</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIz50ciaONXadCf0QgqjbJCNq7r6KYpKzGibMic47DDrdym1Bnseq6Sk5lHkLlfOSArlQzw3a6MSrjTw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>tobeageek</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">每一条SQL语句都要执行解析过程吗？比如前后执行两条一模一样的语句？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 命中了query_cache才可以跳过后面阶段，否则就都得走完</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/be/44/3510b549.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>江枫</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">林老师，我看您留言里解答说是分析器阶段去更新的缓存，难道不是应该在执行器阶段取到了结果再去更新缓存的吗？先谢谢了。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/0b/e9/2541b8e2.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>秒本</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">看一个事儿千万不要直接陷入细节里，你应该先鸟瞰其全貌，这样能够帮助你从高维度理解问题。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e0/e5/8b09c406.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>董怿博</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我觉得应该是分析器阶段。根据老师说的，分析器做词法分析，通过select关键字知道是查询语句，也知道把t识别成表名，但是到了k的时候，它就不知道k是什么了，语法规则就有问题了。我觉得应该是分析器，不知道对不对啊</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/ff/c3/b90b862c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>zyy</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器选择执行方案，那就应该知道表的结构，才能选择最优，在这里已经知道了表的结构。然后不存在的字段进行了报错！</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>书策稠浊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">对于最后的问题，我认为是优化器，因为优化器就是对sql语句进行分析优化了，肯定已经对字段和表进行了一些分析了，不然怎么确定索引和执行顺序。然后在这个过程中发现根本没有k这个字段，就会报错了。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Nick</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">两表inner join的例子，可不可以 先取出两表中符合条件的记录，然后在做join？感觉效率更高</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 另一个评论中回复了哈</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e7/68/339e5c6d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Lervin</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">只是表结构的话数据量不会大  分析表结构就不需要到执行打开表了吧  越早发现成本越低 应该分析器吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/96/94/5cc0704f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>小森</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">个人认为是优化器的，优化器会对即将执行的sql进行优化分析，分析器只是针对sql的语法分析，语法分析，优化器会生成执行计划</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/70/51/eb68ec53.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Lugyedo</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">创建了一个没有select权限的用户，执行select * from T where k=1，报错“select command denied”，并没有报错“unknown column"<br><br>在文章中老师说在执行器里面才校验权限，如果是在分析器或优化器里判断列名是否正确的话，还会到执行器吗？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/5d/01/9cd84003.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>栋能</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">太棒了... 收获好多经验</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/da/af/c9730abe.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>沈峰</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">另外，问个问题，如果说没有查询缓存，那么是不是每次查询都要从硬盘扫描结果呢？还是说存储引擎也有缓存数据？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 存储引擎有缓存的</p></div></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/nfMuwekkR3iccibe2UbNyQZJeqoQcztutJLWk2WcxaDXnwQzffiarGDU0X33SV93Vic19ibArw3ic0ICg5smVKq0U6rQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>出水肥龙</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">终于等到了第一篇</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e9/2b/423eaa3e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>刘lx</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我认为是分析器的词法分析阶段，词法分析的方法就是把识别sql关键字和表、字段名，如果这个字段没有定义，分析器是没办法知道这个词到底是个表名还是字段名或者是拼错的关键字，就会把不能识别的位置报出来。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/44/cc/3e62d111.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>justd</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">"第一次调用的是 '取满足条件的第一行' 这个接口，之后循环取 '满足条件的下一行' 这个接口"。可以是否理解为：没有索引则根据InnoDB引擎一行一行判断是否符合条件；有索引的话直接提供了满足条件的接口，省去了判断的过程，直接拿到一行符合条件的数据，然后继续取第二行符合条件的数据？这样理解对么？ 谢谢您的答复。<br><br><br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 有索引的话，方便直接定位到这一行，不过再sever层还是会判断一下“值对不对”，值对了才算结果的一部分。 所以其实判断过程没省</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/a7/93/62f03467.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>钢铁加鲁鲁</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我想问下，号称性能怪兽的mySQL 8.0 它优化的是哪部分？做了哪些重大的架构调整，还是在SQL执行的各个阶段都做了提升，如何优化的呢？，可以分享下和之前5.0系列的不同之处吗？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 额这个是个好问题，同时也是个大问题… 😄我会记下，放到答疑文章中</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e4/96/d37599ff.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Oathkeeper</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优秀！感觉结构方面比《高性能MySQL》更清晰，也许是这种复杂的内容不适合在32k的纸上表现…</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 多谢，不过不敢跟经典对比，希望换一个方式阐述，并有效😁</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/76/93/c78a132a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>果然如此</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">看了一个留言后，对这个问题有点迷惑，如果没有查询权限表也没有这个查询字段，按权限规则应该优先显示无查询权限在执行阶段，但是这个字段没有是个语法错误，又应该在分析阶段被发现？<br><br>还有个问题，查询缓存能占用多大内存，是否查询select 后面的字段有个数多少和缓存优化有关？<br>还有什么其他和缓存优化有关的方案？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 第一个问题我在你提到的那个评论里面有回复了哈。 <br><br>查询缓存占的内存量跟结果集有关。当然MySQL 有参数控制单个结果集的大小上限 （query_cache_limit)， 也有参数控制总量上限 (query_cache)</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ed/bc/b1bb959e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>陈军海-Hugo</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">希望在配图上丰富一点，尽量将原理展现出来就更好了</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 好的，后面的文章会多用图😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/7d/03/2846ac30.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>蓝色理想</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器阶段，与语法和优化无关。5.8版本以后就没有查询缓存了吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 官方不叫5.8，叫8.0了哦。嗯8.0没了</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>约书亚</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">这里提到了查询缓存，除了这个以外，引擎内部各种池和各种数据页，严格的说就不能称作缓存了么？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 可以的，比如innodb的buffer pool,不过习惯上我们说查询缓存就是指代这个（query_cache)</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/59/53/e63382fd.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>cody</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">看评论里作者这么耐心地回复解答，真是赞，而且从别人的解答里也能学到不少东西</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 我也是会被评论的问题提醒到，感觉真是额外赚到：）</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>潮汐</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">学习了！逻辑清晰，明白易懂。下面的评论都有各自的思考方式和猜测方式，也有很细致的读者提出文中的错误地方或建议，看评论都能学到好多东西！</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/03/15/293a185d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>JRich</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">答案很明显了，作者已经在文章里说了，字符串id会替换成列id</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/cf/71/801e175f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>wyatt</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">从trace日志，Complete optimizer trace看出，答案是优化器。<br>“分析器先会做“词法分析”。你输入的是由多个字符串和空格组成的一条 SQL 语句，MySQL 需要识别出里面的字符串分别是什么，代表什么。<br><br>MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。”<br><br>老师上面所说的词法分析阶段字符串k识别成“列k”，这里识别过程没有对应列k，会跳过而不报错么？能否说下具体识别流程呢，谢谢。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/52/24/bd63c4de.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Eason Tai</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">原文: <br>MySQL 从你输入的"select"这个关键字识别出来，这是一个查询语句。它也要把字符串“T”识别成“表名 T”，把字符串“ID”识别成“列 ID”。<br><br>如果，换成问题，需要把K识别成 列K，如果没有 列K 就直接报错了。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/f0/40068574.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Lynn</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">mysql.user 表中是没有这个用户的，为什么显示 unauthenticated user呢？</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>daka</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">答案应该是语法分析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/cd/24/76b56b0b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>S@Y@M</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">查询视图时，会锁定创建视图的相关表吗？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 普通select不会，后面关注事务这一讲，会讲到🤝</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/1b/6e/1bc87ac8.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lhs</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/f0/40068574.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Lynn</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">| 55584 | unauthenticated user | 172.16.8.112:33078 | NULL      | Connect |    0 | Receiving from client      | NULL             |<br><br>老师你好，我本地测试表中没有匿名用户这里为什么状态显示未验证的呢，不是在连接层已经验证好用户名密码是否正确，才允许这个线程连接进来，那为什么会是unauthenticated user 呢？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 这个是验证完了，结果就是这个连接是 unauthenticated …</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/5b/bc/c3bcd529.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>开开心心</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/4b/b8/acce27d6.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>7c</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">请教下老师，如果现在从零开始学 MySQL，有什么书可以推荐嘛？还是直接看官方文档？看 8.0 版本还是 5.7 版本的参考手册呢？或者跟着这个专栏学习就可以了？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 如果从头开始，不建议现在就直接看文档，文档很多，看了完后面前面差不多忘光了…先从使用和操作开始</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/17/ab/c0235b70.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>遥遥无妻</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">麻烦问下，第一步连接器的时候会进行权限验证，连接器会到权限表里面查出你拥有的权限。之后，这个连接里面的权限逻辑判断，都依赖于此时读到的权限。但是在执行器在执行的时候又会判断对这个表是不是有权限执行查询。连接器那一步拿到的权限是什么，代表当前用户能看到那些表还是怎么？执行器对权限进行判断的时候，也是从第一步中的权限表中获取到是否能执行这次查询有没有权限？这两步的权限有什么不同？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 连接器从系统取（这里面涉及到读表，涉及到逻辑操作）结果存在内存变量里面。 执行器使用这个变量</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>qpm</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器是打开表，但不一定需要打开表才能知道表结构。<br>表结构是存储在information_schema的，我想在MySQL的定义里，数据读写有权限，结构的信息并没有那么保密。<br>在优化器里，MySQL Server 层会根据表结构的信息来对SQL语句进行优化，这里是最有可能判断出字段是否存在，并报错。我觉得思考题答案应该是优化器，而不需要是执行器。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>坏淡一个</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">“对于有索引的表，调用满足条件的第一行这个接口，之后循环取满足条件的下一行这个接口，接口都是引擎中定义好的。”这句话，没想明白这个逻辑，执行器需要告诉引擎什么吗？不然引擎怎么知道查询条件有没有用到索引？对于里面提到的接口，能再详细解释一下吗？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯… 这个展开有点多。我们接下来有两篇基础篇会讲到索引。看完那两篇我们再来讨论。这里简单说下就是，优化器会找引擎要到索引的信息，然后决定使用什么接口</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>坏淡一个</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">“调用innodb接口取这个表的第一行，判断ID值是不是10，如果不是则跳过，如果是则将这行存在结果集中。”这句话中的“判断ID值是不是10”，是执行器判断的？还是存储引擎判断的？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 执行器</p></div></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>坏淡一个</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">首先排除掉连接器和查询缓存，优化器要决定用哪个索引，以及多表关联的时候，决定各个表的连接顺序，那么肯定要用到where后面的条件，不然怎么判断优化？所以要在这个阶段或这个阶段之前检查列，执行器就可以排除，分析器、优化器都有可能，表结构是提前定义好的，我觉得在分析器阶段就可以完成，优化器只负责优化好了，没必要多个判断列是否存在的功能</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/12/b9/aab42878.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>风中追风</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">数据库连接池的作用是不是跟mysql服务器建立多个长连接，sql命令在这些固定的连接上进行？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是的，用完放回池子里，给别的业务线程复用，变短链为长链</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/56/8c/a8317e23.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>磊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">检查表中列是否存在，应该是在执行器的时候。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/85/a9/d31b7f43.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Alex</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器，分析器主要分析语法吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Joker</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析器阶段词法分析时报错的</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/1e/0c/dee72260.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>ken</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">语法解析式中，这个阶段就能解析表名和列明了</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/92/01/c723d180.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>饼子</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器，按照正常逻辑，会层层过滤，在最终执行的时候应该是一个准确的sql语句！如果将表字段丢给执行器判断，这样会对执行器带来太多压力。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/c9/75/62ce2d69.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>公号：猿人谷</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6NXib2NGaTAAEe2KCcibH2FiafOOD73kQdcuAMGrnRib5CDWXum0SWDOM9NnWicbUsDpghmxEmJtpk9w/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>tchz</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">有个笔误，优化器那里，先从表t2取出d=20的记录的ID</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是，已经更新了，赞你看得细致😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Michael</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">老师是否会将 MySQL 查询计划 explain，以便我们自己在分析SQL的时候能够做得更好 </div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 后面有文章会讲到explain 结果的表示的意思</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/54/ce/ed58c82d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>为你而来</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">回答问题:<br>在分析器中执行的，因为分析器中的词法分析会识别语句中的词是否是表中的列。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ea/75/6644f028.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>蚂蚁小黑</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/eb/1e/ddc1b53d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>孙彦奎</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">个人认为：<br>1，mysql在分析器时，做的是语法分析。<br>2，在分析器之后，还有个模块（访问控制模块），此模块用于调用存储引擎，打开表，检查相关表、列等权限（在有些书中可能叫预处理器或其他名字，见高可用），这应该叫做语义分析。<br>3，前两步完成后，来到优化器，对sql进行重写，生成执行计划（cbo+rbo）<br></div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/cf/e0/f6819d03.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>鹏飞天下</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">"MySQL执行过程中临时使用的内存是管理在连接对象里面的"，是不是我们建立连接里面使用的内存就是连接中每次查询数据<br>最大量时候占用的内存？？</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 是，之后如果你保持连接的话。 所以如果5.7以上建议用mysql_reset_connection方法</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/de/29/71685b0b.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>BigMortal</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/ce/7b/fa0f9368.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>刘十一</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">理论上应该是从分析器中做判断的，但是分析只是对mysql关键字做校验，其它的表和字段相当于留了个位置，打了个“？”号，具体检查抛出异常还是要在执行器阶段，才会去判断有否有表，是有字段。还有就是权限问题，因为权限也是在执行器这里判断的，所以这个抛异常应该是在执行器检查的。但是同上有疑问，这些基本的检查，包括权限，为什么不在分析器就检查？不是更好吗？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/9a/01/1489f98d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>^_^</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我认为是优化器抛出来的，理由如下：分析器只是对输入的语句做词法和语法的分析，优化器做优化的时候，需要结合分析器的分析结果和表的现状做决策，这个时候应该会去检查表，发现列不存在，就抛错，不往下进行了</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/47/65/cce8eb34.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>nimil</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">感觉是分析器，像mysql这么久经沙场的软件来说，肯定不可能需要打开表这种费时操作才可以确定有哪些列，源码没看过，瞎猜的(⊙o⊙)…</div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 不要担心“瞎猜”，我碰到问题也是按照常理先猜测，然后去验证，这种感觉刚刚好😄</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/8a/9a/7270d764.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Enterprize</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">获益匪浅</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/11/2b/4053b256.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>醉红颜</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">关于文章末所提的错误，应该是在词法分析发生的</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/ee/35/5647c7e5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>市集养猫者</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/bnE6A7diaOmMbOSYnu11Be43QrIUdhWOwgDA73d6vxgzyV8ty7tvYV3ysW2uQPvYyJze2WgjcKDGIRmjzWcc4PQ/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Shadow</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/45/f7/0f9bcf1f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>ServerCoder</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器。理由：文中提到表的权限问题的错误是在执行器的时候反馈的，所以我认为是执行器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/18/34/c082419c.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>风轨</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">语法分析没问题，语句优化索引选择需要查看数据的存储状态，这时候应该就会报错了，报错位置在优化器或优化器之前。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/b8/36/542c96bf.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Mr.Strive....</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">取决于在哪个阶段能够获取到表的列信息。个人觉得应该在分析器阶段，在分析的时候便会判断列名是否存在。同时也是越早发现越好。 并且字段是否存在，表是否存在等一系列问题，肯定会在某个阶段集中校验，这个阶段放在分析器部分，是性价比最高的。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/d9/d3/04f6f64f.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>炀☁️</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是分析器的词法分析阶段，判断列名及列是否存在</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/0c/75/e7c6c403.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>银太@巨益科...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">这里应该在分析器报错，分析器进行此法分析就需要知道对应的表结构</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e8/0f/c4fd1011.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>黑妞</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/e2/cb/6bc95e09.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>喔～</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLjAggFqmebIIJTiajVhEXUpHgAib9wVDWciasicaogCvEeibvPzjkGzc6s488Itt4c397WFyAkkIicjZicA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>橙色星球</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器吧，是不存在字段，所以索引的时候就知道了</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/fd/d6/71e1cc29.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Kaer</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">按照分层职责，分析器只检查语法，优化器只是优化查询路径，执行器才会真正去执行表结构访问。所以我觉得应该是执行器。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/5f/55/8cfeb42e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>普通的一天</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析器阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/1c/cd/a73f419e.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Alexdown</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">##疑问## 在“执行器”小结有如下一段内容：<br>“如果有权限，就打开表继续执行。打开表的时候，【优化器】就会根据表的引擎定义，去使用这个引擎提供的接口。”请问这里是否是【执行器】？<br><br>对于老师的留的作业，我认为是优化器。<br><br></div>  <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 嗯嗯已修正，很细致哦，多谢指出🙏</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/f5/05/d6547381.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>才才</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/0d/ff/d15595f3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>golden.胡</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是优化器阶段，猜的</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/dd/b7/74e81db0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Adonis</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/03/15/293a185d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>JRich</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">一个数据库里可以存在多个存储引擎建立的表吗，server层会做区分吗。</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 可以同时存在，会区分的</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/9d/84/171b2221.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>jeffery</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器吧 语法没问题</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/ca/b8/bcfb6e4a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>xiaoyao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是执行器<br>分析器应该只是对表面的字段进行分析</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Linuxer</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">赞同分析器，语法分析阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/12/25/aa/ced0170d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>杨宝强</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">很期待文章的内容，零基础的我有点担心看不太懂</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>云学</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">听起来行云流水，逻辑清晰，非常好</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/ad/37/abb7bfe3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Allen</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器里，这时才打开表</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/c1/0f/5785bddb.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>鹏程万里</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器，判断有打开权限，打开表之后</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKsiajQ8pZL5Lm9lEVWWECLXF0jTvW2RqiaS8aZCDNiaQG6f6hT3XImzXiakFxT9TELtpOVptt62McMrA/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>moocbaby</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">回答最后的问题，“我给你留一个问题吧，如果表 T 中没有字段 k，而你执行了这个语句 select * from T where k=1, 那肯定是会报“不存在这个列”的错误： “Unknown column ‘k’ in ‘where clause’”。你觉得这个错误是在我们上面提到的哪个阶段报出来的呢？”是分析器么？</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/10/09/27/0c68b5a8.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>fatcat</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f4/84/457952ab.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>非牛不可</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">有个问题想问林大大，您是先写的文案还是先录的语音。。。😂 😂 😂 </div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 你猜😁 </p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/46/48/e959b1e0.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>amazon1011</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是优化器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRVT3U6UOpRAoOOYMm0flMeX4P1VJpSnZBlaBvdW4KhWKr0BunLFlCxibdHc9s6VArA124FpwzRiaw/132" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>guoqp</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">优化器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/ed/b8/16343549.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Y J C...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/e9/61/c205e678.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>江江</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器阶段吧。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>每天晒白牙</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行阶段</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/84/4b/24ac48bb.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>delete is ...</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">分析语句合法的问题应该是在分析器完成的吧</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk2MkUzQjA0QURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MkUzQjAzQURCODExRThBRTUyQzg5RkRENTk1MzAzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Yzc5YTE0Y2UtYjA1Yy00NjkzLWEyZWYtOTFmOGJjNzQxNzY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmFhN2JmYTAyLTMwYTAtNDA4Ny04NzJmLThjMDIzMTYzYWVkYyIvPiA8L3JkZjpEZXNjcmlwdGlv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" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>yang</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">执行器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/93/1a/79b052df.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>Weixiao</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是执行器吧，因为这句话是符合语法的，分析器分析不出啥来，只有真正打开表执行的时候才会发现没有这一列。</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/c0/12/7bf43ce5.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>丶全靠演技丶</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">我猜是执行器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>朱月俊</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">在执行器判断吧。 分析如下:<br>连接器是负责连接以及加权限；<br>分析器是负责将完整的sql语句进行拆解；<br>优化器是负责存在多个索引的时候到底选择哪一个索引，这里最多只有一个索引，优化器在这里没啥用；<br>执行器应该是使用接口时，查询出错，然后提示。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/aa/21/81ee4e60.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>lfn</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">索引是针对表的么？还是字段？</div> <!----> <div class="_2xNIY4NG_0"><p class="_33BLbmw4_0">作者回复: 索引是建在字段（或多个字段）上的，属于表数据的一部分</p></div></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f3/63/c0c4f15d.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>啊油酱</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">emmm 我觉的没有字段k的话会在优化器阶段保存。。首先在分析器时 词法 语法应该都满足 优化器在判断索引时 应该就会查不到这列保错了 。</div>  <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/11/f7/ff/d9e20606.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>恺撒</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">从正文讲述看我猜是优化器</div> <!----> <!----></div></li><li class="reJj6Thl_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/45/1b/abb7bfe3.jpg" class="_2273kGdT_0"> <div class="_2CG0SquK_0"><div class="_304R4gla_0"><div><div class="_18Dng5rT_0"><span>chaosii</span> <!----></div> <div class="_1H1Z49Dr_0">2018-11-14</div></div> <div class="_2eMTs2JE_0"><div class="_2P4B1Hdm_0"><i class="iconfont"></i> <span class=""></span></div> <!----> <!----></div></div> <div class="_3M6kV3zb_0 _3D2NkqD6_0">应该是优化器处理阶段</div> <!----> <!----></div></li></ul></div></div> <!----></div> <!----></div></div> <div class="_2sRsF5RP_0"></div></div><link rel="dns-prefetch" href="//cdn.mathjax.org"><script type="text/x-mathjax-config;executed=true">MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: "none",
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']],
          displayMath: [ ["$$","$$"] ],
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code', 'a']
        }
      });
      MathJax.Hub.Register.MessageHook("End Process", function (message) {
        var eve = new Event('mathjaxfini')
        window.dispatchEvent(eve)
      })</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-103082599-6', 'auto');
      ga('send', 'pageview');</script><script>var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?022f847c4e3acd44d4a2481d9187f1e6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();</script><!----><div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_Math-italic, monospace;"></div></div></body><iframe id="__ToutiaoJSBridgeIframe_SetResult" style="display: none;"></iframe><iframe id="__ToutiaoJSBridgeIframe" style="display: none;"></iframe>